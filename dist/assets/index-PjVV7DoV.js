var wN=Object.defineProperty;var EN=(n,e,t)=>e in n?wN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var sl=(n,e,t)=>EN(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function ay(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function TN(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var o=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:function(){return n[s]}})}),t}var Zp={exports:{}},Mu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox;function SN(){if(ox)return Mu;ox=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var y in o)y!=="key"&&(c[y]=o[y])}else c=o;return o=c.ref,{$$typeof:n,type:s,key:f,ref:o!==void 0?o:null,props:c}}return Mu.Fragment=e,Mu.jsx=t,Mu.jsxs=t,Mu}var lx;function NN(){return lx||(lx=1,Zp.exports=SN()),Zp.exports}var d=NN(),Kp={exports:{}},Je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cx;function AN(){if(cx)return Je;cx=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),N=Symbol.iterator;function R(k){return k===null||typeof k!="object"?null:(k=N&&k[N]||k["@@iterator"],typeof k=="function"?k:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,F={};function z(k,ue,xe){this.props=k,this.context=ue,this.refs=F,this.updater=xe||P}z.prototype.isReactComponent={},z.prototype.setState=function(k,ue){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ue,"setState")},z.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ce(){}ce.prototype=z.prototype;function $(k,ue,xe){this.props=k,this.context=ue,this.refs=F,this.updater=xe||P}var W=$.prototype=new ce;W.constructor=$,O(W,z.prototype),W.isPureReactComponent=!0;var we=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},Ee=Object.prototype.hasOwnProperty;function Z(k,ue,xe,be,Te,Ce){return xe=Ce.ref,{$$typeof:n,type:k,key:ue,ref:xe!==void 0?xe:null,props:Ce}}function V(k,ue){return Z(k.type,ue,void 0,void 0,void 0,k.props)}function U(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function K(k){var ue={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(xe){return ue[xe]})}var B=/\/+/g;function M(k,ue){return typeof k=="object"&&k!==null&&k.key!=null?K(""+k.key):ue.toString(36)}function D(){}function de(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(D,D):(k.status="pending",k.then(function(ue){k.status==="pending"&&(k.status="fulfilled",k.value=ue)},function(ue){k.status==="pending"&&(k.status="rejected",k.reason=ue)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Ae(k,ue,xe,be,Te){var Ce=typeof k;(Ce==="undefined"||Ce==="boolean")&&(k=null);var Ne=!1;if(k===null)Ne=!0;else switch(Ce){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(k.$$typeof){case n:case e:Ne=!0;break;case w:return Ne=k._init,Ae(Ne(k._payload),ue,xe,be,Te)}}if(Ne)return Te=Te(k),Ne=be===""?"."+M(k,0):be,we(Te)?(xe="",Ne!=null&&(xe=Ne.replace(B,"$&/")+"/"),Ae(Te,ue,xe,"",function(si){return si})):Te!=null&&(U(Te)&&(Te=V(Te,xe+(Te.key==null||k&&k.key===Te.key?"":(""+Te.key).replace(B,"$&/")+"/")+Ne)),ue.push(Te)),1;Ne=0;var Nt=be===""?".":be+":";if(we(k))for(var it=0;it<k.length;it++)be=k[it],Ce=Nt+M(be,it),Ne+=Ae(be,ue,xe,Ce,Te);else if(it=R(k),typeof it=="function")for(k=it.call(k),it=0;!(be=k.next()).done;)be=be.value,Ce=Nt+M(be,it++),Ne+=Ae(be,ue,xe,Ce,Te);else if(Ce==="object"){if(typeof k.then=="function")return Ae(de(k),ue,xe,be,Te);throw ue=String(k),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function X(k,ue,xe){if(k==null)return k;var be=[],Te=0;return Ae(k,be,"","",function(Ce){return ue.call(xe,Ce,Te++)}),be}function _e(k){if(k._status===-1){var ue=k._result;ue=ue(),ue.then(function(xe){(k._status===0||k._status===-1)&&(k._status=1,k._result=xe)},function(xe){(k._status===0||k._status===-1)&&(k._status=2,k._result=xe)}),k._status===-1&&(k._status=0,k._result=ue)}if(k._status===1)return k._result.default;throw k._result}var re=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function ke(){}return Je.Children={map:X,forEach:function(k,ue,xe){X(k,function(){ue.apply(this,arguments)},xe)},count:function(k){var ue=0;return X(k,function(){ue++}),ue},toArray:function(k){return X(k,function(ue){return ue})||[]},only:function(k){if(!U(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Je.Component=z,Je.Fragment=t,Je.Profiler=o,Je.PureComponent=$,Je.StrictMode=s,Je.Suspense=v,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Je.__COMPILER_RUNTIME={__proto__:null,c:function(k){return le.H.useMemoCache(k)}},Je.cache=function(k){return function(){return k.apply(null,arguments)}},Je.cloneElement=function(k,ue,xe){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var be=O({},k.props),Te=k.key,Ce=void 0;if(ue!=null)for(Ne in ue.ref!==void 0&&(Ce=void 0),ue.key!==void 0&&(Te=""+ue.key),ue)!Ee.call(ue,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&ue.ref===void 0||(be[Ne]=ue[Ne]);var Ne=arguments.length-2;if(Ne===1)be.children=xe;else if(1<Ne){for(var Nt=Array(Ne),it=0;it<Ne;it++)Nt[it]=arguments[it+2];be.children=Nt}return Z(k.type,Te,void 0,void 0,Ce,be)},Je.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},Je.createElement=function(k,ue,xe){var be,Te={},Ce=null;if(ue!=null)for(be in ue.key!==void 0&&(Ce=""+ue.key),ue)Ee.call(ue,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(Te[be]=ue[be]);var Ne=arguments.length-2;if(Ne===1)Te.children=xe;else if(1<Ne){for(var Nt=Array(Ne),it=0;it<Ne;it++)Nt[it]=arguments[it+2];Te.children=Nt}if(k&&k.defaultProps)for(be in Ne=k.defaultProps,Ne)Te[be]===void 0&&(Te[be]=Ne[be]);return Z(k,Ce,void 0,void 0,null,Te)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(k){return{$$typeof:y,render:k}},Je.isValidElement=U,Je.lazy=function(k){return{$$typeof:w,_payload:{_status:-1,_result:k},_init:_e}},Je.memo=function(k,ue){return{$$typeof:x,type:k,compare:ue===void 0?null:ue}},Je.startTransition=function(k){var ue=le.T,xe={};le.T=xe;try{var be=k(),Te=le.S;Te!==null&&Te(xe,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(ke,re)}catch(Ce){re(Ce)}finally{le.T=ue}},Je.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Je.use=function(k){return le.H.use(k)},Je.useActionState=function(k,ue,xe){return le.H.useActionState(k,ue,xe)},Je.useCallback=function(k,ue){return le.H.useCallback(k,ue)},Je.useContext=function(k){return le.H.useContext(k)},Je.useDebugValue=function(){},Je.useDeferredValue=function(k,ue){return le.H.useDeferredValue(k,ue)},Je.useEffect=function(k,ue,xe){var be=le.H;if(typeof xe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return be.useEffect(k,ue)},Je.useId=function(){return le.H.useId()},Je.useImperativeHandle=function(k,ue,xe){return le.H.useImperativeHandle(k,ue,xe)},Je.useInsertionEffect=function(k,ue){return le.H.useInsertionEffect(k,ue)},Je.useLayoutEffect=function(k,ue){return le.H.useLayoutEffect(k,ue)},Je.useMemo=function(k,ue){return le.H.useMemo(k,ue)},Je.useOptimistic=function(k,ue){return le.H.useOptimistic(k,ue)},Je.useReducer=function(k,ue,xe){return le.H.useReducer(k,ue,xe)},Je.useRef=function(k){return le.H.useRef(k)},Je.useState=function(k){return le.H.useState(k)},Je.useSyncExternalStore=function(k,ue,xe){return le.H.useSyncExternalStore(k,ue,xe)},Je.useTransition=function(){return le.H.useTransition()},Je.version="19.1.1",Je}var ux;function oy(){return ux||(ux=1,Kp.exports=AN()),Kp.exports}var H=oy();const na=ay(H);var Yp={exports:{}},Du={},Wp={exports:{}},Qp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hx;function RN(){return hx||(hx=1,(function(n){function e(X,_e){var re=X.length;X.push(_e);e:for(;0<re;){var ke=re-1>>>1,k=X[ke];if(0<o(k,_e))X[ke]=_e,X[re]=k,re=ke;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var _e=X[0],re=X.pop();if(re!==_e){X[0]=re;e:for(var ke=0,k=X.length,ue=k>>>1;ke<ue;){var xe=2*(ke+1)-1,be=X[xe],Te=xe+1,Ce=X[Te];if(0>o(be,re))Te<k&&0>o(Ce,be)?(X[ke]=Ce,X[Te]=re,ke=Te):(X[ke]=be,X[xe]=re,ke=xe);else if(Te<k&&0>o(Ce,re))X[ke]=Ce,X[Te]=re,ke=Te;else break e}}return _e}function o(X,_e){var re=X.sortIndex-_e.sortIndex;return re!==0?re:X.id-_e.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var f=Date,y=f.now();n.unstable_now=function(){return f.now()-y}}var v=[],x=[],w=1,N=null,R=3,P=!1,O=!1,F=!1,z=!1,ce=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function we(X){for(var _e=t(x);_e!==null;){if(_e.callback===null)s(x);else if(_e.startTime<=X)s(x),_e.sortIndex=_e.expirationTime,e(v,_e);else break;_e=t(x)}}function le(X){if(F=!1,we(X),!O)if(t(v)!==null)O=!0,Ee||(Ee=!0,M());else{var _e=t(x);_e!==null&&Ae(le,_e.startTime-X)}}var Ee=!1,Z=-1,V=5,U=-1;function K(){return z?!0:!(n.unstable_now()-U<V)}function B(){if(z=!1,Ee){var X=n.unstable_now();U=X;var _e=!0;try{e:{O=!1,F&&(F=!1,$(Z),Z=-1),P=!0;var re=R;try{t:{for(we(X),N=t(v);N!==null&&!(N.expirationTime>X&&K());){var ke=N.callback;if(typeof ke=="function"){N.callback=null,R=N.priorityLevel;var k=ke(N.expirationTime<=X);if(X=n.unstable_now(),typeof k=="function"){N.callback=k,we(X),_e=!0;break t}N===t(v)&&s(v),we(X)}else s(v);N=t(v)}if(N!==null)_e=!0;else{var ue=t(x);ue!==null&&Ae(le,ue.startTime-X),_e=!1}}break e}finally{N=null,R=re,P=!1}_e=void 0}}finally{_e?M():Ee=!1}}}var M;if(typeof W=="function")M=function(){W(B)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,de=D.port2;D.port1.onmessage=B,M=function(){de.postMessage(null)}}else M=function(){ce(B,0)};function Ae(X,_e){Z=ce(function(){X(n.unstable_now())},_e)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return R},n.unstable_next=function(X){switch(R){case 1:case 2:case 3:var _e=3;break;default:_e=R}var re=R;R=_e;try{return X()}finally{R=re}},n.unstable_requestPaint=function(){z=!0},n.unstable_runWithPriority=function(X,_e){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var re=R;R=X;try{return _e()}finally{R=re}},n.unstable_scheduleCallback=function(X,_e,re){var ke=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ke+re:ke):re=ke,X){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=re+k,X={id:w++,callback:_e,priorityLevel:X,startTime:re,expirationTime:k,sortIndex:-1},re>ke?(X.sortIndex=re,e(x,X),t(v)===null&&X===t(x)&&(F?($(Z),Z=-1):F=!0,Ae(le,re-ke))):(X.sortIndex=k,e(v,X),O||P||(O=!0,Ee||(Ee=!0,M()))),X},n.unstable_shouldYield=K,n.unstable_wrapCallback=function(X){var _e=R;return function(){var re=R;R=_e;try{return X.apply(this,arguments)}finally{R=re}}}})(Qp)),Qp}var dx;function CN(){return dx||(dx=1,Wp.exports=RN()),Wp.exports}var Xp={exports:{}},Ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx;function IN(){if(fx)return Ln;fx=1;var n=oy();function e(v){var x="https://react.dev/errors/"+v;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)x+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+v+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,x,w){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:N==null?null:""+N,children:v,containerInfo:x,implementation:w}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,x){if(v==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ln.createPortal=function(v,x){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(e(299));return c(v,x,null,w)},Ln.flushSync=function(v){var x=f.T,w=s.p;try{if(f.T=null,s.p=2,v)return v()}finally{f.T=x,s.p=w,s.d.f()}},Ln.preconnect=function(v,x){typeof v=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,s.d.C(v,x))},Ln.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Ln.preinit=function(v,x){if(typeof v=="string"&&x&&typeof x.as=="string"){var w=x.as,N=y(w,x.crossOrigin),R=typeof x.integrity=="string"?x.integrity:void 0,P=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;w==="style"?s.d.S(v,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:N,integrity:R,fetchPriority:P}):w==="script"&&s.d.X(v,{crossOrigin:N,integrity:R,fetchPriority:P,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Ln.preinitModule=function(v,x){if(typeof v=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var w=y(x.as,x.crossOrigin);s.d.M(v,{crossOrigin:w,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&s.d.M(v)},Ln.preload=function(v,x){if(typeof v=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var w=x.as,N=y(w,x.crossOrigin);s.d.L(v,w,{crossOrigin:N,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Ln.preloadModule=function(v,x){if(typeof v=="string")if(x){var w=y(x.as,x.crossOrigin);s.d.m(v,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:w,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else s.d.m(v)},Ln.requestFormReset=function(v){s.d.r(v)},Ln.unstable_batchedUpdates=function(v,x){return v(x)},Ln.useFormState=function(v,x,w){return f.H.useFormState(v,x,w)},Ln.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ln.version="19.1.1",Ln}var mx;function Iw(){if(mx)return Xp.exports;mx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Xp.exports=IN(),Xp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var px;function jN(){if(px)return Du;px=1;var n=CN(),e=oy(),t=Iw();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function c(i){var r=i,l=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(l=r.return),i=r.return;while(i)}return r.tag===3?l:null}function f(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function y(i){if(c(i)!==i)throw Error(s(188))}function v(i){var r=i.alternate;if(!r){if(r=c(i),r===null)throw Error(s(188));return r!==i?null:i}for(var l=i,h=r;;){var g=l.return;if(g===null)break;var _=g.alternate;if(_===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===l)return y(g),i;if(_===h)return y(g),r;_=_.sibling}throw Error(s(188))}if(l.return!==h.return)l=g,h=_;else{for(var A=!1,I=g.child;I;){if(I===l){A=!0,l=g,h=_;break}if(I===h){A=!0,h=g,l=_;break}I=I.sibling}if(!A){for(I=_.child;I;){if(I===l){A=!0,l=_,h=g;break}if(I===h){A=!0,h=_,l=g;break}I=I.sibling}if(!A)throw Error(s(189))}}if(l.alternate!==h)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?i:r}function x(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=x(i),r!==null)return r;i=i.sibling}return null}var w=Object.assign,N=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),ce=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),W=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function M(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function de(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case z:return"Profiler";case F:return"StrictMode";case le:return"Suspense";case Ee:return"SuspenseList";case U:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case P:return"Portal";case W:return(i.displayName||"Context")+".Provider";case $:return(i._context.displayName||"Context")+".Consumer";case we:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Z:return r=i.displayName||null,r!==null?r:de(i.type)||"Memo";case V:r=i._payload,i=i._init;try{return de(i(r))}catch{}}return null}var Ae=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ke=[],k=-1;function ue(i){return{current:i}}function xe(i){0>k||(i.current=ke[k],ke[k]=null,k--)}function be(i,r){k++,ke[k]=i.current,i.current=r}var Te=ue(null),Ce=ue(null),Ne=ue(null),Nt=ue(null);function it(i,r){switch(be(Ne,r),be(Ce,i),be(Te,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?D0(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=D0(r),i=k0(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}xe(Te),be(Te,i)}function si(){xe(Te),xe(Ce),xe(Ne)}function vr(i){i.memoizedState!==null&&be(Nt,i);var r=Te.current,l=k0(r,i.type);r!==l&&(be(Ce,i),be(Te,l))}function ks(i){Ce.current===i&&(xe(Te),xe(Ce)),Nt.current===i&&(xe(Nt),Cu._currentValue=re)}var Hi=Object.prototype.hasOwnProperty,cs=n.unstable_scheduleCallback,fa=n.unstable_cancelCallback,Rl=n.unstable_shouldYield,ma=n.unstable_requestPaint,fn=n.unstable_now,xr=n.unstable_getCurrentPriorityLevel,Zt=n.unstable_ImmediatePriority,Kt=n.unstable_UserBlockingPriority,wi=n.unstable_NormalPriority,Cl=n.unstable_LowPriority,pa=n.unstable_IdlePriority,$c=n.log,br=n.unstable_setDisableYieldValue,Fi=null,rn=null;function Fn(i){if(typeof $c=="function"&&br(i),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(Fi,i)}catch{}}var Nn=Math.clz32?Math.clz32:jl,Il=Math.log,Ro=Math.LN2;function jl(i){return i>>>=0,i===0?32:31-(Il(i)/Ro|0)|0}var Ei=256,qi=4194304;function ri(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ai(i,r,l){var h=i.pendingLanes;if(h===0)return 0;var g=0,_=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var I=h&134217727;return I!==0?(h=I&~_,h!==0?g=ri(h):(A&=I,A!==0?g=ri(A):l||(l=I&~i,l!==0&&(g=ri(l))))):(I=h&~_,I!==0?g=ri(I):A!==0?g=ri(A):l||(l=h&~i,l!==0&&(g=ri(l)))),g===0?0:r!==0&&r!==g&&(r&_)===0&&(_=g&-g,l=r&-r,_>=l||_===32&&(l&4194048)!==0)?r:g}function oi(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function ga(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Co(){var i=Ei;return Ei<<=1,(Ei&4194048)===0&&(Ei=256),i}function us(){var i=qi;return qi<<=1,(qi&62914560)===0&&(qi=4194304),i}function wr(i){for(var r=[],l=0;31>l;l++)r.push(i);return r}function Mt(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ol(i,r,l,h,g,_){var A=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var I=i.entanglements,G=i.expirationTimes,ne=i.hiddenUpdates;for(l=A&~l;0<l;){var fe=31-Nn(l),ge=1<<fe;I[fe]=0,G[fe]=-1;var ie=ne[fe];if(ie!==null)for(ne[fe]=null,fe=0;fe<ie.length;fe++){var ae=ie[fe];ae!==null&&(ae.lane&=-536870913)}l&=~ge}h!==0&&Ls(i,h,0),_!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=_&~(A&~r))}function Ls(i,r,l){i.pendingLanes|=r,i.suspendedLanes&=~r;var h=31-Nn(r);i.entangledLanes|=r,i.entanglements[h]=i.entanglements[h]|1073741824|l&4194090}function Vs(i,r){var l=i.entangledLanes|=r;for(i=i.entanglements;l;){var h=31-Nn(l),g=1<<h;g&r|i[h]&r&&(i[h]|=r),l&=~g}}function Io(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function jo(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function hs(){var i=_e.p;return i!==0?i:(i=window.event,i===void 0?32:tx(i.type))}function Oo(i,r){var l=_e.p;try{return _e.p=i,r()}finally{_e.p=l}}var Gi=Math.random().toString(36).slice(2),Ut="__reactFiber$"+Gi,an="__reactProps$"+Gi,ds="__reactContainer$"+Gi,mn="__reactEvents$"+Gi,Me="__reactListeners$"+Gi,Pl="__reactHandles$"+Gi,li="__reactResources$"+Gi,fs="__reactMarker$"+Gi;function Er(i){delete i[Ut],delete i[an],delete i[mn],delete i[Me],delete i[Pl]}function ci(i){var r=i[Ut];if(r)return r;for(var l=i.parentNode;l;){if(r=l[ds]||l[Ut]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(i=z0(i);i!==null;){if(l=i[Ut])return l;i=z0(i)}return r}i=l,l=i.parentNode}return null}function Ti(i){if(i=i[Ut]||i[ds]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function qn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function ms(i){var r=i[li];return r||(r=i[li]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function zt(i){i[fs]=!0}var Ml=new Set,Tr={};function $i(i,r){Si(i,r),Si(i+"Capture",r)}function Si(i,r){for(Tr[i]=r,i=0;i<r.length;i++)Ml.add(r[i])}var Sr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gn={},ya={};function Zc(i){return Hi.call(ya,i)?!0:Hi.call(Gn,i)?!1:Sr.test(i)?ya[i]=!0:(Gn[i]=!0,!1)}function Nr(i,r,l){if(Zc(r))if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var h=r.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+l)}}function Ar(i,r,l){if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+l)}}function ui(i,r,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(r,l,""+h)}}var ps,Zi;function Ki(i){if(ps===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);ps=r&&r[1]||"",Zi=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ps+i+Zi}var Rr=!1;function Yi(i,r){if(!i||Rr)return"";Rr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(r){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(ae){var ie=ae}Reflect.construct(i,[],ge)}else{try{ge.call()}catch(ae){ie=ae}i.call(ge.prototype)}}else{try{throw Error()}catch(ae){ie=ae}(ge=i())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(ae){if(ae&&ie&&typeof ae.stack=="string")return[ae.stack,ie.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),A=_[0],I=_[1];if(A&&I){var G=A.split(`
`),ne=I.split(`
`);for(g=h=0;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;for(;g<ne.length&&!ne[g].includes("DetermineComponentFrameRoot");)g++;if(h===G.length||g===ne.length)for(h=G.length-1,g=ne.length-1;1<=h&&0<=g&&G[h]!==ne[g];)g--;for(;1<=h&&0<=g;h--,g--)if(G[h]!==ne[g]){if(h!==1||g!==1)do if(h--,g--,0>g||G[h]!==ne[g]){var fe=`
`+G[h].replace(" at new "," at ");return i.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",i.displayName)),fe}while(1<=h&&0<=g);break}}}finally{Rr=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Ki(l):""}function at(i){switch(i.tag){case 26:case 27:case 5:return Ki(i.type);case 16:return Ki("Lazy");case 13:return Ki("Suspense");case 19:return Ki("SuspenseList");case 0:case 15:return Yi(i.type,!1);case 11:return Yi(i.type.render,!1);case 1:return Yi(i.type,!0);case 31:return Ki("Activity");default:return""}}function ut(i){try{var r="";do r+=at(i),i=i.return;while(i);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function wt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function $n(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function hi(i){var r=$n(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),h=""+i[r];if(!i.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,_=l.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return g.call(this)},set:function(A){h=""+A,_.call(this,A)}}),Object.defineProperty(i,r,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(A){h=""+A},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Wi(i){i._valueTracker||(i._valueTracker=hi(i))}function je(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var l=r.getValue(),h="";return i&&(h=$n(i)?i.checked?"true":"false":i.value),i=h,i!==l?(r.setValue(i),!0):!1}function yt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var gs=/[\n"\\]/g;function Bt(i){return i.replace(gs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function pn(i,r,l,h,g,_,A,I){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),r!=null?A==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+wt(r)):i.value!==""+wt(r)&&(i.value=""+wt(r)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),r!=null?Us(i,A,wt(r)):l!=null?Us(i,A,wt(l)):h!=null&&i.removeAttribute("value"),g==null&&_!=null&&(i.defaultChecked=!!_),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.name=""+wt(I):i.removeAttribute("name")}function Po(i,r,l,h,g,_,A,I){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),r!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||r!=null))return;l=l!=null?""+wt(l):"",r=r!=null?""+wt(r):l,I||r===i.value||(i.value=r),i.defaultValue=r}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=I?i.checked:!!h,i.defaultChecked=!!h,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A)}function Us(i,r,l){r==="number"&&yt(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Pn(i,r,l,h){if(i=i.options,r){r={};for(var g=0;g<l.length;g++)r["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=r.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&h&&(i[l].defaultSelected=!0)}else{for(l=""+wt(l),r=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}r!==null||i[g].disabled||(r=i[g])}r!==null&&(r.selected=!0)}}function jt(i,r,l){if(r!=null&&(r=""+wt(r),r!==i.value&&(i.value=r),l==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=l!=null?""+wt(l):""}function Qi(i,r,l,h){if(r==null){if(h!=null){if(l!=null)throw Error(s(92));if(Ae(h)){if(1<h.length)throw Error(s(93));h=h[0]}l=h}l==null&&(l=""),r=l}l=wt(r),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h)}function gn(i,r){if(r){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=r;return}}i.textContent=r}var Zn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cr(i,r,l){var h=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":h?i.setProperty(r,l):typeof l!="number"||l===0||Zn.has(r)?r==="float"?i.cssFloat=l:i[r]=(""+l).trim():i[r]=l+"px"}function ys(i,r,l){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||r!=null&&r.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in r)h=r[g],r.hasOwnProperty(g)&&l[g]!==h&&Cr(i,g,h)}else for(var _ in r)r.hasOwnProperty(_)&&Cr(i,_,r[_])}function zs(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _a=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ir=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kn(i){return Ir.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var jr=null;function Bs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var _s=null,on=null;function Dl(i){var r=Ti(i);if(r&&(i=r.stateNode)){var l=i[an]||null;e:switch(i=r.stateNode,r.type){case"input":if(pn(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Bt(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var h=l[r];if(h!==i&&h.form===i.form){var g=h[an]||null;if(!g)throw Error(s(90));pn(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<l.length;r++)h=l[r],h.form===i.form&&je(h)}break e;case"textarea":jt(i,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&Pn(i,!!l.multiple,r,!1)}}}var Be=!1;function yn(i,r,l){if(Be)return i(r,l);Be=!0;try{var h=i(r);return h}finally{if(Be=!1,(_s!==null||on!==null)&&(ud(),_s&&(r=_s,i=on,on=_s=null,Dl(r),i)))for(r=0;r<i.length;r++)Dl(i[r])}}function ht(i,r){var l=i.stateNode;if(l===null)return null;var h=l[an]||null;if(h===null)return null;l=h[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(s(231,r,typeof l));return l}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ni=!1;if(_n)try{var Xi={};Object.defineProperty(Xi,"passive",{get:function(){Ni=!0}}),window.addEventListener("test",Xi,Xi),window.removeEventListener("test",Xi,Xi)}catch{Ni=!1}var Mn=null,dt=null,Hs=null;function Fs(){if(Hs)return Hs;var i,r=dt,l=r.length,h,g="value"in Mn?Mn.value:Mn.textContent,_=g.length;for(i=0;i<l&&r[i]===g[i];i++);var A=l-i;for(h=1;h<=A&&r[l-h]===g[_-h];h++);return Hs=g.slice(i,1<h?1-h:void 0)}function Ot(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Yn(){return!0}function va(){return!1}function Gt(i){function r(l,h,g,_,A){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=_,this.target=A,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(l=i[I],this[I]=l?l(_):_[I]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Yn:va,this.isPropagationStopped=va,this}return w(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),r}var vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qs=Gt(vn),vs=w({},vn,{view:0,detail:0}),Or=Gt(vs),Pr,Qe,Ji,ln=w({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ji&&(Ji&&i.type==="mousemove"?(Pr=i.screenX-Ji.screenX,Qe=i.screenY-Ji.screenY):Qe=Pr=0,Ji=i),Pr)},movementY:function(i){return"movementY"in i?i.movementY:Qe}}),Ai=Gt(ln),kl=w({},ln,{dataTransfer:0}),Ll=Gt(kl),xs=w({},vs,{relatedTarget:0}),xa=Gt(xs),Mo=w({},vn,{animationName:0,elapsedTime:0,pseudoElement:0}),Do=Gt(Mo),ko=w({},vn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ba=Gt(ko),wa=w({},vn,{data:0}),Dn=Gt(wa),Vl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},es={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ri={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lo(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Ri[i])?!!r[i]:!1}function Mr(){return Lo}var Ea=w({},vs,{key:function(i){if(i.key){var r=Vl[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Ot(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?es[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mr,charCode:function(i){return i.type==="keypress"?Ot(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ot(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ta=Gt(Ea),xn=w({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sa=Gt(xn),Ul=w({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mr}),Gs=Gt(Ul),m=w({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=Gt(m),S=w({},ln,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),j=Gt(S),ee=w({},vn,{newState:0,oldState:0}),se=Gt(ee),Se=[9,13,27,32],He=_n&&"CompositionEvent"in window,tt=null;_n&&"documentMode"in document&&(tt=document.documentMode);var pt=_n&&"TextEvent"in window&&!tt,Dt=_n&&(!He||tt&&8<tt&&11>=tt),Wn=" ",di=!1;function Qn(i,r){switch(i){case"keyup":return Se.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ci(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ii=!1;function Na(i,r){switch(i){case"compositionend":return Ci(r);case"keypress":return r.which!==32?null:(di=!0,Wn);case"textInput":return i=r.data,i===Wn&&di?null:i;default:return null}}function gm(i,r){if(Ii)return i==="compositionend"||!He&&Qn(i,r)?(i=Fs(),Hs=dt=Mn=null,Ii=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Dt&&r.locale!=="ko"?null:r.data;default:return null}}var ji={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dr(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!ji[i.type]:r==="textarea"}function Rh(i,r,l,h){_s?on?on.push(h):on=[h]:_s=h,r=gd(r,"onChange"),0<r.length&&(l=new qs("onChange","change",null,l,h),i.push({event:l,listeners:r}))}var Xn=null,Vo=null;function Aa(i){I0(i,0)}function zl(i){var r=qn(i);if(je(r))return i}function Ra(i,r){if(i==="change")return r}var Kc=!1;if(_n){var Ca;if(_n){var Yc="oninput"in document;if(!Yc){var bs=document.createElement("div");bs.setAttribute("oninput","return;"),Yc=typeof bs.oninput=="function"}Ca=Yc}else Ca=!1;Kc=Ca&&(!document.documentMode||9<document.documentMode)}function Uo(){Xn&&(Xn.detachEvent("onpropertychange",Ch),Vo=Xn=null)}function Ch(i){if(i.propertyName==="value"&&zl(Vo)){var r=[];Rh(r,Vo,i,Bs(i)),yn(Aa,r)}}function Wc(i,r,l){i==="focusin"?(Uo(),Xn=r,Vo=l,Xn.attachEvent("onpropertychange",Ch)):i==="focusout"&&Uo()}function ym(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return zl(Vo)}function ws(i,r){if(i==="click")return zl(r)}function _m(i,r){if(i==="input"||i==="change")return zl(r)}function Ia(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Jn=typeof Object.is=="function"?Object.is:Ia;function ei(i,r){if(Jn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var l=Object.keys(i),h=Object.keys(r);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!Hi.call(r,g)||!Jn(i[g],r[g]))return!1}return!0}function zo(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Qc(i,r){var l=zo(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=r&&h>=r)return{node:l,offset:r-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=zo(l)}}function Bl(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Bl(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Bo(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=yt(i.document);r instanceof i.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)i=r.contentWindow;else break;r=yt(i.document)}return r}function Ho(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var Hl=_n&&"documentMode"in document&&11>=document.documentMode,Oi=null,ja=null,kr=null,Fl=!1;function Ih(i,r,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Fl||Oi==null||Oi!==yt(h)||(h=Oi,"selectionStart"in h&&Ho(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),kr&&ei(kr,h)||(kr=h,h=gd(ja,"onSelect"),0<h.length&&(r=new qs("onSelect","select",null,r,l),i.push({event:r,listeners:h}),r.target=Oi)))}function ts(i,r){var l={};return l[i.toLowerCase()]=r.toLowerCase(),l["Webkit"+i]="webkit"+r,l["Moz"+i]="moz"+r,l}var Oa={animationend:ts("Animation","AnimationEnd"),animationiteration:ts("Animation","AnimationIteration"),animationstart:ts("Animation","AnimationStart"),transitionrun:ts("Transition","TransitionRun"),transitionstart:ts("Transition","TransitionStart"),transitioncancel:ts("Transition","TransitionCancel"),transitionend:ts("Transition","TransitionEnd")},ql={},jh={};_n&&(jh=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function $s(i){if(ql[i])return ql[i];if(!Oa[i])return i;var r=Oa[i],l;for(l in r)if(r.hasOwnProperty(l)&&l in jh)return ql[i]=r[l];return i}var Oh=$s("animationend"),Pi=$s("animationiteration"),Fo=$s("animationstart"),vm=$s("transitionrun"),Gl=$s("transitionstart"),xm=$s("transitioncancel"),Xc=$s("transitionend"),Ph=new Map,Lr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lr.push("scrollEnd");function Mi(i,r){Ph.set(i,r),$i(r,[i])}var Vr=new WeakMap;function ti(i,r){if(typeof i=="object"&&i!==null){var l=Vr.get(i);return l!==void 0?l:(r={value:i,source:r,stack:ut(r)},Vr.set(i,r),r)}return{value:i,source:r,stack:ut(r)}}var ni=[],Pa=0,Di=0;function qo(){for(var i=Pa,r=Di=Pa=0;r<i;){var l=ni[r];ni[r++]=null;var h=ni[r];ni[r++]=null;var g=ni[r];ni[r++]=null;var _=ni[r];if(ni[r++]=null,h!==null&&g!==null){var A=h.pending;A===null?g.next=g:(g.next=A.next,A.next=g),h.pending=g}_!==0&&$o(l,g,_)}}function Go(i,r,l,h){ni[Pa++]=i,ni[Pa++]=r,ni[Pa++]=l,ni[Pa++]=h,Di|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Ur(i,r,l,h){return Go(i,r,l,h),Zs(i)}function Ma(i,r){return Go(i,null,null,r),Zs(i)}function $o(i,r,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var g=!1,_=i.return;_!==null;)_.childLanes|=l,h=_.alternate,h!==null&&(h.childLanes|=l),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(g=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,g&&r!==null&&(g=31-Nn(l),i=_.hiddenUpdates,h=i[g],h===null?i[g]=[r]:h.push(r),r.lane=l|536870912),_):null}function Zs(i){if(50<bu)throw bu=0,yp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var zr={};function Mh(i,r,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(i,r,l,h){return new Mh(i,r,l,h)}function $l(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ns(i,r){var l=i.alternate;return l===null?(l=ii(i.tag,r,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=r,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,r=i.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Jc(i,r){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,r=l.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Zo(i,r,l,h,g,_){var A=0;if(h=i,typeof i=="function")$l(i)&&(A=1);else if(typeof i=="string")A=cN(i,l,Te.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case U:return i=ii(31,l,r,g),i.elementType=U,i.lanes=_,i;case O:return Ks(l.children,g,_,r);case F:A=8,g|=24;break;case z:return i=ii(12,l,r,g|2),i.elementType=z,i.lanes=_,i;case le:return i=ii(13,l,r,g),i.elementType=le,i.lanes=_,i;case Ee:return i=ii(19,l,r,g),i.elementType=Ee,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ce:case W:A=10;break e;case $:A=9;break e;case we:A=11;break e;case Z:A=14;break e;case V:A=16,h=null;break e}A=29,l=Error(s(130,i===null?"null":typeof i,"")),h=null}return r=ii(A,l,r,g),r.elementType=i,r.type=h,r.lanes=_,r}function Ks(i,r,l,h){return i=ii(7,i,h,r),i.lanes=l,i}function eu(i,r,l){return i=ii(6,i,null,r),i.lanes=l,i}function Zl(i,r,l){return r=ii(4,i.children!==null?i.children:[],i.key,r),r.lanes=l,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Br=[],Da=0,a=null,u=0,p=[],b=0,T=null,C=1,q="";function J(i,r){Br[Da++]=u,Br[Da++]=a,a=i,u=r}function oe(i,r,l){p[b++]=C,p[b++]=q,p[b++]=T,T=i;var h=C;i=q;var g=32-Nn(h)-1;h&=~(1<<g),l+=1;var _=32-Nn(r)+g;if(30<_){var A=g-g%5;_=(h&(1<<A)-1).toString(32),h>>=A,g-=A,C=1<<32-Nn(r)+g|l<<g|h,q=_+i}else C=1<<_|l<<g|h,q=i}function ve(i){i.return!==null&&(J(i,1),oe(i,1,0))}function Re(i){for(;i===a;)a=Br[--Da],Br[Da]=null,u=Br[--Da],Br[Da]=null;for(;i===T;)T=p[--b],p[b]=null,q=p[--b],p[b]=null,C=p[--b],p[b]=null}var Pe=null,Le=null,$e=!1,Rt=null,Ht=!1,bn=Error(s(519));function fi(i){var r=Error(s(418,""));throw La(ti(r,i)),bn}function Dh(i){var r=i.stateNode,l=i.type,h=i.memoizedProps;switch(r[Ut]=i,r[an]=h,l){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(l=0;l<Eu.length;l++)rt(Eu[l],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":rt("invalid",r),Po(r,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Wi(r);break;case"select":rt("invalid",r);break;case"textarea":rt("invalid",r),Qi(r,h.value,h.defaultValue,h.children),Wi(r)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||h.suppressHydrationWarning===!0||M0(r.textContent,l)?(h.popover!=null&&(rt("beforetoggle",r),rt("toggle",r)),h.onScroll!=null&&rt("scroll",r),h.onScrollEnd!=null&&rt("scrollend",r),h.onClick!=null&&(r.onclick=yd),r=!0):r=!1,r||fi(i)}function kh(i){for(Pe=i.return;Pe;)switch(Pe.tag){case 5:case 13:Ht=!1;return;case 27:case 3:Ht=!0;return;default:Pe=Pe.return}}function Ko(i){if(i!==Pe)return!1;if(!$e)return kh(i),$e=!0,!1;var r=i.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Pp(i.type,i.memoizedProps)),l=!l),l&&Le&&fi(i),kh(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(r===0){Le=Ns(i.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;i=i.nextSibling}Le=null}}else r===27?(r=Le,Xa(i.type)?(i=Lp,Lp=null,Le=i):Le=r):Le=Pe?Ns(i.stateNode.nextSibling):null;return!0}function ka(){Le=Pe=null,$e=!1}function Lh(){var i=Rt;return i!==null&&(gi===null?gi=i:gi.push.apply(gi,i),Rt=null),i}function La(i){Rt===null?Rt=[i]:Rt.push(i)}var kt=ue(null),is=null,Es=null;function Ys(i,r,l){be(kt,r._currentValue),r._currentValue=l}function Ts(i){i._currentValue=kt.current,xe(kt)}function Yo(i,r,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,h!==null&&(h.childLanes|=r)):h!==null&&(h.childLanes&r)!==r&&(h.childLanes|=r),i===l)break;i=i.return}}function Kl(i,r,l,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var _=g.dependencies;if(_!==null){var A=g.child;_=_.firstContext;e:for(;_!==null;){var I=_;_=g;for(var G=0;G<r.length;G++)if(I.context===r[G]){_.lanes|=l,I=_.alternate,I!==null&&(I.lanes|=l),Yo(_.return,l,i),h||(A=null);break e}_=I.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(s(341));A.lanes|=l,_=A.alternate,_!==null&&(_.lanes|=l),Yo(A,l,i),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===i){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function Wo(i,r,l,h){i=null;for(var g=r,_=!1;g!==null;){if(!_){if((g.flags&524288)!==0)_=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(s(387));if(A=A.memoizedProps,A!==null){var I=g.type;Jn(g.pendingProps.value,A.value)||(i!==null?i.push(I):i=[I])}}else if(g===Nt.current){if(A=g.alternate,A===null)throw Error(s(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Cu):i=[Cu])}g=g.return}i!==null&&Kl(r,i,l,h),r.flags|=262144}function Vh(i){for(i=i.firstContext;i!==null;){if(!Jn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Qo(i){is=i,Es=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function kn(i){return x_(is,i)}function Uh(i,r){return is===null&&Qo(i),x_(i,r)}function x_(i,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Es===null){if(i===null)throw Error(s(308));Es=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Es=Es.next=r;return l}var lS=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){r.aborted=!0,i.forEach(function(l){return l()})}},cS=n.unstable_scheduleCallback,uS=n.unstable_NormalPriority,cn={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bm(){return{controller:new lS,data:new Map,refCount:0}}function tu(i){i.refCount--,i.refCount===0&&cS(uS,function(){i.controller.abort()})}var nu=null,wm=0,Yl=0,Wl=null;function hS(i,r){if(nu===null){var l=nu=[];wm=0,Yl=Tp(),Wl={status:"pending",value:void 0,then:function(h){l.push(h)}}}return wm++,r.then(b_,b_),r}function b_(){if(--wm===0&&nu!==null){Wl!==null&&(Wl.status="fulfilled");var i=nu;nu=null,Yl=0,Wl=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function dS(i,r){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){h.status="fulfilled",h.value=r;for(var g=0;g<l.length;g++)(0,l[g])(r)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var w_=X.S;X.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&hS(i,r),w_!==null&&w_(i,r)};var Xo=ue(null);function Em(){var i=Xo.current;return i!==null?i:Ct.pooledCache}function zh(i,r){r===null?be(Xo,Xo.current):be(Xo,r.pool)}function E_(){var i=Em();return i===null?null:{parent:cn._currentValue,pool:i}}var iu=Error(s(460)),T_=Error(s(474)),Bh=Error(s(542)),Tm={then:function(){}};function S_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Hh(){}function N_(i,r,l){switch(l=i[l],l===void 0?i.push(r):l!==r&&(r.then(Hh,Hh),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,R_(i),i;default:if(typeof r.status=="string")r.then(Hh,Hh);else{if(i=Ct,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(h){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=h}},function(h){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=h}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,R_(i),i}throw su=r,iu}}var su=null;function A_(){if(su===null)throw Error(s(459));var i=su;return su=null,i}function R_(i){if(i===iu||i===Bh)throw Error(s(483))}var Va=!1;function Sm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ua(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function za(i,r,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(vt&2)!==0){var g=h.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),h.pending=r,r=Zs(i),$o(i,null,l),r}return Go(i,h,r,l),Zs(i)}function ru(i,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Vs(i,l)}}function Am(i,r){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?g=_=A:_=_.next=A,l=l.next}while(l!==null);_===null?g=_=r:_=_.next=r}else g=_=r;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=r:i.next=r,l.lastBaseUpdate=r}var Rm=!1;function au(){if(Rm){var i=Wl;if(i!==null)throw i}}function ou(i,r,l,h){Rm=!1;var g=i.updateQueue;Va=!1;var _=g.firstBaseUpdate,A=g.lastBaseUpdate,I=g.shared.pending;if(I!==null){g.shared.pending=null;var G=I,ne=G.next;G.next=null,A===null?_=ne:A.next=ne,A=G;var fe=i.alternate;fe!==null&&(fe=fe.updateQueue,I=fe.lastBaseUpdate,I!==A&&(I===null?fe.firstBaseUpdate=ne:I.next=ne,fe.lastBaseUpdate=G))}if(_!==null){var ge=g.baseState;A=0,fe=ne=G=null,I=_;do{var ie=I.lane&-536870913,ae=ie!==I.lane;if(ae?(ft&ie)===ie:(h&ie)===ie){ie!==0&&ie===Yl&&(Rm=!0),fe!==null&&(fe=fe.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Ge=i,ze=I;ie=r;var St=l;switch(ze.tag){case 1:if(Ge=ze.payload,typeof Ge=="function"){ge=Ge.call(St,ge,ie);break e}ge=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=ze.payload,ie=typeof Ge=="function"?Ge.call(St,ge,ie):Ge,ie==null)break e;ge=w({},ge,ie);break e;case 2:Va=!0}}ie=I.callback,ie!==null&&(i.flags|=64,ae&&(i.flags|=8192),ae=g.callbacks,ae===null?g.callbacks=[ie]:ae.push(ie))}else ae={lane:ie,tag:I.tag,payload:I.payload,callback:I.callback,next:null},fe===null?(ne=fe=ae,G=ge):fe=fe.next=ae,A|=ie;if(I=I.next,I===null){if(I=g.shared.pending,I===null)break;ae=I,I=ae.next,ae.next=null,g.lastBaseUpdate=ae,g.shared.pending=null}}while(!0);fe===null&&(G=ge),g.baseState=G,g.firstBaseUpdate=ne,g.lastBaseUpdate=fe,_===null&&(g.shared.lanes=0),Ka|=A,i.lanes=A,i.memoizedState=ge}}function C_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function I_(i,r){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)C_(l[i],r)}var Ql=ue(null),Fh=ue(0);function j_(i,r){i=Kr,be(Fh,i),be(Ql,r),Kr=i|r.baseLanes}function Cm(){be(Fh,Kr),be(Ql,Ql.current)}function Im(){Kr=Fh.current,xe(Ql),xe(Fh)}var Ba=0,et=null,Et=null,Xt=null,qh=!1,Xl=!1,Jo=!1,Gh=0,lu=0,Jl=null,fS=0;function Yt(){throw Error(s(321))}function jm(i,r){if(r===null)return!1;for(var l=0;l<r.length&&l<i.length;l++)if(!Jn(i[l],r[l]))return!1;return!0}function Om(i,r,l,h,g,_){return Ba=_,et=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=i===null||i.memoizedState===null?mv:pv,Jo=!1,_=l(h,g),Jo=!1,Xl&&(_=P_(r,l,h,g)),O_(i),_}function O_(i){X.H=Qh;var r=Et!==null&&Et.next!==null;if(Ba=0,Xt=Et=et=null,qh=!1,lu=0,Jl=null,r)throw Error(s(300));i===null||wn||(i=i.dependencies,i!==null&&Vh(i)&&(wn=!0))}function P_(i,r,l,h){et=i;var g=0;do{if(Xl&&(Jl=null),lu=0,Xl=!1,25<=g)throw Error(s(301));if(g+=1,Xt=Et=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}X.H=xS,_=r(l,h)}while(Xl);return _}function mS(){var i=X.H,r=i.useState()[0];return r=typeof r.then=="function"?cu(r):r,i=i.useState()[0],(Et!==null?Et.memoizedState:null)!==i&&(et.flags|=1024),r}function Pm(){var i=Gh!==0;return Gh=0,i}function Mm(i,r,l){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~l}function Dm(i){if(qh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}qh=!1}Ba=0,Xt=Et=et=null,Xl=!1,lu=Gh=0,Jl=null}function mi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?et.memoizedState=Xt=i:Xt=Xt.next=i,Xt}function Jt(){if(Et===null){var i=et.alternate;i=i!==null?i.memoizedState:null}else i=Et.next;var r=Xt===null?et.memoizedState:Xt.next;if(r!==null)Xt=r,Et=i;else{if(i===null)throw et.alternate===null?Error(s(467)):Error(s(310));Et=i,i={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Xt===null?et.memoizedState=Xt=i:Xt=Xt.next=i}return Xt}function km(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cu(i){var r=lu;return lu+=1,Jl===null&&(Jl=[]),i=N_(Jl,i,r),r=et,(Xt===null?r.memoizedState:Xt.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?mv:pv),i}function $h(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return cu(i);if(i.$$typeof===W)return kn(i)}throw Error(s(438,String(i)))}function Lm(i){var r=null,l=et.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var h=et.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(r={data:h.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=km(),et.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(i),h=0;h<i;h++)l[h]=K;return r.index++,l}function Hr(i,r){return typeof r=="function"?r(i):r}function Zh(i){var r=Jt();return Vm(r,Et,i)}function Vm(i,r,l){var h=i.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=l;var g=i.baseQueue,_=h.pending;if(_!==null){if(g!==null){var A=g.next;g.next=_.next,_.next=A}r.baseQueue=g=_,h.pending=null}if(_=i.baseState,g===null)i.memoizedState=_;else{r=g.next;var I=A=null,G=null,ne=r,fe=!1;do{var ge=ne.lane&-536870913;if(ge!==ne.lane?(ft&ge)===ge:(Ba&ge)===ge){var ie=ne.revertLane;if(ie===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),ge===Yl&&(fe=!0);else if((Ba&ie)===ie){ne=ne.next,ie===Yl&&(fe=!0);continue}else ge={lane:0,revertLane:ne.revertLane,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},G===null?(I=G=ge,A=_):G=G.next=ge,et.lanes|=ie,Ka|=ie;ge=ne.action,Jo&&l(_,ge),_=ne.hasEagerState?ne.eagerState:l(_,ge)}else ie={lane:ge,revertLane:ne.revertLane,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},G===null?(I=G=ie,A=_):G=G.next=ie,et.lanes|=ge,Ka|=ge;ne=ne.next}while(ne!==null&&ne!==r);if(G===null?A=_:G.next=I,!Jn(_,i.memoizedState)&&(wn=!0,fe&&(l=Wl,l!==null)))throw l;i.memoizedState=_,i.baseState=A,i.baseQueue=G,h.lastRenderedState=_}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Um(i){var r=Jt(),l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var h=l.dispatch,g=l.pending,_=r.memoizedState;if(g!==null){l.pending=null;var A=g=g.next;do _=i(_,A.action),A=A.next;while(A!==g);Jn(_,r.memoizedState)||(wn=!0),r.memoizedState=_,r.baseQueue===null&&(r.baseState=_),l.lastRenderedState=_}return[_,h]}function M_(i,r,l){var h=et,g=Jt(),_=$e;if(_){if(l===void 0)throw Error(s(407));l=l()}else l=r();var A=!Jn((Et||g).memoizedState,l);A&&(g.memoizedState=l,wn=!0),g=g.queue;var I=L_.bind(null,h,g,i);if(uu(2048,8,I,[i]),g.getSnapshot!==r||A||Xt!==null&&Xt.memoizedState.tag&1){if(h.flags|=2048,ec(9,Kh(),k_.bind(null,h,g,l,r),null),Ct===null)throw Error(s(349));_||(Ba&124)!==0||D_(h,r,l)}return l}function D_(i,r,l){i.flags|=16384,i={getSnapshot:r,value:l},r=et.updateQueue,r===null?(r=km(),et.updateQueue=r,r.stores=[i]):(l=r.stores,l===null?r.stores=[i]:l.push(i))}function k_(i,r,l,h){r.value=l,r.getSnapshot=h,V_(r)&&U_(i)}function L_(i,r,l){return l(function(){V_(r)&&U_(i)})}function V_(i){var r=i.getSnapshot;i=i.value;try{var l=r();return!Jn(i,l)}catch{return!0}}function U_(i){var r=Ma(i,2);r!==null&&zi(r,i,2)}function zm(i){var r=mi();if(typeof i=="function"){var l=i;if(i=l(),Jo){Fn(!0);try{l()}finally{Fn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:i},r}function z_(i,r,l,h){return i.baseState=l,Vm(i,Et,typeof h=="function"?h:Hr)}function pS(i,r,l,h,g){if(Wh(i))throw Error(s(485));if(i=r.action,i!==null){var _={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){_.listeners.push(A)}};X.T!==null?l(!0):_.isTransition=!1,h(_),l=r.pending,l===null?(_.next=r.pending=_,B_(r,_)):(_.next=l.next,r.pending=l.next=_)}}function B_(i,r){var l=r.action,h=r.payload,g=i.state;if(r.isTransition){var _=X.T,A={};X.T=A;try{var I=l(g,h),G=X.S;G!==null&&G(A,I),H_(i,r,I)}catch(ne){Bm(i,r,ne)}finally{X.T=_}}else try{_=l(g,h),H_(i,r,_)}catch(ne){Bm(i,r,ne)}}function H_(i,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){F_(i,r,h)},function(h){return Bm(i,r,h)}):F_(i,r,l)}function F_(i,r,l){r.status="fulfilled",r.value=l,q_(r),i.state=l,r=i.pending,r!==null&&(l=r.next,l===r?i.pending=null:(l=l.next,r.next=l,B_(i,l)))}function Bm(i,r,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do r.status="rejected",r.reason=l,q_(r),r=r.next;while(r!==h)}i.action=null}function q_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function G_(i,r){return r}function $_(i,r){if($e){var l=Ct.formState;if(l!==null){e:{var h=et;if($e){if(Le){t:{for(var g=Le,_=Ht;g.nodeType!==8;){if(!_){g=null;break t}if(g=Ns(g.nextSibling),g===null){g=null;break t}}_=g.data,g=_==="F!"||_==="F"?g:null}if(g){Le=Ns(g.nextSibling),h=g.data==="F!";break e}}fi(h)}h=!1}h&&(r=l[0])}}return l=mi(),l.memoizedState=l.baseState=r,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:G_,lastRenderedState:r},l.queue=h,l=hv.bind(null,et,h),h.dispatch=l,h=zm(!1),_=$m.bind(null,et,!1,h.queue),h=mi(),g={state:r,dispatch:null,action:i,pending:null},h.queue=g,l=pS.bind(null,et,g,_,l),g.dispatch=l,h.memoizedState=i,[r,l,!1]}function Z_(i){var r=Jt();return K_(r,Et,i)}function K_(i,r,l){if(r=Vm(i,r,G_)[0],i=Zh(Hr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var h=cu(r)}catch(A){throw A===iu?Bh:A}else h=r;r=Jt();var g=r.queue,_=g.dispatch;return l!==r.memoizedState&&(et.flags|=2048,ec(9,Kh(),gS.bind(null,g,l),null)),[h,_,i]}function gS(i,r){i.action=r}function Y_(i){var r=Jt(),l=Et;if(l!==null)return K_(r,l,i);Jt(),r=r.memoizedState,l=Jt();var h=l.queue.dispatch;return l.memoizedState=i,[r,h,!1]}function ec(i,r,l,h){return i={tag:i,create:l,deps:h,inst:r,next:null},r=et.updateQueue,r===null&&(r=km(),et.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,r.lastEffect=i),i}function Kh(){return{destroy:void 0,resource:void 0}}function W_(){return Jt().memoizedState}function Yh(i,r,l,h){var g=mi();h=h===void 0?null:h,et.flags|=i,g.memoizedState=ec(1|r,Kh(),l,h)}function uu(i,r,l,h){var g=Jt();h=h===void 0?null:h;var _=g.memoizedState.inst;Et!==null&&h!==null&&jm(h,Et.memoizedState.deps)?g.memoizedState=ec(r,_,l,h):(et.flags|=i,g.memoizedState=ec(1|r,_,l,h))}function Q_(i,r){Yh(8390656,8,i,r)}function X_(i,r){uu(2048,8,i,r)}function J_(i,r){return uu(4,2,i,r)}function ev(i,r){return uu(4,4,i,r)}function tv(i,r){if(typeof r=="function"){i=i();var l=r(i);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function nv(i,r,l){l=l!=null?l.concat([i]):null,uu(4,4,tv.bind(null,r,i),l)}function Hm(){}function iv(i,r){var l=Jt();r=r===void 0?null:r;var h=l.memoizedState;return r!==null&&jm(r,h[1])?h[0]:(l.memoizedState=[i,r],i)}function sv(i,r){var l=Jt();r=r===void 0?null:r;var h=l.memoizedState;if(r!==null&&jm(r,h[1]))return h[0];if(h=i(),Jo){Fn(!0);try{i()}finally{Fn(!1)}}return l.memoizedState=[h,r],h}function Fm(i,r,l){return l===void 0||(Ba&1073741824)!==0?i.memoizedState=r:(i.memoizedState=l,i=o0(),et.lanes|=i,Ka|=i,l)}function rv(i,r,l,h){return Jn(l,r)?l:Ql.current!==null?(i=Fm(i,l,h),Jn(i,r)||(wn=!0),i):(Ba&42)===0?(wn=!0,i.memoizedState=l):(i=o0(),et.lanes|=i,Ka|=i,r)}function av(i,r,l,h,g){var _=_e.p;_e.p=_!==0&&8>_?_:8;var A=X.T,I={};X.T=I,$m(i,!1,r,l);try{var G=g(),ne=X.S;if(ne!==null&&ne(I,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var fe=dS(G,h);hu(i,r,fe,Ui(i))}else hu(i,r,h,Ui(i))}catch(ge){hu(i,r,{then:function(){},status:"rejected",reason:ge},Ui())}finally{_e.p=_,X.T=A}}function yS(){}function qm(i,r,l,h){if(i.tag!==5)throw Error(s(476));var g=ov(i).queue;av(i,g,r,re,l===null?yS:function(){return lv(i),l(h)})}function ov(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:re},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:l},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function lv(i){var r=ov(i).next.queue;hu(i,r,{},Ui())}function Gm(){return kn(Cu)}function cv(){return Jt().memoizedState}function uv(){return Jt().memoizedState}function _S(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var l=Ui();i=Ua(l);var h=za(r,i,l);h!==null&&(zi(h,r,l),ru(h,r,l)),r={cache:bm()},i.payload=r;return}r=r.return}}function vS(i,r,l){var h=Ui();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Wh(i)?dv(r,l):(l=Ur(i,r,l,h),l!==null&&(zi(l,i,h),fv(l,r,h)))}function hv(i,r,l){var h=Ui();hu(i,r,l,h)}function hu(i,r,l,h){var g={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Wh(i))dv(r,g);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=r.lastRenderedReducer,_!==null))try{var A=r.lastRenderedState,I=_(A,l);if(g.hasEagerState=!0,g.eagerState=I,Jn(I,A))return Go(i,r,g,0),Ct===null&&qo(),!1}catch{}finally{}if(l=Ur(i,r,g,h),l!==null)return zi(l,i,h),fv(l,r,h),!0}return!1}function $m(i,r,l,h){if(h={lane:2,revertLane:Tp(),action:h,hasEagerState:!1,eagerState:null,next:null},Wh(i)){if(r)throw Error(s(479))}else r=Ur(i,l,h,2),r!==null&&zi(r,i,2)}function Wh(i){var r=i.alternate;return i===et||r!==null&&r===et}function dv(i,r){Xl=qh=!0;var l=i.pending;l===null?r.next=r:(r.next=l.next,l.next=r),i.pending=r}function fv(i,r,l){if((l&4194048)!==0){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Vs(i,l)}}var Qh={readContext:kn,use:$h,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt,useHostTransitionStatus:Yt,useFormState:Yt,useActionState:Yt,useOptimistic:Yt,useMemoCache:Yt,useCacheRefresh:Yt},mv={readContext:kn,use:$h,useCallback:function(i,r){return mi().memoizedState=[i,r===void 0?null:r],i},useContext:kn,useEffect:Q_,useImperativeHandle:function(i,r,l){l=l!=null?l.concat([i]):null,Yh(4194308,4,tv.bind(null,r,i),l)},useLayoutEffect:function(i,r){return Yh(4194308,4,i,r)},useInsertionEffect:function(i,r){Yh(4,2,i,r)},useMemo:function(i,r){var l=mi();r=r===void 0?null:r;var h=i();if(Jo){Fn(!0);try{i()}finally{Fn(!1)}}return l.memoizedState=[h,r],h},useReducer:function(i,r,l){var h=mi();if(l!==void 0){var g=l(r);if(Jo){Fn(!0);try{l(r)}finally{Fn(!1)}}}else g=r;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=vS.bind(null,et,i),[h.memoizedState,i]},useRef:function(i){var r=mi();return i={current:i},r.memoizedState=i},useState:function(i){i=zm(i);var r=i.queue,l=hv.bind(null,et,r);return r.dispatch=l,[i.memoizedState,l]},useDebugValue:Hm,useDeferredValue:function(i,r){var l=mi();return Fm(l,i,r)},useTransition:function(){var i=zm(!1);return i=av.bind(null,et,i.queue,!0,!1),mi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,l){var h=et,g=mi();if($e){if(l===void 0)throw Error(s(407));l=l()}else{if(l=r(),Ct===null)throw Error(s(349));(ft&124)!==0||D_(h,r,l)}g.memoizedState=l;var _={value:l,getSnapshot:r};return g.queue=_,Q_(L_.bind(null,h,_,i),[i]),h.flags|=2048,ec(9,Kh(),k_.bind(null,h,_,l,r),null),l},useId:function(){var i=mi(),r=Ct.identifierPrefix;if($e){var l=q,h=C;l=(h&~(1<<32-Nn(h)-1)).toString(32)+l,r=""+r+"R"+l,l=Gh++,0<l&&(r+="H"+l.toString(32)),r+=""}else l=fS++,r=""+r+"r"+l.toString(32)+"";return i.memoizedState=r},useHostTransitionStatus:Gm,useFormState:$_,useActionState:$_,useOptimistic:function(i){var r=mi();r.memoizedState=r.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=$m.bind(null,et,!0,l),l.dispatch=r,[i,r]},useMemoCache:Lm,useCacheRefresh:function(){return mi().memoizedState=_S.bind(null,et)}},pv={readContext:kn,use:$h,useCallback:iv,useContext:kn,useEffect:X_,useImperativeHandle:nv,useInsertionEffect:J_,useLayoutEffect:ev,useMemo:sv,useReducer:Zh,useRef:W_,useState:function(){return Zh(Hr)},useDebugValue:Hm,useDeferredValue:function(i,r){var l=Jt();return rv(l,Et.memoizedState,i,r)},useTransition:function(){var i=Zh(Hr)[0],r=Jt().memoizedState;return[typeof i=="boolean"?i:cu(i),r]},useSyncExternalStore:M_,useId:cv,useHostTransitionStatus:Gm,useFormState:Z_,useActionState:Z_,useOptimistic:function(i,r){var l=Jt();return z_(l,Et,i,r)},useMemoCache:Lm,useCacheRefresh:uv},xS={readContext:kn,use:$h,useCallback:iv,useContext:kn,useEffect:X_,useImperativeHandle:nv,useInsertionEffect:J_,useLayoutEffect:ev,useMemo:sv,useReducer:Um,useRef:W_,useState:function(){return Um(Hr)},useDebugValue:Hm,useDeferredValue:function(i,r){var l=Jt();return Et===null?Fm(l,i,r):rv(l,Et.memoizedState,i,r)},useTransition:function(){var i=Um(Hr)[0],r=Jt().memoizedState;return[typeof i=="boolean"?i:cu(i),r]},useSyncExternalStore:M_,useId:cv,useHostTransitionStatus:Gm,useFormState:Y_,useActionState:Y_,useOptimistic:function(i,r){var l=Jt();return Et!==null?z_(l,Et,i,r):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Lm,useCacheRefresh:uv},tc=null,du=0;function Xh(i){var r=du;return du+=1,tc===null&&(tc=[]),N_(tc,i,r)}function fu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Jh(i,r){throw r.$$typeof===N?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function gv(i){var r=i._init;return r(i._payload)}function yv(i){function r(Q,Y){if(i){var te=Q.deletions;te===null?(Q.deletions=[Y],Q.flags|=16):te.push(Y)}}function l(Q,Y){if(!i)return null;for(;Y!==null;)r(Q,Y),Y=Y.sibling;return null}function h(Q){for(var Y=new Map;Q!==null;)Q.key!==null?Y.set(Q.key,Q):Y.set(Q.index,Q),Q=Q.sibling;return Y}function g(Q,Y){return Q=ns(Q,Y),Q.index=0,Q.sibling=null,Q}function _(Q,Y,te){return Q.index=te,i?(te=Q.alternate,te!==null?(te=te.index,te<Y?(Q.flags|=67108866,Y):te):(Q.flags|=67108866,Y)):(Q.flags|=1048576,Y)}function A(Q){return i&&Q.alternate===null&&(Q.flags|=67108866),Q}function I(Q,Y,te,me){return Y===null||Y.tag!==6?(Y=eu(te,Q.mode,me),Y.return=Q,Y):(Y=g(Y,te),Y.return=Q,Y)}function G(Q,Y,te,me){var De=te.type;return De===O?fe(Q,Y,te.props.children,me,te.key):Y!==null&&(Y.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===V&&gv(De)===Y.type)?(Y=g(Y,te.props),fu(Y,te),Y.return=Q,Y):(Y=Zo(te.type,te.key,te.props,null,Q.mode,me),fu(Y,te),Y.return=Q,Y)}function ne(Q,Y,te,me){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==te.containerInfo||Y.stateNode.implementation!==te.implementation?(Y=Zl(te,Q.mode,me),Y.return=Q,Y):(Y=g(Y,te.children||[]),Y.return=Q,Y)}function fe(Q,Y,te,me,De){return Y===null||Y.tag!==7?(Y=Ks(te,Q.mode,me,De),Y.return=Q,Y):(Y=g(Y,te),Y.return=Q,Y)}function ge(Q,Y,te){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=eu(""+Y,Q.mode,te),Y.return=Q,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case R:return te=Zo(Y.type,Y.key,Y.props,null,Q.mode,te),fu(te,Y),te.return=Q,te;case P:return Y=Zl(Y,Q.mode,te),Y.return=Q,Y;case V:var me=Y._init;return Y=me(Y._payload),ge(Q,Y,te)}if(Ae(Y)||M(Y))return Y=Ks(Y,Q.mode,te,null),Y.return=Q,Y;if(typeof Y.then=="function")return ge(Q,Xh(Y),te);if(Y.$$typeof===W)return ge(Q,Uh(Q,Y),te);Jh(Q,Y)}return null}function ie(Q,Y,te,me){var De=Y!==null?Y.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return De!==null?null:I(Q,Y,""+te,me);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case R:return te.key===De?G(Q,Y,te,me):null;case P:return te.key===De?ne(Q,Y,te,me):null;case V:return De=te._init,te=De(te._payload),ie(Q,Y,te,me)}if(Ae(te)||M(te))return De!==null?null:fe(Q,Y,te,me,null);if(typeof te.then=="function")return ie(Q,Y,Xh(te),me);if(te.$$typeof===W)return ie(Q,Y,Uh(Q,te),me);Jh(Q,te)}return null}function ae(Q,Y,te,me,De){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return Q=Q.get(te)||null,I(Y,Q,""+me,De);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case R:return Q=Q.get(me.key===null?te:me.key)||null,G(Y,Q,me,De);case P:return Q=Q.get(me.key===null?te:me.key)||null,ne(Y,Q,me,De);case V:var nt=me._init;return me=nt(me._payload),ae(Q,Y,te,me,De)}if(Ae(me)||M(me))return Q=Q.get(te)||null,fe(Y,Q,me,De,null);if(typeof me.then=="function")return ae(Q,Y,te,Xh(me),De);if(me.$$typeof===W)return ae(Q,Y,te,Uh(Y,me),De);Jh(Y,me)}return null}function Ge(Q,Y,te,me){for(var De=null,nt=null,Ve=Y,Fe=Y=0,Tn=null;Ve!==null&&Fe<te.length;Fe++){Ve.index>Fe?(Tn=Ve,Ve=null):Tn=Ve.sibling;var gt=ie(Q,Ve,te[Fe],me);if(gt===null){Ve===null&&(Ve=Tn);break}i&&Ve&&gt.alternate===null&&r(Q,Ve),Y=_(gt,Y,Fe),nt===null?De=gt:nt.sibling=gt,nt=gt,Ve=Tn}if(Fe===te.length)return l(Q,Ve),$e&&J(Q,Fe),De;if(Ve===null){for(;Fe<te.length;Fe++)Ve=ge(Q,te[Fe],me),Ve!==null&&(Y=_(Ve,Y,Fe),nt===null?De=Ve:nt.sibling=Ve,nt=Ve);return $e&&J(Q,Fe),De}for(Ve=h(Ve);Fe<te.length;Fe++)Tn=ae(Ve,Q,Fe,te[Fe],me),Tn!==null&&(i&&Tn.alternate!==null&&Ve.delete(Tn.key===null?Fe:Tn.key),Y=_(Tn,Y,Fe),nt===null?De=Tn:nt.sibling=Tn,nt=Tn);return i&&Ve.forEach(function(io){return r(Q,io)}),$e&&J(Q,Fe),De}function ze(Q,Y,te,me){if(te==null)throw Error(s(151));for(var De=null,nt=null,Ve=Y,Fe=Y=0,Tn=null,gt=te.next();Ve!==null&&!gt.done;Fe++,gt=te.next()){Ve.index>Fe?(Tn=Ve,Ve=null):Tn=Ve.sibling;var io=ie(Q,Ve,gt.value,me);if(io===null){Ve===null&&(Ve=Tn);break}i&&Ve&&io.alternate===null&&r(Q,Ve),Y=_(io,Y,Fe),nt===null?De=io:nt.sibling=io,nt=io,Ve=Tn}if(gt.done)return l(Q,Ve),$e&&J(Q,Fe),De;if(Ve===null){for(;!gt.done;Fe++,gt=te.next())gt=ge(Q,gt.value,me),gt!==null&&(Y=_(gt,Y,Fe),nt===null?De=gt:nt.sibling=gt,nt=gt);return $e&&J(Q,Fe),De}for(Ve=h(Ve);!gt.done;Fe++,gt=te.next())gt=ae(Ve,Q,Fe,gt.value,me),gt!==null&&(i&&gt.alternate!==null&&Ve.delete(gt.key===null?Fe:gt.key),Y=_(gt,Y,Fe),nt===null?De=gt:nt.sibling=gt,nt=gt);return i&&Ve.forEach(function(bN){return r(Q,bN)}),$e&&J(Q,Fe),De}function St(Q,Y,te,me){if(typeof te=="object"&&te!==null&&te.type===O&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case R:e:{for(var De=te.key;Y!==null;){if(Y.key===De){if(De=te.type,De===O){if(Y.tag===7){l(Q,Y.sibling),me=g(Y,te.props.children),me.return=Q,Q=me;break e}}else if(Y.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===V&&gv(De)===Y.type){l(Q,Y.sibling),me=g(Y,te.props),fu(me,te),me.return=Q,Q=me;break e}l(Q,Y);break}else r(Q,Y);Y=Y.sibling}te.type===O?(me=Ks(te.props.children,Q.mode,me,te.key),me.return=Q,Q=me):(me=Zo(te.type,te.key,te.props,null,Q.mode,me),fu(me,te),me.return=Q,Q=me)}return A(Q);case P:e:{for(De=te.key;Y!==null;){if(Y.key===De)if(Y.tag===4&&Y.stateNode.containerInfo===te.containerInfo&&Y.stateNode.implementation===te.implementation){l(Q,Y.sibling),me=g(Y,te.children||[]),me.return=Q,Q=me;break e}else{l(Q,Y);break}else r(Q,Y);Y=Y.sibling}me=Zl(te,Q.mode,me),me.return=Q,Q=me}return A(Q);case V:return De=te._init,te=De(te._payload),St(Q,Y,te,me)}if(Ae(te))return Ge(Q,Y,te,me);if(M(te)){if(De=M(te),typeof De!="function")throw Error(s(150));return te=De.call(te),ze(Q,Y,te,me)}if(typeof te.then=="function")return St(Q,Y,Xh(te),me);if(te.$$typeof===W)return St(Q,Y,Uh(Q,te),me);Jh(Q,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,Y!==null&&Y.tag===6?(l(Q,Y.sibling),me=g(Y,te),me.return=Q,Q=me):(l(Q,Y),me=eu(te,Q.mode,me),me.return=Q,Q=me),A(Q)):l(Q,Y)}return function(Q,Y,te,me){try{du=0;var De=St(Q,Y,te,me);return tc=null,De}catch(Ve){if(Ve===iu||Ve===Bh)throw Ve;var nt=ii(29,Ve,null,Q.mode);return nt.lanes=me,nt.return=Q,nt}finally{}}}var nc=yv(!0),_v=yv(!1),ss=ue(null),Ws=null;function Ha(i){var r=i.alternate;be(un,un.current&1),be(ss,i),Ws===null&&(r===null||Ql.current!==null||r.memoizedState!==null)&&(Ws=i)}function vv(i){if(i.tag===22){if(be(un,un.current),be(ss,i),Ws===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Ws=i)}}else Fa()}function Fa(){be(un,un.current),be(ss,ss.current)}function Fr(i){xe(ss),Ws===i&&(Ws=null),xe(un)}var un=ue(0);function ed(i){for(var r=i;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||kp(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Zm(i,r,l,h){r=i.memoizedState,l=l(h,r),l=l==null?r:w({},r,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Km={enqueueSetState:function(i,r,l){i=i._reactInternals;var h=Ui(),g=Ua(h);g.payload=r,l!=null&&(g.callback=l),r=za(i,g,h),r!==null&&(zi(r,i,h),ru(r,i,h))},enqueueReplaceState:function(i,r,l){i=i._reactInternals;var h=Ui(),g=Ua(h);g.tag=1,g.payload=r,l!=null&&(g.callback=l),r=za(i,g,h),r!==null&&(zi(r,i,h),ru(r,i,h))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var l=Ui(),h=Ua(l);h.tag=2,r!=null&&(h.callback=r),r=za(i,h,l),r!==null&&(zi(r,i,l),ru(r,i,l))}};function xv(i,r,l,h,g,_,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,_,A):r.prototype&&r.prototype.isPureReactComponent?!ei(l,h)||!ei(g,_):!0}function bv(i,r,l,h){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,h),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,h),r.state!==i&&Km.enqueueReplaceState(r,r.state,null)}function el(i,r){var l=r;if("ref"in r){l={};for(var h in r)h!=="ref"&&(l[h]=r[h])}if(i=i.defaultProps){l===r&&(l=w({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var td=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function wv(i){td(i)}function Ev(i){console.error(i)}function Tv(i){td(i)}function nd(i,r){try{var l=i.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(h){setTimeout(function(){throw h})}}function Sv(i,r,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Ym(i,r,l){return l=Ua(l),l.tag=3,l.payload={element:null},l.callback=function(){nd(i,r)},l}function Nv(i){return i=Ua(i),i.tag=3,i}function Av(i,r,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var _=h.value;i.payload=function(){return g(_)},i.callback=function(){Sv(r,l,h)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){Sv(r,l,h),typeof g!="function"&&(Ya===null?Ya=new Set([this]):Ya.add(this));var I=h.stack;this.componentDidCatch(h.value,{componentStack:I!==null?I:""})})}function bS(i,r,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(r=l.alternate,r!==null&&Wo(r,l,g,!0),l=ss.current,l!==null){switch(l.tag){case 13:return Ws===null?vp():l.alternate===null&&$t===0&&($t=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===Tm?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([h]):r.add(h),bp(i,h,g)),!1;case 22:return l.flags|=65536,h===Tm?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([h]):l.add(h)),bp(i,h,g)),!1}throw Error(s(435,l.tag))}return bp(i,h,g),vp(),!1}if($e)return r=ss.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,h!==bn&&(i=Error(s(422),{cause:h}),La(ti(i,l)))):(h!==bn&&(r=Error(s(423),{cause:h}),La(ti(r,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=ti(h,l),g=Ym(i.stateNode,h,g),Am(i,g),$t!==4&&($t=2)),!1;var _=Error(s(520),{cause:h});if(_=ti(_,l),xu===null?xu=[_]:xu.push(_),$t!==4&&($t=2),r===null)return!0;h=ti(h,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=Ym(l.stateNode,h,i),Am(l,i),!1;case 1:if(r=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ya===null||!Ya.has(_))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Nv(g),Av(g,i,l,h),Am(l,g),!1}l=l.return}while(l!==null);return!1}var Rv=Error(s(461)),wn=!1;function An(i,r,l,h){r.child=i===null?_v(r,null,l,h):nc(r,i.child,l,h)}function Cv(i,r,l,h,g){l=l.render;var _=r.ref;if("ref"in h){var A={};for(var I in h)I!=="ref"&&(A[I]=h[I])}else A=h;return Qo(r),h=Om(i,r,l,A,_,g),I=Pm(),i!==null&&!wn?(Mm(i,r,g),qr(i,r,g)):($e&&I&&ve(r),r.flags|=1,An(i,r,h,g),r.child)}function Iv(i,r,l,h,g){if(i===null){var _=l.type;return typeof _=="function"&&!$l(_)&&_.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=_,jv(i,r,_,h,g)):(i=Zo(l.type,null,h,r,r.mode,g),i.ref=r.ref,i.return=r,r.child=i)}if(_=i.child,!ip(i,g)){var A=_.memoizedProps;if(l=l.compare,l=l!==null?l:ei,l(A,h)&&i.ref===r.ref)return qr(i,r,g)}return r.flags|=1,i=ns(_,h),i.ref=r.ref,i.return=r,r.child=i}function jv(i,r,l,h,g){if(i!==null){var _=i.memoizedProps;if(ei(_,h)&&i.ref===r.ref)if(wn=!1,r.pendingProps=h=_,ip(i,g))(i.flags&131072)!==0&&(wn=!0);else return r.lanes=i.lanes,qr(i,r,g)}return Wm(i,r,l,h,g)}function Ov(i,r,l){var h=r.pendingProps,g=h.children,_=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((r.flags&128)!==0){if(h=_!==null?_.baseLanes|l:l,i!==null){for(g=r.child=i.child,_=0;g!==null;)_=_|g.lanes|g.childLanes,g=g.sibling;r.childLanes=_&~h}else r.childLanes=0,r.child=null;return Pv(i,r,h,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&zh(r,_!==null?_.cachePool:null),_!==null?j_(r,_):Cm(),vv(r);else return r.lanes=r.childLanes=536870912,Pv(i,r,_!==null?_.baseLanes|l:l,l)}else _!==null?(zh(r,_.cachePool),j_(r,_),Fa(),r.memoizedState=null):(i!==null&&zh(r,null),Cm(),Fa());return An(i,r,g,l),r.child}function Pv(i,r,l,h){var g=Em();return g=g===null?null:{parent:cn._currentValue,pool:g},r.memoizedState={baseLanes:l,cachePool:g},i!==null&&zh(r,null),Cm(),vv(r),i!==null&&Wo(i,r,h,!0),null}function id(i,r){var l=r.ref;if(l===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(i===null||i.ref!==l)&&(r.flags|=4194816)}}function Wm(i,r,l,h,g){return Qo(r),l=Om(i,r,l,h,void 0,g),h=Pm(),i!==null&&!wn?(Mm(i,r,g),qr(i,r,g)):($e&&h&&ve(r),r.flags|=1,An(i,r,l,g),r.child)}function Mv(i,r,l,h,g,_){return Qo(r),r.updateQueue=null,l=P_(r,h,l,g),O_(i),h=Pm(),i!==null&&!wn?(Mm(i,r,_),qr(i,r,_)):($e&&h&&ve(r),r.flags|=1,An(i,r,l,_),r.child)}function Dv(i,r,l,h,g){if(Qo(r),r.stateNode===null){var _=zr,A=l.contextType;typeof A=="object"&&A!==null&&(_=kn(A)),_=new l(h,_),r.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Km,r.stateNode=_,_._reactInternals=r,_=r.stateNode,_.props=h,_.state=r.memoizedState,_.refs={},Sm(r),A=l.contextType,_.context=typeof A=="object"&&A!==null?kn(A):zr,_.state=r.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(Zm(r,l,A,h),_.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(A=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),A!==_.state&&Km.enqueueReplaceState(_,_.state,null),ou(r,h,_,g),au(),_.state=r.memoizedState),typeof _.componentDidMount=="function"&&(r.flags|=4194308),h=!0}else if(i===null){_=r.stateNode;var I=r.memoizedProps,G=el(l,I);_.props=G;var ne=_.context,fe=l.contextType;A=zr,typeof fe=="object"&&fe!==null&&(A=kn(fe));var ge=l.getDerivedStateFromProps;fe=typeof ge=="function"||typeof _.getSnapshotBeforeUpdate=="function",I=r.pendingProps!==I,fe||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I||ne!==A)&&bv(r,_,h,A),Va=!1;var ie=r.memoizedState;_.state=ie,ou(r,h,_,g),au(),ne=r.memoizedState,I||ie!==ne||Va?(typeof ge=="function"&&(Zm(r,l,ge,h),ne=r.memoizedState),(G=Va||xv(r,l,G,h,ie,ne,A))?(fe||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=h,r.memoizedState=ne),_.props=h,_.state=ne,_.context=A,h=G):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),h=!1)}else{_=r.stateNode,Nm(i,r),A=r.memoizedProps,fe=el(l,A),_.props=fe,ge=r.pendingProps,ie=_.context,ne=l.contextType,G=zr,typeof ne=="object"&&ne!==null&&(G=kn(ne)),I=l.getDerivedStateFromProps,(ne=typeof I=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==ge||ie!==G)&&bv(r,_,h,G),Va=!1,ie=r.memoizedState,_.state=ie,ou(r,h,_,g),au();var ae=r.memoizedState;A!==ge||ie!==ae||Va||i!==null&&i.dependencies!==null&&Vh(i.dependencies)?(typeof I=="function"&&(Zm(r,l,I,h),ae=r.memoizedState),(fe=Va||xv(r,l,fe,h,ie,ae,G)||i!==null&&i.dependencies!==null&&Vh(i.dependencies))?(ne||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,ae,G),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,ae,G)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||A===i.memoizedProps&&ie===i.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ie===i.memoizedState||(r.flags|=1024),r.memoizedProps=h,r.memoizedState=ae),_.props=h,_.state=ae,_.context=G,h=fe):(typeof _.componentDidUpdate!="function"||A===i.memoizedProps&&ie===i.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ie===i.memoizedState||(r.flags|=1024),h=!1)}return _=h,id(i,r),h=(r.flags&128)!==0,_||h?(_=r.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:_.render(),r.flags|=1,i!==null&&h?(r.child=nc(r,i.child,null,g),r.child=nc(r,null,l,g)):An(i,r,l,g),r.memoizedState=_.state,i=r.child):i=qr(i,r,g),i}function kv(i,r,l,h){return ka(),r.flags|=256,An(i,r,l,h),r.child}var Qm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xm(i){return{baseLanes:i,cachePool:E_()}}function Jm(i,r,l){return i=i!==null?i.childLanes&~l:0,r&&(i|=rs),i}function Lv(i,r,l){var h=r.pendingProps,g=!1,_=(r.flags&128)!==0,A;if((A=_)||(A=i!==null&&i.memoizedState===null?!1:(un.current&2)!==0),A&&(g=!0,r.flags&=-129),A=(r.flags&32)!==0,r.flags&=-33,i===null){if($e){if(g?Ha(r):Fa(),$e){var I=Le,G;if(G=I){e:{for(G=I,I=Ht;G.nodeType!==8;){if(!I){I=null;break e}if(G=Ns(G.nextSibling),G===null){I=null;break e}}I=G}I!==null?(r.memoizedState={dehydrated:I,treeContext:T!==null?{id:C,overflow:q}:null,retryLane:536870912,hydrationErrors:null},G=ii(18,null,null,0),G.stateNode=I,G.return=r,r.child=G,Pe=r,Le=null,G=!0):G=!1}G||fi(r)}if(I=r.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return kp(I)?r.lanes=32:r.lanes=536870912,null;Fr(r)}return I=h.children,h=h.fallback,g?(Fa(),g=r.mode,I=sd({mode:"hidden",children:I},g),h=Ks(h,g,l,null),I.return=r,h.return=r,I.sibling=h,r.child=I,g=r.child,g.memoizedState=Xm(l),g.childLanes=Jm(i,A,l),r.memoizedState=Qm,h):(Ha(r),ep(r,I))}if(G=i.memoizedState,G!==null&&(I=G.dehydrated,I!==null)){if(_)r.flags&256?(Ha(r),r.flags&=-257,r=tp(i,r,l)):r.memoizedState!==null?(Fa(),r.child=i.child,r.flags|=128,r=null):(Fa(),g=h.fallback,I=r.mode,h=sd({mode:"visible",children:h.children},I),g=Ks(g,I,l,null),g.flags|=2,h.return=r,g.return=r,h.sibling=g,r.child=h,nc(r,i.child,null,l),h=r.child,h.memoizedState=Xm(l),h.childLanes=Jm(i,A,l),r.memoizedState=Qm,r=g);else if(Ha(r),kp(I)){if(A=I.nextSibling&&I.nextSibling.dataset,A)var ne=A.dgst;A=ne,h=Error(s(419)),h.stack="",h.digest=A,La({value:h,source:null,stack:null}),r=tp(i,r,l)}else if(wn||Wo(i,r,l,!1),A=(l&i.childLanes)!==0,wn||A){if(A=Ct,A!==null&&(h=l&-l,h=(h&42)!==0?1:Io(h),h=(h&(A.suspendedLanes|l))!==0?0:h,h!==0&&h!==G.retryLane))throw G.retryLane=h,Ma(i,h),zi(A,i,h),Rv;I.data==="$?"||vp(),r=tp(i,r,l)}else I.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=G.treeContext,Le=Ns(I.nextSibling),Pe=r,$e=!0,Rt=null,Ht=!1,i!==null&&(p[b++]=C,p[b++]=q,p[b++]=T,C=i.id,q=i.overflow,T=r),r=ep(r,h.children),r.flags|=4096);return r}return g?(Fa(),g=h.fallback,I=r.mode,G=i.child,ne=G.sibling,h=ns(G,{mode:"hidden",children:h.children}),h.subtreeFlags=G.subtreeFlags&65011712,ne!==null?g=ns(ne,g):(g=Ks(g,I,l,null),g.flags|=2),g.return=r,h.return=r,h.sibling=g,r.child=h,h=g,g=r.child,I=i.child.memoizedState,I===null?I=Xm(l):(G=I.cachePool,G!==null?(ne=cn._currentValue,G=G.parent!==ne?{parent:ne,pool:ne}:G):G=E_(),I={baseLanes:I.baseLanes|l,cachePool:G}),g.memoizedState=I,g.childLanes=Jm(i,A,l),r.memoizedState=Qm,h):(Ha(r),l=i.child,i=l.sibling,l=ns(l,{mode:"visible",children:h.children}),l.return=r,l.sibling=null,i!==null&&(A=r.deletions,A===null?(r.deletions=[i],r.flags|=16):A.push(i)),r.child=l,r.memoizedState=null,l)}function ep(i,r){return r=sd({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function sd(i,r){return i=ii(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function tp(i,r,l){return nc(r,i.child,null,l),i=ep(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Vv(i,r,l){i.lanes|=r;var h=i.alternate;h!==null&&(h.lanes|=r),Yo(i.return,r,l)}function np(i,r,l,h,g){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=l,_.tailMode=g)}function Uv(i,r,l){var h=r.pendingProps,g=h.revealOrder,_=h.tail;if(An(i,r,h.children,l),h=un.current,(h&2)!==0)h=h&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Vv(i,l,r);else if(i.tag===19)Vv(i,l,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(be(un,h),g){case"forwards":for(l=r.child,g=null;l!==null;)i=l.alternate,i!==null&&ed(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=r.child,r.child=null):(g=l.sibling,l.sibling=null),np(r,!1,g,l,_);break;case"backwards":for(l=null,g=r.child,r.child=null;g!==null;){if(i=g.alternate,i!==null&&ed(i)===null){r.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}np(r,!0,l,null,_);break;case"together":np(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function qr(i,r,l){if(i!==null&&(r.dependencies=i.dependencies),Ka|=r.lanes,(l&r.childLanes)===0)if(i!==null){if(Wo(i,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,l=ns(i,i.pendingProps),r.child=l,l.return=r;i.sibling!==null;)i=i.sibling,l=l.sibling=ns(i,i.pendingProps),l.return=r;l.sibling=null}return r.child}function ip(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Vh(i)))}function wS(i,r,l){switch(r.tag){case 3:it(r,r.stateNode.containerInfo),Ys(r,cn,i.memoizedState.cache),ka();break;case 27:case 5:vr(r);break;case 4:it(r,r.stateNode.containerInfo);break;case 10:Ys(r,r.type,r.memoizedProps.value);break;case 13:var h=r.memoizedState;if(h!==null)return h.dehydrated!==null?(Ha(r),r.flags|=128,null):(l&r.child.childLanes)!==0?Lv(i,r,l):(Ha(r),i=qr(i,r,l),i!==null?i.sibling:null);Ha(r);break;case 19:var g=(i.flags&128)!==0;if(h=(l&r.childLanes)!==0,h||(Wo(i,r,l,!1),h=(l&r.childLanes)!==0),g){if(h)return Uv(i,r,l);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),be(un,un.current),h)break;return null;case 22:case 23:return r.lanes=0,Ov(i,r,l);case 24:Ys(r,cn,i.memoizedState.cache)}return qr(i,r,l)}function zv(i,r,l){if(i!==null)if(i.memoizedProps!==r.pendingProps)wn=!0;else{if(!ip(i,l)&&(r.flags&128)===0)return wn=!1,wS(i,r,l);wn=(i.flags&131072)!==0}else wn=!1,$e&&(r.flags&1048576)!==0&&oe(r,u,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var h=r.elementType,g=h._init;if(h=g(h._payload),r.type=h,typeof h=="function")$l(h)?(i=el(h,i),r.tag=1,r=Dv(null,r,h,i,l)):(r.tag=0,r=Wm(null,r,h,i,l));else{if(h!=null){if(g=h.$$typeof,g===we){r.tag=11,r=Cv(null,r,h,i,l);break e}else if(g===Z){r.tag=14,r=Iv(null,r,h,i,l);break e}}throw r=de(h)||h,Error(s(306,r,""))}}return r;case 0:return Wm(i,r,r.type,r.pendingProps,l);case 1:return h=r.type,g=el(h,r.pendingProps),Dv(i,r,h,g,l);case 3:e:{if(it(r,r.stateNode.containerInfo),i===null)throw Error(s(387));h=r.pendingProps;var _=r.memoizedState;g=_.element,Nm(i,r),ou(r,h,null,l);var A=r.memoizedState;if(h=A.cache,Ys(r,cn,h),h!==_.cache&&Kl(r,[cn],l,!0),au(),h=A.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:A.cache},r.updateQueue.baseState=_,r.memoizedState=_,r.flags&256){r=kv(i,r,h,l);break e}else if(h!==g){g=ti(Error(s(424)),r),La(g),r=kv(i,r,h,l);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Le=Ns(i.firstChild),Pe=r,$e=!0,Rt=null,Ht=!0,l=_v(r,null,h,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ka(),h===g){r=qr(i,r,l);break e}An(i,r,h,l)}r=r.child}return r;case 26:return id(i,r),i===null?(l=q0(r.type,null,r.pendingProps,null))?r.memoizedState=l:$e||(l=r.type,i=r.pendingProps,h=_d(Ne.current).createElement(l),h[Ut]=r,h[an]=i,Cn(h,l,i),zt(h),r.stateNode=h):r.memoizedState=q0(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return vr(r),i===null&&$e&&(h=r.stateNode=B0(r.type,r.pendingProps,Ne.current),Pe=r,Ht=!0,g=Le,Xa(r.type)?(Lp=g,Le=Ns(h.firstChild)):Le=g),An(i,r,r.pendingProps.children,l),id(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&$e&&((g=h=Le)&&(h=WS(h,r.type,r.pendingProps,Ht),h!==null?(r.stateNode=h,Pe=r,Le=Ns(h.firstChild),Ht=!1,g=!0):g=!1),g||fi(r)),vr(r),g=r.type,_=r.pendingProps,A=i!==null?i.memoizedProps:null,h=_.children,Pp(g,_)?h=null:A!==null&&Pp(g,A)&&(r.flags|=32),r.memoizedState!==null&&(g=Om(i,r,mS,null,null,l),Cu._currentValue=g),id(i,r),An(i,r,h,l),r.child;case 6:return i===null&&$e&&((i=l=Le)&&(l=QS(l,r.pendingProps,Ht),l!==null?(r.stateNode=l,Pe=r,Le=null,i=!0):i=!1),i||fi(r)),null;case 13:return Lv(i,r,l);case 4:return it(r,r.stateNode.containerInfo),h=r.pendingProps,i===null?r.child=nc(r,null,h,l):An(i,r,h,l),r.child;case 11:return Cv(i,r,r.type,r.pendingProps,l);case 7:return An(i,r,r.pendingProps,l),r.child;case 8:return An(i,r,r.pendingProps.children,l),r.child;case 12:return An(i,r,r.pendingProps.children,l),r.child;case 10:return h=r.pendingProps,Ys(r,r.type,h.value),An(i,r,h.children,l),r.child;case 9:return g=r.type._context,h=r.pendingProps.children,Qo(r),g=kn(g),h=h(g),r.flags|=1,An(i,r,h,l),r.child;case 14:return Iv(i,r,r.type,r.pendingProps,l);case 15:return jv(i,r,r.type,r.pendingProps,l);case 19:return Uv(i,r,l);case 31:return h=r.pendingProps,l=r.mode,h={mode:h.mode,children:h.children},i===null?(l=sd(h,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=ns(i.child,h),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return Ov(i,r,l);case 24:return Qo(r),h=kn(cn),i===null?(g=Em(),g===null&&(g=Ct,_=bm(),g.pooledCache=_,_.refCount++,_!==null&&(g.pooledCacheLanes|=l),g=_),r.memoizedState={parent:h,cache:g},Sm(r),Ys(r,cn,g)):((i.lanes&l)!==0&&(Nm(i,r),ou(r,null,null,l),au()),g=i.memoizedState,_=r.memoizedState,g.parent!==h?(g={parent:h,cache:h},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),Ys(r,cn,h)):(h=_.cache,Ys(r,cn,h),h!==g.cache&&Kl(r,[cn],l,!0))),An(i,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Gr(i){i.flags|=4}function Bv(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Y0(r)){if(r=ss.current,r!==null&&((ft&4194048)===ft?Ws!==null:(ft&62914560)!==ft&&(ft&536870912)===0||r!==Ws))throw su=Tm,T_;i.flags|=8192}}function rd(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?us():536870912,i.lanes|=r,ac|=r)}function mu(i,r){if(!$e)switch(i.tailMode){case"hidden":r=i.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Ft(i){var r=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(r)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=l,r}function ES(i,r,l){var h=r.pendingProps;switch(Re(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(r),null;case 1:return Ft(r),null;case 3:return l=r.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),r.memoizedState.cache!==h&&(r.flags|=2048),Ts(cn),si(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Ko(r)?Gr(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Lh())),Ft(r),null;case 26:return l=r.memoizedState,i===null?(Gr(r),l!==null?(Ft(r),Bv(r,l)):(Ft(r),r.flags&=-16777217)):l?l!==i.memoizedState?(Gr(r),Ft(r),Bv(r,l)):(Ft(r),r.flags&=-16777217):(i.memoizedProps!==h&&Gr(r),Ft(r),r.flags&=-16777217),null;case 27:ks(r),l=Ne.current;var g=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==h&&Gr(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return Ft(r),null}i=Te.current,Ko(r)?Dh(r):(i=B0(g,h,l),r.stateNode=i,Gr(r))}return Ft(r),null;case 5:if(ks(r),l=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&Gr(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return Ft(r),null}if(i=Te.current,Ko(r))Dh(r);else{switch(g=_d(Ne.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?g.createElement(l,{is:h.is}):g.createElement(l)}}i[Ut]=r,i[an]=h;e:for(g=r.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===r)break e;for(;g.sibling===null;){if(g.return===null||g.return===r)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}r.stateNode=i;e:switch(Cn(i,l,h),l){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Gr(r)}}return Ft(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==h&&Gr(r);else{if(typeof h!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ne.current,Ko(r)){if(i=r.stateNode,l=r.memoizedProps,h=null,g=Pe,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[Ut]=r,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||M0(i.nodeValue,l)),i||fi(r)}else i=_d(i).createTextNode(h),i[Ut]=r,r.stateNode=i}return Ft(r),null;case 13:if(h=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Ko(r),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(s(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[Ut]=r}else ka(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ft(r),g=!1}else g=Lh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(Fr(r),r):(Fr(r),null)}if(Fr(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=h!==null,i=i!==null&&i.memoizedState!==null,l){h=r.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var _=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==g&&(h.flags|=2048)}return l!==i&&l&&(r.child.flags|=8192),rd(r,r.updateQueue),Ft(r),null;case 4:return si(),i===null&&Rp(r.stateNode.containerInfo),Ft(r),null;case 10:return Ts(r.type),Ft(r),null;case 19:if(xe(un),g=r.memoizedState,g===null)return Ft(r),null;if(h=(r.flags&128)!==0,_=g.rendering,_===null)if(h)mu(g,!1);else{if($t!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(_=ed(i),_!==null){for(r.flags|=128,mu(g,!1),i=_.updateQueue,r.updateQueue=i,rd(r,i),r.subtreeFlags=0,i=l,l=r.child;l!==null;)Jc(l,i),l=l.sibling;return be(un,un.current&1|2),r.child}i=i.sibling}g.tail!==null&&fn()>ld&&(r.flags|=128,h=!0,mu(g,!1),r.lanes=4194304)}else{if(!h)if(i=ed(_),i!==null){if(r.flags|=128,h=!0,i=i.updateQueue,r.updateQueue=i,rd(r,i),mu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!$e)return Ft(r),null}else 2*fn()-g.renderingStartTime>ld&&l!==536870912&&(r.flags|=128,h=!0,mu(g,!1),r.lanes=4194304);g.isBackwards?(_.sibling=r.child,r.child=_):(i=g.last,i!==null?i.sibling=_:r.child=_,g.last=_)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=fn(),r.sibling=null,i=un.current,be(un,h?i&1|2:i&1),r):(Ft(r),null);case 22:case 23:return Fr(r),Im(),h=r.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(r.flags|=8192):h&&(r.flags|=8192),h?(l&536870912)!==0&&(r.flags&128)===0&&(Ft(r),r.subtreeFlags&6&&(r.flags|=8192)):Ft(r),l=r.updateQueue,l!==null&&rd(r,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==l&&(r.flags|=2048),i!==null&&xe(Xo),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ts(cn),Ft(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function TS(i,r){switch(Re(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Ts(cn),si(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return ks(r),null;case 13:if(Fr(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ka()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return xe(un),null;case 4:return si(),null;case 10:return Ts(r.type),null;case 22:case 23:return Fr(r),Im(),i!==null&&xe(Xo),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Ts(cn),null;case 25:return null;default:return null}}function Hv(i,r){switch(Re(r),r.tag){case 3:Ts(cn),si();break;case 26:case 27:case 5:ks(r);break;case 4:si();break;case 13:Fr(r);break;case 19:xe(un);break;case 10:Ts(r.type);break;case 22:case 23:Fr(r),Im(),i!==null&&xe(Xo);break;case 24:Ts(cn)}}function pu(i,r){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&i)===i){h=void 0;var _=l.create,A=l.inst;h=_(),A.destroy=h}l=l.next}while(l!==g)}}catch(I){At(r,r.return,I)}}function qa(i,r,l){try{var h=r.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var _=g.next;h=_;do{if((h.tag&i)===i){var A=h.inst,I=A.destroy;if(I!==void 0){A.destroy=void 0,g=r;var G=l,ne=I;try{ne()}catch(fe){At(g,G,fe)}}}h=h.next}while(h!==_)}}catch(fe){At(r,r.return,fe)}}function Fv(i){var r=i.updateQueue;if(r!==null){var l=i.stateNode;try{I_(r,l)}catch(h){At(i,i.return,h)}}}function qv(i,r,l){l.props=el(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){At(i,r,h)}}function gu(i,r){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(g){At(i,r,g)}}function Qs(i,r){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){At(i,r,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){At(i,r,g)}else l.current=null}function Gv(i){var r=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){At(i,i.return,g)}}function sp(i,r,l){try{var h=i.stateNode;GS(h,i.type,l,r),h[an]=r}catch(g){At(i,i.return,g)}}function $v(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Xa(i.type)||i.tag===4}function rp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||$v(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Xa(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ap(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(i),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=yd));else if(h!==4&&(h===27&&Xa(i.type)&&(l=i.stateNode,r=null),i=i.child,i!==null))for(ap(i,r,l),i=i.sibling;i!==null;)ap(i,r,l),i=i.sibling}function ad(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?l.insertBefore(i,r):l.appendChild(i);else if(h!==4&&(h===27&&Xa(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(ad(i,r,l),i=i.sibling;i!==null;)ad(i,r,l),i=i.sibling}function Zv(i){var r=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);Cn(r,h,l),r[Ut]=i,r[an]=l}catch(_){At(i,i.return,_)}}var $r=!1,Wt=!1,op=!1,Kv=typeof WeakSet=="function"?WeakSet:Set,En=null;function SS(i,r){if(i=i.containerInfo,jp=Td,i=Bo(i),Ho(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var A=0,I=-1,G=-1,ne=0,fe=0,ge=i,ie=null;t:for(;;){for(var ae;ge!==l||g!==0&&ge.nodeType!==3||(I=A+g),ge!==_||h!==0&&ge.nodeType!==3||(G=A+h),ge.nodeType===3&&(A+=ge.nodeValue.length),(ae=ge.firstChild)!==null;)ie=ge,ge=ae;for(;;){if(ge===i)break t;if(ie===l&&++ne===g&&(I=A),ie===_&&++fe===h&&(G=A),(ae=ge.nextSibling)!==null)break;ge=ie,ie=ge.parentNode}ge=ae}l=I===-1||G===-1?null:{start:I,end:G}}else l=null}l=l||{start:0,end:0}}else l=null;for(Op={focusedElem:i,selectionRange:l},Td=!1,En=r;En!==null;)if(r=En,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,En=i;else for(;En!==null;){switch(r=En,_=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,l=r,g=_.memoizedProps,_=_.memoizedState,h=l.stateNode;try{var Ge=el(l.type,g,l.elementType===l.type);i=h.getSnapshotBeforeUpdate(Ge,_),h.__reactInternalSnapshotBeforeUpdate=i}catch(ze){At(l,l.return,ze)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,l=i.nodeType,l===9)Dp(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Dp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,En=i;break}En=r.return}}function Yv(i,r,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:Ga(i,l),h&4&&pu(5,l);break;case 1:if(Ga(i,l),h&4)if(i=l.stateNode,r===null)try{i.componentDidMount()}catch(A){At(l,l.return,A)}else{var g=el(l.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(g,r,i.__reactInternalSnapshotBeforeUpdate)}catch(A){At(l,l.return,A)}}h&64&&Fv(l),h&512&&gu(l,l.return);break;case 3:if(Ga(i,l),h&64&&(i=l.updateQueue,i!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{I_(i,r)}catch(A){At(l,l.return,A)}}break;case 27:r===null&&h&4&&Zv(l);case 26:case 5:Ga(i,l),r===null&&h&4&&Gv(l),h&512&&gu(l,l.return);break;case 12:Ga(i,l);break;case 13:Ga(i,l),h&4&&Xv(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=MS.bind(null,l),XS(i,l))));break;case 22:if(h=l.memoizedState!==null||$r,!h){r=r!==null&&r.memoizedState!==null||Wt,g=$r;var _=Wt;$r=h,(Wt=r)&&!_?$a(i,l,(l.subtreeFlags&8772)!==0):Ga(i,l),$r=g,Wt=_}break;case 30:break;default:Ga(i,l)}}function Wv(i){var r=i.alternate;r!==null&&(i.alternate=null,Wv(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Er(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Lt=null,pi=!1;function Zr(i,r,l){for(l=l.child;l!==null;)Qv(i,r,l),l=l.sibling}function Qv(i,r,l){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Fi,l)}catch{}switch(l.tag){case 26:Wt||Qs(l,r),Zr(i,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Wt||Qs(l,r);var h=Lt,g=pi;Xa(l.type)&&(Lt=l.stateNode,pi=!1),Zr(i,r,l),Su(l.stateNode),Lt=h,pi=g;break;case 5:Wt||Qs(l,r);case 6:if(h=Lt,g=pi,Lt=null,Zr(i,r,l),Lt=h,pi=g,Lt!==null)if(pi)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(l.stateNode)}catch(_){At(l,r,_)}else try{Lt.removeChild(l.stateNode)}catch(_){At(l,r,_)}break;case 18:Lt!==null&&(pi?(i=Lt,U0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Pu(i)):U0(Lt,l.stateNode));break;case 4:h=Lt,g=pi,Lt=l.stateNode.containerInfo,pi=!0,Zr(i,r,l),Lt=h,pi=g;break;case 0:case 11:case 14:case 15:Wt||qa(2,l,r),Wt||qa(4,l,r),Zr(i,r,l);break;case 1:Wt||(Qs(l,r),h=l.stateNode,typeof h.componentWillUnmount=="function"&&qv(l,r,h)),Zr(i,r,l);break;case 21:Zr(i,r,l);break;case 22:Wt=(h=Wt)||l.memoizedState!==null,Zr(i,r,l),Wt=h;break;default:Zr(i,r,l)}}function Xv(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Pu(i)}catch(l){At(r,r.return,l)}}function NS(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Kv),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Kv),r;default:throw Error(s(435,i.tag))}}function lp(i,r){var l=NS(i);r.forEach(function(h){var g=DS.bind(null,i,h);l.has(h)||(l.add(h),h.then(g,g))})}function ki(i,r){var l=r.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],_=i,A=r,I=A;e:for(;I!==null;){switch(I.tag){case 27:if(Xa(I.type)){Lt=I.stateNode,pi=!1;break e}break;case 5:Lt=I.stateNode,pi=!1;break e;case 3:case 4:Lt=I.stateNode.containerInfo,pi=!0;break e}I=I.return}if(Lt===null)throw Error(s(160));Qv(_,A,g),Lt=null,pi=!1,_=g.alternate,_!==null&&(_.return=null),g.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Jv(r,i),r=r.sibling}var Ss=null;function Jv(i,r){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ki(r,i),Li(i),h&4&&(qa(3,i,i.return),pu(3,i),qa(5,i,i.return));break;case 1:ki(r,i),Li(i),h&512&&(Wt||l===null||Qs(l,l.return)),h&64&&$r&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=Ss;if(ki(r,i),Li(i),h&512&&(Wt||l===null||Qs(l,l.return)),h&4){var _=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":_=g.getElementsByTagName("title")[0],(!_||_[fs]||_[Ut]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=g.createElement(h),g.head.insertBefore(_,g.querySelector("head > title"))),Cn(_,h,l),_[Ut]=i,zt(_),h=_;break e;case"link":var A=Z0("link","href",g).get(h+(l.href||""));if(A){for(var I=0;I<A.length;I++)if(_=A[I],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(I,1);break t}}_=g.createElement(h),Cn(_,h,l),g.head.appendChild(_);break;case"meta":if(A=Z0("meta","content",g).get(h+(l.content||""))){for(I=0;I<A.length;I++)if(_=A[I],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(I,1);break t}}_=g.createElement(h),Cn(_,h,l),g.head.appendChild(_);break;default:throw Error(s(468,h))}_[Ut]=i,zt(_),h=_}i.stateNode=h}else K0(g,i.type,i.stateNode);else i.stateNode=$0(g,h,i.memoizedProps);else _!==h?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,h===null?K0(g,i.type,i.stateNode):$0(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&sp(i,i.memoizedProps,l.memoizedProps)}break;case 27:ki(r,i),Li(i),h&512&&(Wt||l===null||Qs(l,l.return)),l!==null&&h&4&&sp(i,i.memoizedProps,l.memoizedProps);break;case 5:if(ki(r,i),Li(i),h&512&&(Wt||l===null||Qs(l,l.return)),i.flags&32){g=i.stateNode;try{gn(g,"")}catch(ae){At(i,i.return,ae)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,sp(i,g,l!==null?l.memoizedProps:g)),h&1024&&(op=!0);break;case 6:if(ki(r,i),Li(i),h&4){if(i.stateNode===null)throw Error(s(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(ae){At(i,i.return,ae)}}break;case 3:if(bd=null,g=Ss,Ss=vd(r.containerInfo),ki(r,i),Ss=g,Li(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Pu(r.containerInfo)}catch(ae){At(i,i.return,ae)}op&&(op=!1,e0(i));break;case 4:h=Ss,Ss=vd(i.stateNode.containerInfo),ki(r,i),Li(i),Ss=h;break;case 12:ki(r,i),Li(i);break;case 13:ki(r,i),Li(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(mp=fn()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,lp(i,h)));break;case 22:g=i.memoizedState!==null;var G=l!==null&&l.memoizedState!==null,ne=$r,fe=Wt;if($r=ne||g,Wt=fe||G,ki(r,i),Wt=fe,$r=ne,Li(i),h&8192)e:for(r=i.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(l===null||G||$r||Wt||tl(i)),l=null,r=i;;){if(r.tag===5||r.tag===26){if(l===null){G=l=r;try{if(_=G.stateNode,g)A=_.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{I=G.stateNode;var ge=G.memoizedProps.style,ie=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;I.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(ae){At(G,G.return,ae)}}}else if(r.tag===6){if(l===null){G=r;try{G.stateNode.nodeValue=g?"":G.memoizedProps}catch(ae){At(G,G.return,ae)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,lp(i,l))));break;case 19:ki(r,i),Li(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,lp(i,h)));break;case 30:break;case 21:break;default:ki(r,i),Li(i)}}function Li(i){var r=i.flags;if(r&2){try{for(var l,h=i.return;h!==null;){if($v(h)){l=h;break}h=h.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var g=l.stateNode,_=rp(i);ad(i,_,g);break;case 5:var A=l.stateNode;l.flags&32&&(gn(A,""),l.flags&=-33);var I=rp(i);ad(i,I,A);break;case 3:case 4:var G=l.stateNode.containerInfo,ne=rp(i);ap(i,ne,G);break;default:throw Error(s(161))}}catch(fe){At(i,i.return,fe)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function e0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;e0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Ga(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Yv(i,r.alternate,r),r=r.sibling}function tl(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:qa(4,r,r.return),tl(r);break;case 1:Qs(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&qv(r,r.return,l),tl(r);break;case 27:Su(r.stateNode);case 26:case 5:Qs(r,r.return),tl(r);break;case 22:r.memoizedState===null&&tl(r);break;case 30:tl(r);break;default:tl(r)}i=i.sibling}}function $a(i,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var h=r.alternate,g=i,_=r,A=_.flags;switch(_.tag){case 0:case 11:case 15:$a(g,_,l),pu(4,_);break;case 1:if($a(g,_,l),h=_,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ne){At(h,h.return,ne)}if(h=_,g=h.updateQueue,g!==null){var I=h.stateNode;try{var G=g.shared.hiddenCallbacks;if(G!==null)for(g.shared.hiddenCallbacks=null,g=0;g<G.length;g++)C_(G[g],I)}catch(ne){At(h,h.return,ne)}}l&&A&64&&Fv(_),gu(_,_.return);break;case 27:Zv(_);case 26:case 5:$a(g,_,l),l&&h===null&&A&4&&Gv(_),gu(_,_.return);break;case 12:$a(g,_,l);break;case 13:$a(g,_,l),l&&A&4&&Xv(g,_);break;case 22:_.memoizedState===null&&$a(g,_,l),gu(_,_.return);break;case 30:break;default:$a(g,_,l)}r=r.sibling}}function cp(i,r){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&tu(l))}function up(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&tu(i))}function Xs(i,r,l,h){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)t0(i,r,l,h),r=r.sibling}function t0(i,r,l,h){var g=r.flags;switch(r.tag){case 0:case 11:case 15:Xs(i,r,l,h),g&2048&&pu(9,r);break;case 1:Xs(i,r,l,h);break;case 3:Xs(i,r,l,h),g&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&tu(i)));break;case 12:if(g&2048){Xs(i,r,l,h),i=r.stateNode;try{var _=r.memoizedProps,A=_.id,I=_.onPostCommit;typeof I=="function"&&I(A,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(G){At(r,r.return,G)}}else Xs(i,r,l,h);break;case 13:Xs(i,r,l,h);break;case 23:break;case 22:_=r.stateNode,A=r.alternate,r.memoizedState!==null?_._visibility&2?Xs(i,r,l,h):yu(i,r):_._visibility&2?Xs(i,r,l,h):(_._visibility|=2,ic(i,r,l,h,(r.subtreeFlags&10256)!==0)),g&2048&&cp(A,r);break;case 24:Xs(i,r,l,h),g&2048&&up(r.alternate,r);break;default:Xs(i,r,l,h)}}function ic(i,r,l,h,g){for(g=g&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var _=i,A=r,I=l,G=h,ne=A.flags;switch(A.tag){case 0:case 11:case 15:ic(_,A,I,G,g),pu(8,A);break;case 23:break;case 22:var fe=A.stateNode;A.memoizedState!==null?fe._visibility&2?ic(_,A,I,G,g):yu(_,A):(fe._visibility|=2,ic(_,A,I,G,g)),g&&ne&2048&&cp(A.alternate,A);break;case 24:ic(_,A,I,G,g),g&&ne&2048&&up(A.alternate,A);break;default:ic(_,A,I,G,g)}r=r.sibling}}function yu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=i,h=r,g=h.flags;switch(h.tag){case 22:yu(l,h),g&2048&&cp(h.alternate,h);break;case 24:yu(l,h),g&2048&&up(h.alternate,h);break;default:yu(l,h)}r=r.sibling}}var _u=8192;function sc(i){if(i.subtreeFlags&_u)for(i=i.child;i!==null;)n0(i),i=i.sibling}function n0(i){switch(i.tag){case 26:sc(i),i.flags&_u&&i.memoizedState!==null&&hN(Ss,i.memoizedState,i.memoizedProps);break;case 5:sc(i);break;case 3:case 4:var r=Ss;Ss=vd(i.stateNode.containerInfo),sc(i),Ss=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=_u,_u=16777216,sc(i),_u=r):sc(i));break;default:sc(i)}}function i0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function vu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];En=h,r0(h,i)}i0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)s0(i),i=i.sibling}function s0(i){switch(i.tag){case 0:case 11:case 15:vu(i),i.flags&2048&&qa(9,i,i.return);break;case 3:vu(i);break;case 12:vu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,od(i)):vu(i);break;default:vu(i)}}function od(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];En=h,r0(h,i)}i0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:qa(8,r,r.return),od(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,od(r));break;default:od(r)}i=i.sibling}}function r0(i,r){for(;En!==null;){var l=En;switch(l.tag){case 0:case 11:case 15:qa(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:tu(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,En=h;else e:for(l=i;En!==null;){h=En;var g=h.sibling,_=h.return;if(Wv(h),h===l){En=null;break e}if(g!==null){g.return=_,En=g;break e}En=_}}}var AS={getCacheForType:function(i){var r=kn(cn),l=r.data.get(i);return l===void 0&&(l=i(),r.data.set(i,l)),l}},RS=typeof WeakMap=="function"?WeakMap:Map,vt=0,Ct=null,st=null,ft=0,xt=0,Vi=null,Za=!1,rc=!1,hp=!1,Kr=0,$t=0,Ka=0,nl=0,dp=0,rs=0,ac=0,xu=null,gi=null,fp=!1,mp=0,ld=1/0,cd=null,Ya=null,Rn=0,Wa=null,oc=null,lc=0,pp=0,gp=null,a0=null,bu=0,yp=null;function Ui(){if((vt&2)!==0&&ft!==0)return ft&-ft;if(X.T!==null){var i=Yl;return i!==0?i:Tp()}return hs()}function o0(){rs===0&&(rs=(ft&536870912)===0||$e?Co():536870912);var i=ss.current;return i!==null&&(i.flags|=32),rs}function zi(i,r,l){(i===Ct&&(xt===2||xt===9)||i.cancelPendingCommit!==null)&&(cc(i,0),Qa(i,ft,rs,!1)),Mt(i,l),((vt&2)===0||i!==Ct)&&(i===Ct&&((vt&2)===0&&(nl|=l),$t===4&&Qa(i,ft,rs,!1)),Js(i))}function l0(i,r,l){if((vt&6)!==0)throw Error(s(327));var h=!l&&(r&124)===0&&(r&i.expiredLanes)===0||oi(i,r),g=h?jS(i,r):xp(i,r,!0),_=h;do{if(g===0){rc&&!h&&Qa(i,r,0,!1);break}else{if(l=i.current.alternate,_&&!CS(l)){g=xp(i,r,!1),_=!1;continue}if(g===2){if(_=r,i.errorRecoveryDisabledLanes&_)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){r=A;e:{var I=i;g=xu;var G=I.current.memoizedState.isDehydrated;if(G&&(cc(I,A).flags|=256),A=xp(I,A,!1),A!==2){if(hp&&!G){I.errorRecoveryDisabledLanes|=_,nl|=_,g=4;break e}_=gi,gi=g,_!==null&&(gi===null?gi=_:gi.push.apply(gi,_))}g=A}if(_=!1,g!==2)continue}}if(g===1){cc(i,0),Qa(i,r,0,!0);break}e:{switch(h=i,_=g,_){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Qa(h,r,rs,!Za);break e;case 2:gi=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(g=mp+300-fn(),10<g)){if(Qa(h,r,rs,!Za),ai(h,0,!0)!==0)break e;h.timeoutHandle=L0(c0.bind(null,h,l,gi,cd,fp,r,rs,nl,ac,Za,_,2,-0,0),g);break e}c0(h,l,gi,cd,fp,r,rs,nl,ac,Za,_,0,-0,0)}}break}while(!0);Js(i)}function c0(i,r,l,h,g,_,A,I,G,ne,fe,ge,ie,ae){if(i.timeoutHandle=-1,ge=r.subtreeFlags,(ge&8192||(ge&16785408)===16785408)&&(Ru={stylesheets:null,count:0,unsuspend:uN},n0(r),ge=dN(),ge!==null)){i.cancelPendingCommit=ge(g0.bind(null,i,r,_,l,h,g,A,I,G,fe,1,ie,ae)),Qa(i,_,A,!ne);return}g0(i,r,_,l,h,g,A,I,G)}function CS(i){for(var r=i;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],_=g.getSnapshot;g=g.value;try{if(!Jn(_(),g))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Qa(i,r,l,h){r&=~dp,r&=~nl,i.suspendedLanes|=r,i.pingedLanes&=~r,h&&(i.warmLanes|=r),h=i.expirationTimes;for(var g=r;0<g;){var _=31-Nn(g),A=1<<_;h[_]=-1,g&=~A}l!==0&&Ls(i,l,r)}function ud(){return(vt&6)===0?(wu(0),!1):!0}function _p(){if(st!==null){if(xt===0)var i=st.return;else i=st,Es=is=null,Dm(i),tc=null,du=0,i=st;for(;i!==null;)Hv(i.alternate,i),i=i.return;st=null}}function cc(i,r){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,ZS(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),_p(),Ct=i,st=l=ns(i.current,null),ft=r,xt=0,Vi=null,Za=!1,rc=oi(i,r),hp=!1,ac=rs=dp=nl=Ka=$t=0,gi=xu=null,fp=!1,(r&8)!==0&&(r|=r&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=r;0<h;){var g=31-Nn(h),_=1<<g;r|=i[g],h&=~_}return Kr=r,qo(),l}function u0(i,r){et=null,X.H=Qh,r===iu||r===Bh?(r=A_(),xt=3):r===T_?(r=A_(),xt=4):xt=r===Rv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Vi=r,st===null&&($t=1,nd(i,ti(r,i.current)))}function h0(){var i=X.H;return X.H=Qh,i===null?Qh:i}function d0(){var i=X.A;return X.A=AS,i}function vp(){$t=4,Za||(ft&4194048)!==ft&&ss.current!==null||(rc=!0),(Ka&134217727)===0&&(nl&134217727)===0||Ct===null||Qa(Ct,ft,rs,!1)}function xp(i,r,l){var h=vt;vt|=2;var g=h0(),_=d0();(Ct!==i||ft!==r)&&(cd=null,cc(i,r)),r=!1;var A=$t;e:do try{if(xt!==0&&st!==null){var I=st,G=Vi;switch(xt){case 8:_p(),A=6;break e;case 3:case 2:case 9:case 6:ss.current===null&&(r=!0);var ne=xt;if(xt=0,Vi=null,uc(i,I,G,ne),l&&rc){A=0;break e}break;default:ne=xt,xt=0,Vi=null,uc(i,I,G,ne)}}IS(),A=$t;break}catch(fe){u0(i,fe)}while(!0);return r&&i.shellSuspendCounter++,Es=is=null,vt=h,X.H=g,X.A=_,st===null&&(Ct=null,ft=0,qo()),A}function IS(){for(;st!==null;)f0(st)}function jS(i,r){var l=vt;vt|=2;var h=h0(),g=d0();Ct!==i||ft!==r?(cd=null,ld=fn()+500,cc(i,r)):rc=oi(i,r);e:do try{if(xt!==0&&st!==null){r=st;var _=Vi;t:switch(xt){case 1:xt=0,Vi=null,uc(i,r,_,1);break;case 2:case 9:if(S_(_)){xt=0,Vi=null,m0(r);break}r=function(){xt!==2&&xt!==9||Ct!==i||(xt=7),Js(i)},_.then(r,r);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:S_(_)?(xt=0,Vi=null,m0(r)):(xt=0,Vi=null,uc(i,r,_,7));break;case 5:var A=null;switch(st.tag){case 26:A=st.memoizedState;case 5:case 27:var I=st;if(!A||Y0(A)){xt=0,Vi=null;var G=I.sibling;if(G!==null)st=G;else{var ne=I.return;ne!==null?(st=ne,hd(ne)):st=null}break t}}xt=0,Vi=null,uc(i,r,_,5);break;case 6:xt=0,Vi=null,uc(i,r,_,6);break;case 8:_p(),$t=6;break e;default:throw Error(s(462))}}OS();break}catch(fe){u0(i,fe)}while(!0);return Es=is=null,X.H=h,X.A=g,vt=l,st!==null?0:(Ct=null,ft=0,qo(),$t)}function OS(){for(;st!==null&&!Rl();)f0(st)}function f0(i){var r=zv(i.alternate,i,Kr);i.memoizedProps=i.pendingProps,r===null?hd(i):st=r}function m0(i){var r=i,l=r.alternate;switch(r.tag){case 15:case 0:r=Mv(l,r,r.pendingProps,r.type,void 0,ft);break;case 11:r=Mv(l,r,r.pendingProps,r.type.render,r.ref,ft);break;case 5:Dm(r);default:Hv(l,r),r=st=Jc(r,Kr),r=zv(l,r,Kr)}i.memoizedProps=i.pendingProps,r===null?hd(i):st=r}function uc(i,r,l,h){Es=is=null,Dm(r),tc=null,du=0;var g=r.return;try{if(bS(i,g,r,l,ft)){$t=1,nd(i,ti(l,i.current)),st=null;return}}catch(_){if(g!==null)throw st=g,_;$t=1,nd(i,ti(l,i.current)),st=null;return}r.flags&32768?($e||h===1?i=!0:rc||(ft&536870912)!==0?i=!1:(Za=i=!0,(h===2||h===9||h===3||h===6)&&(h=ss.current,h!==null&&h.tag===13&&(h.flags|=16384))),p0(r,i)):hd(r)}function hd(i){var r=i;do{if((r.flags&32768)!==0){p0(r,Za);return}i=r.return;var l=ES(r.alternate,r,Kr);if(l!==null){st=l;return}if(r=r.sibling,r!==null){st=r;return}st=r=i}while(r!==null);$t===0&&($t=5)}function p0(i,r){do{var l=TS(i.alternate,i);if(l!==null){l.flags&=32767,st=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(i=i.sibling,i!==null)){st=i;return}st=i=l}while(i!==null);$t=6,st=null}function g0(i,r,l,h,g,_,A,I,G){i.cancelPendingCommit=null;do dd();while(Rn!==0);if((vt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(_=r.lanes|r.childLanes,_|=Di,Ol(i,l,_,A,I,G),i===Ct&&(st=Ct=null,ft=0),oc=r,Wa=i,lc=l,pp=_,gp=g,a0=h,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,kS(wi,function(){return b0(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||h){h=X.T,X.T=null,g=_e.p,_e.p=2,A=vt,vt|=4;try{SS(i,r,l)}finally{vt=A,_e.p=g,X.T=h}}Rn=1,y0(),_0(),v0()}}function y0(){if(Rn===1){Rn=0;var i=Wa,r=oc,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null;var h=_e.p;_e.p=2;var g=vt;vt|=4;try{Jv(r,i);var _=Op,A=Bo(i.containerInfo),I=_.focusedElem,G=_.selectionRange;if(A!==I&&I&&I.ownerDocument&&Bl(I.ownerDocument.documentElement,I)){if(G!==null&&Ho(I)){var ne=G.start,fe=G.end;if(fe===void 0&&(fe=ne),"selectionStart"in I)I.selectionStart=ne,I.selectionEnd=Math.min(fe,I.value.length);else{var ge=I.ownerDocument||document,ie=ge&&ge.defaultView||window;if(ie.getSelection){var ae=ie.getSelection(),Ge=I.textContent.length,ze=Math.min(G.start,Ge),St=G.end===void 0?ze:Math.min(G.end,Ge);!ae.extend&&ze>St&&(A=St,St=ze,ze=A);var Q=Qc(I,ze),Y=Qc(I,St);if(Q&&Y&&(ae.rangeCount!==1||ae.anchorNode!==Q.node||ae.anchorOffset!==Q.offset||ae.focusNode!==Y.node||ae.focusOffset!==Y.offset)){var te=ge.createRange();te.setStart(Q.node,Q.offset),ae.removeAllRanges(),ze>St?(ae.addRange(te),ae.extend(Y.node,Y.offset)):(te.setEnd(Y.node,Y.offset),ae.addRange(te))}}}}for(ge=[],ae=I;ae=ae.parentNode;)ae.nodeType===1&&ge.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<ge.length;I++){var me=ge[I];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}Td=!!jp,Op=jp=null}finally{vt=g,_e.p=h,X.T=l}}i.current=r,Rn=2}}function _0(){if(Rn===2){Rn=0;var i=Wa,r=oc,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=X.T,X.T=null;var h=_e.p;_e.p=2;var g=vt;vt|=4;try{Yv(i,r.alternate,r)}finally{vt=g,_e.p=h,X.T=l}}Rn=3}}function v0(){if(Rn===4||Rn===3){Rn=0,ma();var i=Wa,r=oc,l=lc,h=a0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Rn=5:(Rn=0,oc=Wa=null,x0(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Ya=null),jo(l),r=r.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Fi,r,void 0,(r.current.flags&128)===128)}catch{}if(h!==null){r=X.T,g=_e.p,_e.p=2,X.T=null;try{for(var _=i.onRecoverableError,A=0;A<h.length;A++){var I=h[A];_(I.value,{componentStack:I.stack})}}finally{X.T=r,_e.p=g}}(lc&3)!==0&&dd(),Js(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===yp?bu++:(bu=0,yp=i):bu=0,wu(0)}}function x0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,tu(r)))}function dd(i){return y0(),_0(),v0(),b0()}function b0(){if(Rn!==5)return!1;var i=Wa,r=pp;pp=0;var l=jo(lc),h=X.T,g=_e.p;try{_e.p=32>l?32:l,X.T=null,l=gp,gp=null;var _=Wa,A=lc;if(Rn=0,oc=Wa=null,lc=0,(vt&6)!==0)throw Error(s(331));var I=vt;if(vt|=4,s0(_.current),t0(_,_.current,A,l),vt=I,wu(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Fi,_)}catch{}return!0}finally{_e.p=g,X.T=h,x0(i,r)}}function w0(i,r,l){r=ti(l,r),r=Ym(i.stateNode,r,2),i=za(i,r,2),i!==null&&(Mt(i,2),Js(i))}function At(i,r,l){if(i.tag===3)w0(i,i,l);else for(;r!==null;){if(r.tag===3){w0(r,i,l);break}else if(r.tag===1){var h=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ya===null||!Ya.has(h))){i=ti(l,i),l=Nv(2),h=za(r,l,2),h!==null&&(Av(l,h,r,i),Mt(h,2),Js(h));break}}r=r.return}}function bp(i,r,l){var h=i.pingCache;if(h===null){h=i.pingCache=new RS;var g=new Set;h.set(r,g)}else g=h.get(r),g===void 0&&(g=new Set,h.set(r,g));g.has(l)||(hp=!0,g.add(l),i=PS.bind(null,i,r,l),r.then(i,i))}function PS(i,r,l){var h=i.pingCache;h!==null&&h.delete(r),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Ct===i&&(ft&l)===l&&($t===4||$t===3&&(ft&62914560)===ft&&300>fn()-mp?(vt&2)===0&&cc(i,0):dp|=l,ac===ft&&(ac=0)),Js(i)}function E0(i,r){r===0&&(r=us()),i=Ma(i,r),i!==null&&(Mt(i,r),Js(i))}function MS(i){var r=i.memoizedState,l=0;r!==null&&(l=r.retryLane),E0(i,l)}function DS(i,r){var l=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(r),E0(i,l)}function kS(i,r){return cs(i,r)}var fd=null,hc=null,wp=!1,md=!1,Ep=!1,il=0;function Js(i){i!==hc&&i.next===null&&(hc===null?fd=hc=i:hc=hc.next=i),md=!0,wp||(wp=!0,VS())}function wu(i,r){if(!Ep&&md){Ep=!0;do for(var l=!1,h=fd;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var _=0;else{var A=h.suspendedLanes,I=h.pingedLanes;_=(1<<31-Nn(42|i)+1)-1,_&=g&~(A&~I),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,A0(h,_))}else _=ft,_=ai(h,h===Ct?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||oi(h,_)||(l=!0,A0(h,_));h=h.next}while(l);Ep=!1}}function LS(){T0()}function T0(){md=wp=!1;var i=0;il!==0&&($S()&&(i=il),il=0);for(var r=fn(),l=null,h=fd;h!==null;){var g=h.next,_=S0(h,r);_===0?(h.next=null,l===null?fd=g:l.next=g,g===null&&(hc=l)):(l=h,(i!==0||(_&3)!==0)&&(md=!0)),h=g}wu(i)}function S0(i,r){for(var l=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var A=31-Nn(_),I=1<<A,G=g[A];G===-1?((I&l)===0||(I&h)!==0)&&(g[A]=ga(I,r)):G<=r&&(i.expiredLanes|=I),_&=~I}if(r=Ct,l=ft,l=ai(i,i===r?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===r&&(xt===2||xt===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&fa(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||oi(i,l)){if(r=l&-l,r===i.callbackPriority)return r;switch(h!==null&&fa(h),jo(l)){case 2:case 8:l=Kt;break;case 32:l=wi;break;case 268435456:l=pa;break;default:l=wi}return h=N0.bind(null,i),l=cs(l,h),i.callbackPriority=r,i.callbackNode=l,r}return h!==null&&h!==null&&fa(h),i.callbackPriority=2,i.callbackNode=null,2}function N0(i,r){if(Rn!==0&&Rn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(dd()&&i.callbackNode!==l)return null;var h=ft;return h=ai(i,i===Ct?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(l0(i,h,r),S0(i,fn()),i.callbackNode!=null&&i.callbackNode===l?N0.bind(null,i):null)}function A0(i,r){if(dd())return null;l0(i,r,!0)}function VS(){KS(function(){(vt&6)!==0?cs(Zt,LS):T0()})}function Tp(){return il===0&&(il=Co()),il}function R0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Kn(""+i)}function C0(i,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,i.id&&l.setAttribute("form",i.id),r.parentNode.insertBefore(l,r),i=new FormData(i),l.parentNode.removeChild(l),i}function US(i,r,l,h,g){if(r==="submit"&&l&&l.stateNode===g){var _=R0((g[an]||null).action),A=h.submitter;A&&(r=(r=A[an]||null)?R0(r.formAction):A.getAttribute("formAction"),r!==null&&(_=r,A=null));var I=new qs("action","action",null,h,g);i.push({event:I,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(il!==0){var G=A?C0(g,A):new FormData(g);qm(l,{pending:!0,data:G,method:g.method,action:_},null,G)}}else typeof _=="function"&&(I.preventDefault(),G=A?C0(g,A):new FormData(g),qm(l,{pending:!0,data:G,method:g.method,action:_},_,G))},currentTarget:g}]})}}for(var Sp=0;Sp<Lr.length;Sp++){var Np=Lr[Sp],zS=Np.toLowerCase(),BS=Np[0].toUpperCase()+Np.slice(1);Mi(zS,"on"+BS)}Mi(Oh,"onAnimationEnd"),Mi(Pi,"onAnimationIteration"),Mi(Fo,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(vm,"onTransitionRun"),Mi(Gl,"onTransitionStart"),Mi(xm,"onTransitionCancel"),Mi(Xc,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$i("onBeforeInput",["compositionend","keypress","textInput","paste"]),$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eu));function I0(i,r){r=(r&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],g=h.event;h=h.listeners;e:{var _=void 0;if(r)for(var A=h.length-1;0<=A;A--){var I=h[A],G=I.instance,ne=I.currentTarget;if(I=I.listener,G!==_&&g.isPropagationStopped())break e;_=I,g.currentTarget=ne;try{_(g)}catch(fe){td(fe)}g.currentTarget=null,_=G}else for(A=0;A<h.length;A++){if(I=h[A],G=I.instance,ne=I.currentTarget,I=I.listener,G!==_&&g.isPropagationStopped())break e;_=I,g.currentTarget=ne;try{_(g)}catch(fe){td(fe)}g.currentTarget=null,_=G}}}}function rt(i,r){var l=r[mn];l===void 0&&(l=r[mn]=new Set);var h=i+"__bubble";l.has(h)||(j0(r,i,2,!1),l.add(h))}function Ap(i,r,l){var h=0;r&&(h|=4),j0(l,i,h,r)}var pd="_reactListening"+Math.random().toString(36).slice(2);function Rp(i){if(!i[pd]){i[pd]=!0,Ml.forEach(function(l){l!=="selectionchange"&&(HS.has(l)||Ap(l,!1,i),Ap(l,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[pd]||(r[pd]=!0,Ap("selectionchange",!1,r))}}function j0(i,r,l,h){switch(tx(r)){case 2:var g=pN;break;case 8:g=gN;break;default:g=Hp}l=g.bind(null,r,l,i),g=void 0,!Ni||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(r,l,{capture:!0,passive:g}):i.addEventListener(r,l,!0):g!==void 0?i.addEventListener(r,l,{passive:g}):i.addEventListener(r,l,!1)}function Cp(i,r,l,h,g){var _=h;if((r&1)===0&&(r&2)===0&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var I=h.stateNode.containerInfo;if(I===g)break;if(A===4)for(A=h.return;A!==null;){var G=A.tag;if((G===3||G===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;I!==null;){if(A=ci(I),A===null)return;if(G=A.tag,G===5||G===6||G===26||G===27){h=_=A;continue e}I=I.parentNode}}h=h.return}yn(function(){var ne=_,fe=Bs(l),ge=[];e:{var ie=Ph.get(i);if(ie!==void 0){var ae=qs,Ge=i;switch(i){case"keypress":if(Ot(l)===0)break e;case"keydown":case"keyup":ae=Ta;break;case"focusin":Ge="focus",ae=xa;break;case"focusout":Ge="blur",ae=xa;break;case"beforeblur":case"afterblur":ae=xa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Ai;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Ll;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=Gs;break;case Oh:case Pi:case Fo:ae=Do;break;case Xc:ae=E;break;case"scroll":case"scrollend":ae=Or;break;case"wheel":ae=j;break;case"copy":case"cut":case"paste":ae=ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Sa;break;case"toggle":case"beforetoggle":ae=se}var ze=(r&4)!==0,St=!ze&&(i==="scroll"||i==="scrollend"),Q=ze?ie!==null?ie+"Capture":null:ie;ze=[];for(var Y=ne,te;Y!==null;){var me=Y;if(te=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||te===null||Q===null||(me=ht(Y,Q),me!=null&&ze.push(Tu(Y,me,te))),St)break;Y=Y.return}0<ze.length&&(ie=new ae(ie,Ge,null,l,fe),ge.push({event:ie,listeners:ze}))}}if((r&7)===0){e:{if(ie=i==="mouseover"||i==="pointerover",ae=i==="mouseout"||i==="pointerout",ie&&l!==jr&&(Ge=l.relatedTarget||l.fromElement)&&(ci(Ge)||Ge[ds]))break e;if((ae||ie)&&(ie=fe.window===fe?fe:(ie=fe.ownerDocument)?ie.defaultView||ie.parentWindow:window,ae?(Ge=l.relatedTarget||l.toElement,ae=ne,Ge=Ge?ci(Ge):null,Ge!==null&&(St=c(Ge),ze=Ge.tag,Ge!==St||ze!==5&&ze!==27&&ze!==6)&&(Ge=null)):(ae=null,Ge=ne),ae!==Ge)){if(ze=Ai,me="onMouseLeave",Q="onMouseEnter",Y="mouse",(i==="pointerout"||i==="pointerover")&&(ze=Sa,me="onPointerLeave",Q="onPointerEnter",Y="pointer"),St=ae==null?ie:qn(ae),te=Ge==null?ie:qn(Ge),ie=new ze(me,Y+"leave",ae,l,fe),ie.target=St,ie.relatedTarget=te,me=null,ci(fe)===ne&&(ze=new ze(Q,Y+"enter",Ge,l,fe),ze.target=te,ze.relatedTarget=St,me=ze),St=me,ae&&Ge)t:{for(ze=ae,Q=Ge,Y=0,te=ze;te;te=dc(te))Y++;for(te=0,me=Q;me;me=dc(me))te++;for(;0<Y-te;)ze=dc(ze),Y--;for(;0<te-Y;)Q=dc(Q),te--;for(;Y--;){if(ze===Q||Q!==null&&ze===Q.alternate)break t;ze=dc(ze),Q=dc(Q)}ze=null}else ze=null;ae!==null&&O0(ge,ie,ae,ze,!1),Ge!==null&&St!==null&&O0(ge,St,Ge,ze,!0)}}e:{if(ie=ne?qn(ne):window,ae=ie.nodeName&&ie.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ie.type==="file")var De=Ra;else if(Dr(ie))if(Kc)De=_m;else{De=ym;var nt=Wc}else ae=ie.nodeName,!ae||ae.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?ne&&zs(ne.elementType)&&(De=Ra):De=ws;if(De&&(De=De(i,ne))){Rh(ge,De,l,fe);break e}nt&&nt(i,ie,ne),i==="focusout"&&ne&&ie.type==="number"&&ne.memoizedProps.value!=null&&Us(ie,"number",ie.value)}switch(nt=ne?qn(ne):window,i){case"focusin":(Dr(nt)||nt.contentEditable==="true")&&(Oi=nt,ja=ne,kr=null);break;case"focusout":kr=ja=Oi=null;break;case"mousedown":Fl=!0;break;case"contextmenu":case"mouseup":case"dragend":Fl=!1,Ih(ge,l,fe);break;case"selectionchange":if(Hl)break;case"keydown":case"keyup":Ih(ge,l,fe)}var Ve;if(He)e:{switch(i){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Ii?Qn(i,l)&&(Fe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Fe="onCompositionStart");Fe&&(Dt&&l.locale!=="ko"&&(Ii||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Ii&&(Ve=Fs()):(Mn=fe,dt="value"in Mn?Mn.value:Mn.textContent,Ii=!0)),nt=gd(ne,Fe),0<nt.length&&(Fe=new Dn(Fe,i,null,l,fe),ge.push({event:Fe,listeners:nt}),Ve?Fe.data=Ve:(Ve=Ci(l),Ve!==null&&(Fe.data=Ve)))),(Ve=pt?Na(i,l):gm(i,l))&&(Fe=gd(ne,"onBeforeInput"),0<Fe.length&&(nt=new Dn("onBeforeInput","beforeinput",null,l,fe),ge.push({event:nt,listeners:Fe}),nt.data=Ve)),US(ge,i,ne,l,fe)}I0(ge,r)})}function Tu(i,r,l){return{instance:i,listener:r,currentTarget:l}}function gd(i,r){for(var l=r+"Capture",h=[];i!==null;){var g=i,_=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||_===null||(g=ht(i,l),g!=null&&h.unshift(Tu(i,g,_)),g=ht(i,r),g!=null&&h.push(Tu(i,g,_))),i.tag===3)return h;i=i.return}return[]}function dc(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function O0(i,r,l,h,g){for(var _=r._reactName,A=[];l!==null&&l!==h;){var I=l,G=I.alternate,ne=I.stateNode;if(I=I.tag,G!==null&&G===h)break;I!==5&&I!==26&&I!==27||ne===null||(G=ne,g?(ne=ht(l,_),ne!=null&&A.unshift(Tu(l,ne,G))):g||(ne=ht(l,_),ne!=null&&A.push(Tu(l,ne,G)))),l=l.return}A.length!==0&&i.push({event:r,listeners:A})}var FS=/\r\n?/g,qS=/\u0000|\uFFFD/g;function P0(i){return(typeof i=="string"?i:""+i).replace(FS,`
`).replace(qS,"")}function M0(i,r){return r=P0(r),P0(i)===r}function yd(){}function Tt(i,r,l,h,g,_){switch(l){case"children":typeof h=="string"?r==="body"||r==="textarea"&&h===""||gn(i,h):(typeof h=="number"||typeof h=="bigint")&&r!=="body"&&gn(i,""+h);break;case"className":Ar(i,"class",h);break;case"tabIndex":Ar(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Ar(i,l,h);break;case"style":ys(i,h,_);break;case"data":if(r!=="object"){Ar(i,"data",h);break}case"src":case"href":if(h===""&&(r!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Kn(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(r!=="input"&&Tt(i,r,"name",g.name,g,null),Tt(i,r,"formEncType",g.formEncType,g,null),Tt(i,r,"formMethod",g.formMethod,g,null),Tt(i,r,"formTarget",g.formTarget,g,null)):(Tt(i,r,"encType",g.encType,g,null),Tt(i,r,"method",g.method,g,null),Tt(i,r,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Kn(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=yd);break;case"onScroll":h!=null&&rt("scroll",i);break;case"onScrollEnd":h!=null&&rt("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Kn(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":rt("beforetoggle",i),rt("toggle",i),Nr(i,"popover",h);break;case"xlinkActuate":ui(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":ui(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":ui(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":ui(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":ui(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":ui(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":ui(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":ui(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":ui(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Nr(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=_a.get(l)||l,Nr(i,l,h))}}function Ip(i,r,l,h,g,_){switch(l){case"style":ys(i,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"children":typeof h=="string"?gn(i,h):(typeof h=="number"||typeof h=="bigint")&&gn(i,""+h);break;case"onScroll":h!=null&&rt("scroll",i);break;case"onScrollEnd":h!=null&&rt("scrollend",i);break;case"onClick":h!=null&&(i.onclick=yd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),r=l.slice(2,g?l.length-7:void 0),_=i[an]||null,_=_!=null?_[l]:null,typeof _=="function"&&i.removeEventListener(r,_,g),typeof h=="function")){typeof _!="function"&&_!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(r,h,g);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):Nr(i,l,h)}}}function Cn(i,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",i),rt("load",i);var h=!1,g=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var A=l[_];if(A!=null)switch(_){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Tt(i,r,_,A,l,null)}}g&&Tt(i,r,"srcSet",l.srcSet,l,null),h&&Tt(i,r,"src",l.src,l,null);return;case"input":rt("invalid",i);var I=_=A=g=null,G=null,ne=null;for(h in l)if(l.hasOwnProperty(h)){var fe=l[h];if(fe!=null)switch(h){case"name":g=fe;break;case"type":A=fe;break;case"checked":G=fe;break;case"defaultChecked":ne=fe;break;case"value":_=fe;break;case"defaultValue":I=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(s(137,r));break;default:Tt(i,r,h,fe,l,null)}}Po(i,_,I,G,ne,A,g,!1),Wi(i);return;case"select":rt("invalid",i),h=A=_=null;for(g in l)if(l.hasOwnProperty(g)&&(I=l[g],I!=null))switch(g){case"value":_=I;break;case"defaultValue":A=I;break;case"multiple":h=I;default:Tt(i,r,g,I,l,null)}r=_,l=A,i.multiple=!!h,r!=null?Pn(i,!!h,r,!1):l!=null&&Pn(i,!!h,l,!0);return;case"textarea":rt("invalid",i),_=g=h=null;for(A in l)if(l.hasOwnProperty(A)&&(I=l[A],I!=null))switch(A){case"value":h=I;break;case"defaultValue":g=I;break;case"children":_=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(91));break;default:Tt(i,r,A,I,l,null)}Qi(i,h,g,_),Wi(i);return;case"option":for(G in l)if(l.hasOwnProperty(G)&&(h=l[G],h!=null))switch(G){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Tt(i,r,G,h,l,null)}return;case"dialog":rt("beforetoggle",i),rt("toggle",i),rt("cancel",i),rt("close",i);break;case"iframe":case"object":rt("load",i);break;case"video":case"audio":for(h=0;h<Eu.length;h++)rt(Eu[h],i);break;case"image":rt("error",i),rt("load",i);break;case"details":rt("toggle",i);break;case"embed":case"source":case"link":rt("error",i),rt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in l)if(l.hasOwnProperty(ne)&&(h=l[ne],h!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Tt(i,r,ne,h,l,null)}return;default:if(zs(r)){for(fe in l)l.hasOwnProperty(fe)&&(h=l[fe],h!==void 0&&Ip(i,r,fe,h,l,void 0));return}}for(I in l)l.hasOwnProperty(I)&&(h=l[I],h!=null&&Tt(i,r,I,h,l,null))}function GS(i,r,l,h){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,_=null,A=null,I=null,G=null,ne=null,fe=null;for(ae in l){var ge=l[ae];if(l.hasOwnProperty(ae)&&ge!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":G=ge;default:h.hasOwnProperty(ae)||Tt(i,r,ae,null,h,ge)}}for(var ie in h){var ae=h[ie];if(ge=l[ie],h.hasOwnProperty(ie)&&(ae!=null||ge!=null))switch(ie){case"type":_=ae;break;case"name":g=ae;break;case"checked":ne=ae;break;case"defaultChecked":fe=ae;break;case"value":A=ae;break;case"defaultValue":I=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,r));break;default:ae!==ge&&Tt(i,r,ie,ae,h,ge)}}pn(i,A,I,G,ne,fe,_,g);return;case"select":ae=A=I=ie=null;for(_ in l)if(G=l[_],l.hasOwnProperty(_)&&G!=null)switch(_){case"value":break;case"multiple":ae=G;default:h.hasOwnProperty(_)||Tt(i,r,_,null,h,G)}for(g in h)if(_=h[g],G=l[g],h.hasOwnProperty(g)&&(_!=null||G!=null))switch(g){case"value":ie=_;break;case"defaultValue":I=_;break;case"multiple":A=_;default:_!==G&&Tt(i,r,g,_,h,G)}r=I,l=A,h=ae,ie!=null?Pn(i,!!l,ie,!1):!!h!=!!l&&(r!=null?Pn(i,!!l,r,!0):Pn(i,!!l,l?[]:"",!1));return;case"textarea":ae=ie=null;for(I in l)if(g=l[I],l.hasOwnProperty(I)&&g!=null&&!h.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Tt(i,r,I,null,h,g)}for(A in h)if(g=h[A],_=l[A],h.hasOwnProperty(A)&&(g!=null||_!=null))switch(A){case"value":ie=g;break;case"defaultValue":ae=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==_&&Tt(i,r,A,g,h,_)}jt(i,ie,ae);return;case"option":for(var Ge in l)if(ie=l[Ge],l.hasOwnProperty(Ge)&&ie!=null&&!h.hasOwnProperty(Ge))switch(Ge){case"selected":i.selected=!1;break;default:Tt(i,r,Ge,null,h,ie)}for(G in h)if(ie=h[G],ae=l[G],h.hasOwnProperty(G)&&ie!==ae&&(ie!=null||ae!=null))switch(G){case"selected":i.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:Tt(i,r,G,ie,h,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in l)ie=l[ze],l.hasOwnProperty(ze)&&ie!=null&&!h.hasOwnProperty(ze)&&Tt(i,r,ze,null,h,ie);for(ne in h)if(ie=h[ne],ae=l[ne],h.hasOwnProperty(ne)&&ie!==ae&&(ie!=null||ae!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,r));break;default:Tt(i,r,ne,ie,h,ae)}return;default:if(zs(r)){for(var St in l)ie=l[St],l.hasOwnProperty(St)&&ie!==void 0&&!h.hasOwnProperty(St)&&Ip(i,r,St,void 0,h,ie);for(fe in h)ie=h[fe],ae=l[fe],!h.hasOwnProperty(fe)||ie===ae||ie===void 0&&ae===void 0||Ip(i,r,fe,ie,h,ae);return}}for(var Q in l)ie=l[Q],l.hasOwnProperty(Q)&&ie!=null&&!h.hasOwnProperty(Q)&&Tt(i,r,Q,null,h,ie);for(ge in h)ie=h[ge],ae=l[ge],!h.hasOwnProperty(ge)||ie===ae||ie==null&&ae==null||Tt(i,r,ge,ie,h,ae)}var jp=null,Op=null;function _d(i){return i.nodeType===9?i:i.ownerDocument}function D0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function k0(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Pp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Mp=null;function $S(){var i=window.event;return i&&i.type==="popstate"?i===Mp?!1:(Mp=i,!0):(Mp=null,!1)}var L0=typeof setTimeout=="function"?setTimeout:void 0,ZS=typeof clearTimeout=="function"?clearTimeout:void 0,V0=typeof Promise=="function"?Promise:void 0,KS=typeof queueMicrotask=="function"?queueMicrotask:typeof V0<"u"?function(i){return V0.resolve(null).then(i).catch(YS)}:L0;function YS(i){setTimeout(function(){throw i})}function Xa(i){return i==="head"}function U0(i,r){var l=r,h=0,g=0;do{var _=l.nextSibling;if(i.removeChild(l),_&&_.nodeType===8)if(l=_.data,l==="/$"){if(0<h&&8>h){l=h;var A=i.ownerDocument;if(l&1&&Su(A.documentElement),l&2&&Su(A.body),l&4)for(l=A.head,Su(l),A=l.firstChild;A;){var I=A.nextSibling,G=A.nodeName;A[fs]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&A.rel.toLowerCase()==="stylesheet"||l.removeChild(A),A=I}}if(g===0){i.removeChild(_),Pu(r);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:h=l.charCodeAt(0)-48;else h=0;l=_}while(l);Pu(r)}function Dp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Dp(l),Er(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function WS(i,r,l,h){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[fs])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var _=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=Ns(i.nextSibling),i===null)break}return null}function QS(i,r,l){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ns(i.nextSibling),i===null))return null;return i}function kp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function XS(i,r){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")r();else{var h=function(){r(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Ns(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Lp=null;function z0(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return i;r--}else l==="/$"&&r++}i=i.previousSibling}return null}function B0(i,r,l){switch(r=_d(l),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Su(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Er(i)}var as=new Map,H0=new Set;function vd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Yr=_e.d;_e.d={f:JS,r:eN,D:tN,C:nN,L:iN,m:sN,X:aN,S:rN,M:oN};function JS(){var i=Yr.f(),r=ud();return i||r}function eN(i){var r=Ti(i);r!==null&&r.tag===5&&r.type==="form"?lv(r):Yr.r(i)}var fc=typeof document>"u"?null:document;function F0(i,r,l){var h=fc;if(h&&typeof r=="string"&&r){var g=Bt(r);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),H0.has(g)||(H0.add(g),i={rel:i,crossOrigin:l,href:r},h.querySelector(g)===null&&(r=h.createElement("link"),Cn(r,"link",i),zt(r),h.head.appendChild(r)))}}function tN(i){Yr.D(i),F0("dns-prefetch",i,null)}function nN(i,r){Yr.C(i,r),F0("preconnect",i,r)}function iN(i,r,l){Yr.L(i,r,l);var h=fc;if(h&&i&&r){var g='link[rel="preload"][as="'+Bt(r)+'"]';r==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Bt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Bt(l.imageSizes)+'"]')):g+='[href="'+Bt(i)+'"]';var _=g;switch(r){case"style":_=mc(i);break;case"script":_=pc(i)}as.has(_)||(i=w({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:i,as:r},l),as.set(_,i),h.querySelector(g)!==null||r==="style"&&h.querySelector(Nu(_))||r==="script"&&h.querySelector(Au(_))||(r=h.createElement("link"),Cn(r,"link",i),zt(r),h.head.appendChild(r)))}}function sN(i,r){Yr.m(i,r);var l=fc;if(l&&i){var h=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+Bt(h)+'"][href="'+Bt(i)+'"]',_=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=pc(i)}if(!as.has(_)&&(i=w({rel:"modulepreload",href:i},r),as.set(_,i),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Au(_)))return}h=l.createElement("link"),Cn(h,"link",i),zt(h),l.head.appendChild(h)}}}function rN(i,r,l){Yr.S(i,r,l);var h=fc;if(h&&i){var g=ms(h).hoistableStyles,_=mc(i);r=r||"default";var A=g.get(_);if(!A){var I={loading:0,preload:null};if(A=h.querySelector(Nu(_)))I.loading=5;else{i=w({rel:"stylesheet",href:i,"data-precedence":r},l),(l=as.get(_))&&Vp(i,l);var G=A=h.createElement("link");zt(G),Cn(G,"link",i),G._p=new Promise(function(ne,fe){G.onload=ne,G.onerror=fe}),G.addEventListener("load",function(){I.loading|=1}),G.addEventListener("error",function(){I.loading|=2}),I.loading|=4,xd(A,r,h)}A={type:"stylesheet",instance:A,count:1,state:I},g.set(_,A)}}}function aN(i,r){Yr.X(i,r);var l=fc;if(l&&i){var h=ms(l).hoistableScripts,g=pc(i),_=h.get(g);_||(_=l.querySelector(Au(g)),_||(i=w({src:i,async:!0},r),(r=as.get(g))&&Up(i,r),_=l.createElement("script"),zt(_),Cn(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(g,_))}}function oN(i,r){Yr.M(i,r);var l=fc;if(l&&i){var h=ms(l).hoistableScripts,g=pc(i),_=h.get(g);_||(_=l.querySelector(Au(g)),_||(i=w({src:i,async:!0,type:"module"},r),(r=as.get(g))&&Up(i,r),_=l.createElement("script"),zt(_),Cn(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(g,_))}}function q0(i,r,l,h){var g=(g=Ne.current)?vd(g):null;if(!g)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=mc(l.href),l=ms(g).hoistableStyles,h=l.get(r),h||(h={type:"style",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=mc(l.href);var _=ms(g).hoistableStyles,A=_.get(i);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,A),(_=g.querySelector(Nu(i)))&&!_._p&&(A.instance=_,A.state.loading=5),as.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},as.set(i,l),_||lN(g,i,l,A.state))),r&&h===null)throw Error(s(528,""));return A}if(r&&h!==null)throw Error(s(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=pc(l),l=ms(g).hoistableScripts,h=l.get(r),h||(h={type:"script",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function mc(i){return'href="'+Bt(i)+'"'}function Nu(i){return'link[rel="stylesheet"]['+i+"]"}function G0(i){return w({},i,{"data-precedence":i.precedence,precedence:null})}function lN(i,r,l,h){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?h.loading=1:(r=i.createElement("link"),h.preload=r,r.addEventListener("load",function(){return h.loading|=1}),r.addEventListener("error",function(){return h.loading|=2}),Cn(r,"link",l),zt(r),i.head.appendChild(r))}function pc(i){return'[src="'+Bt(i)+'"]'}function Au(i){return"script[async]"+i}function $0(i,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var h=i.querySelector('style[data-href~="'+Bt(l.href)+'"]');if(h)return r.instance=h,zt(h),h;var g=w({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),zt(h),Cn(h,"style",g),xd(h,l.precedence,i),r.instance=h;case"stylesheet":g=mc(l.href);var _=i.querySelector(Nu(g));if(_)return r.state.loading|=4,r.instance=_,zt(_),_;h=G0(l),(g=as.get(g))&&Vp(h,g),_=(i.ownerDocument||i).createElement("link"),zt(_);var A=_;return A._p=new Promise(function(I,G){A.onload=I,A.onerror=G}),Cn(_,"link",h),r.state.loading|=4,xd(_,l.precedence,i),r.instance=_;case"script":return _=pc(l.src),(g=i.querySelector(Au(_)))?(r.instance=g,zt(g),g):(h=l,(g=as.get(_))&&(h=w({},l),Up(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),zt(g),Cn(g,"link",h),i.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(h=r.instance,r.state.loading|=4,xd(h,l.precedence,i));return r.instance}function xd(i,r,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,_=g,A=0;A<h.length;A++){var I=h[A];if(I.dataset.precedence===r)_=I;else if(_!==g)break}_?_.parentNode.insertBefore(i,_.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(i,r.firstChild))}function Vp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Up(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var bd=null;function Z0(i,r,l){if(bd===null){var h=new Map,g=bd=new Map;g.set(l,h)}else g=bd,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var _=l[g];if(!(_[fs]||_[Ut]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var A=_.getAttribute(r)||"";A=i+A;var I=h.get(A);I?I.push(_):h.set(A,[_])}}return h}function K0(i,r,l){i=i.ownerDocument||i,i.head.insertBefore(l,r==="title"?i.querySelector("head > title"):null)}function cN(i,r,l){if(l===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Y0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Ru=null;function uN(){}function hN(i,r,l){if(Ru===null)throw Error(s(475));var h=Ru;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var g=mc(l.href),_=i.querySelector(Nu(g));if(_){i=_._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=wd.bind(h),i.then(h,h)),r.state.loading|=4,r.instance=_,zt(_);return}_=i.ownerDocument||i,l=G0(l),(g=as.get(g))&&Vp(l,g),_=_.createElement("link"),zt(_);var A=_;A._p=new Promise(function(I,G){A.onload=I,A.onerror=G}),Cn(_,"link",l),r.instance=_}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(h.count++,r=wd.bind(h),i.addEventListener("load",r),i.addEventListener("error",r))}}function dN(){if(Ru===null)throw Error(s(475));var i=Ru;return i.stylesheets&&i.count===0&&zp(i,i.stylesheets),0<i.count?function(r){var l=setTimeout(function(){if(i.stylesheets&&zp(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(l)}}:null}function wd(){if(this.count--,this.count===0){if(this.stylesheets)zp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ed=null;function zp(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ed=new Map,r.forEach(fN,i),Ed=null,wd.call(i))}function fN(i,r){if(!(r.state.loading&4)){var l=Ed.get(i);if(l)var h=l.get(null);else{l=new Map,Ed.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<g.length;_++){var A=g[_];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),h=A)}h&&l.set(null,h)}g=r.instance,A=g.getAttribute("data-precedence"),_=l.get(A)||h,_===h&&l.set(null,g),l.set(A,g),this.count++,h=wd.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),_?_.parentNode.insertBefore(g,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),r.state.loading|=4}}var Cu={$$typeof:W,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function mN(i,r,l,h,g,_,A,I){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wr(0),this.hiddenUpdates=wr(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=_,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function W0(i,r,l,h,g,_,A,I,G,ne,fe,ge){return i=new mN(i,r,l,A,I,G,ne,ge),r=1,_===!0&&(r|=24),_=ii(3,null,null,r),i.current=_,_.stateNode=i,r=bm(),r.refCount++,i.pooledCache=r,r.refCount++,_.memoizedState={element:h,isDehydrated:l,cache:r},Sm(_),i}function Q0(i){return i?(i=zr,i):zr}function X0(i,r,l,h,g,_){g=Q0(g),h.context===null?h.context=g:h.pendingContext=g,h=Ua(r),h.payload={element:l},_=_===void 0?null:_,_!==null&&(h.callback=_),l=za(i,h,r),l!==null&&(zi(l,i,r),ru(l,i,r))}function J0(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<r?l:r}}function Bp(i,r){J0(i,r),(i=i.alternate)&&J0(i,r)}function ex(i){if(i.tag===13){var r=Ma(i,67108864);r!==null&&zi(r,i,67108864),Bp(i,67108864)}}var Td=!0;function pN(i,r,l,h){var g=X.T;X.T=null;var _=_e.p;try{_e.p=2,Hp(i,r,l,h)}finally{_e.p=_,X.T=g}}function gN(i,r,l,h){var g=X.T;X.T=null;var _=_e.p;try{_e.p=8,Hp(i,r,l,h)}finally{_e.p=_,X.T=g}}function Hp(i,r,l,h){if(Td){var g=Fp(h);if(g===null)Cp(i,r,h,Sd,l),nx(i,h);else if(_N(g,i,r,l,h))h.stopPropagation();else if(nx(i,h),r&4&&-1<yN.indexOf(i)){for(;g!==null;){var _=Ti(g);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var A=ri(_.pendingLanes);if(A!==0){var I=_;for(I.pendingLanes|=2,I.entangledLanes|=2;A;){var G=1<<31-Nn(A);I.entanglements[1]|=G,A&=~G}Js(_),(vt&6)===0&&(ld=fn()+500,wu(0))}}break;case 13:I=Ma(_,2),I!==null&&zi(I,_,2),ud(),Bp(_,2)}if(_=Fp(h),_===null&&Cp(i,r,h,Sd,l),_===g)break;g=_}g!==null&&h.stopPropagation()}else Cp(i,r,h,null,l)}}function Fp(i){return i=Bs(i),qp(i)}var Sd=null;function qp(i){if(Sd=null,i=ci(i),i!==null){var r=c(i);if(r===null)i=null;else{var l=r.tag;if(l===13){if(i=f(r),i!==null)return i;i=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Sd=i,null}function tx(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xr()){case Zt:return 2;case Kt:return 8;case wi:case Cl:return 32;case pa:return 268435456;default:return 32}default:return 32}}var Gp=!1,Ja=null,eo=null,to=null,Iu=new Map,ju=new Map,no=[],yN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nx(i,r){switch(i){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":to=null;break;case"pointerover":case"pointerout":Iu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ju.delete(r.pointerId)}}function Ou(i,r,l,h,g,_){return i===null||i.nativeEvent!==_?(i={blockedOn:r,domEventName:l,eventSystemFlags:h,nativeEvent:_,targetContainers:[g]},r!==null&&(r=Ti(r),r!==null&&ex(r)),i):(i.eventSystemFlags|=h,r=i.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),i)}function _N(i,r,l,h,g){switch(r){case"focusin":return Ja=Ou(Ja,i,r,l,h,g),!0;case"dragenter":return eo=Ou(eo,i,r,l,h,g),!0;case"mouseover":return to=Ou(to,i,r,l,h,g),!0;case"pointerover":var _=g.pointerId;return Iu.set(_,Ou(Iu.get(_)||null,i,r,l,h,g)),!0;case"gotpointercapture":return _=g.pointerId,ju.set(_,Ou(ju.get(_)||null,i,r,l,h,g)),!0}return!1}function ix(i){var r=ci(i.target);if(r!==null){var l=c(r);if(l!==null){if(r=l.tag,r===13){if(r=f(l),r!==null){i.blockedOn=r,Oo(i.priority,function(){if(l.tag===13){var h=Ui();h=Io(h);var g=Ma(l,h);g!==null&&zi(g,l,h),Bp(l,h)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Nd(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var l=Fp(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);jr=h,l.target.dispatchEvent(h),jr=null}else return r=Ti(l),r!==null&&ex(r),i.blockedOn=l,!1;r.shift()}return!0}function sx(i,r,l){Nd(i)&&l.delete(r)}function vN(){Gp=!1,Ja!==null&&Nd(Ja)&&(Ja=null),eo!==null&&Nd(eo)&&(eo=null),to!==null&&Nd(to)&&(to=null),Iu.forEach(sx),ju.forEach(sx)}function Ad(i,r){i.blockedOn===r&&(i.blockedOn=null,Gp||(Gp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,vN)))}var Rd=null;function rx(i){Rd!==i&&(Rd=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Rd===i&&(Rd=null);for(var r=0;r<i.length;r+=3){var l=i[r],h=i[r+1],g=i[r+2];if(typeof h!="function"){if(qp(h||l)===null)continue;break}var _=Ti(l);_!==null&&(i.splice(r,3),r-=3,qm(_,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function Pu(i){function r(G){return Ad(G,i)}Ja!==null&&Ad(Ja,i),eo!==null&&Ad(eo,i),to!==null&&Ad(to,i),Iu.forEach(r),ju.forEach(r);for(var l=0;l<no.length;l++){var h=no[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<no.length&&(l=no[0],l.blockedOn===null);)ix(l),l.blockedOn===null&&no.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],_=l[h+1],A=g[an]||null;if(typeof _=="function")A||rx(l);else if(A){var I=null;if(_&&_.hasAttribute("formAction")){if(g=_,A=_[an]||null)I=A.formAction;else if(qp(g)!==null)continue}else I=A.action;typeof I=="function"?l[h+1]=I:(l.splice(h,3),h-=3),rx(l)}}}function $p(i){this._internalRoot=i}Cd.prototype.render=$p.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var l=r.current,h=Ui();X0(l,h,i,r,null,null)},Cd.prototype.unmount=$p.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;X0(i.current,2,null,i,null,null),ud(),r[ds]=null}};function Cd(i){this._internalRoot=i}Cd.prototype.unstable_scheduleHydration=function(i){if(i){var r=hs();i={blockedOn:null,target:i,priority:r};for(var l=0;l<no.length&&r!==0&&r<no[l].priority;l++);no.splice(l,0,i),l===0&&ix(i)}};var ax=e.version;if(ax!=="19.1.1")throw Error(s(527,ax,"19.1.1"));_e.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=v(r),i=i!==null?x(i):null,i=i===null?null:i.stateNode,i};var xN={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Id.isDisabled&&Id.supportsFiber)try{Fi=Id.inject(xN),rn=Id}catch{}}return Du.createRoot=function(i,r){if(!o(i))throw Error(s(299));var l=!1,h="",g=wv,_=Ev,A=Tv,I=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(I=r.unstable_transitionCallbacks)),r=W0(i,1,!1,null,null,l,h,g,_,A,I,null),i[ds]=r.current,Rp(i),new $p(r)},Du.hydrateRoot=function(i,r,l){if(!o(i))throw Error(s(299));var h=!1,g="",_=wv,A=Ev,I=Tv,G=null,ne=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(G=l.unstable_transitionCallbacks),l.formState!==void 0&&(ne=l.formState)),r=W0(i,1,!0,r,l??null,h,g,_,A,I,G,ne),r.context=Q0(null),l=r.current,h=Ui(),h=Io(h),g=Ua(h),g.callback=null,za(l,g,h),l=h,r.current.lanes=l,Mt(r,l),Js(r),i[ds]=r.current,Rp(i),new Cd(r)},Du.version="19.1.1",Du}var gx;function ON(){if(gx)return Yp.exports;gx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yp.exports=jN(),Yp.exports}var PN=ON();const MN=ay(PN);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var yx="popstate";function DN(n={}){function e(s,o){let{pathname:c,search:f,hash:y}=s.location;return wg("",{pathname:c,search:f,hash:y},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Ju(o)}return LN(e,t,null,n)}function Vt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Os(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kN(){return Math.random().toString(36).substring(2,10)}function _x(n,e){return{usr:n.state,key:n.key,idx:e}}function wg(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Dc(e):e,state:t,key:e&&e.key||s||kN()}}function Ju({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Dc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function LN(n,e,t,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,f=o.history,y="POP",v=null,x=w();x==null&&(x=0,f.replaceState({...f.state,idx:x},""));function w(){return(f.state||{idx:null}).idx}function N(){y="POP";let z=w(),ce=z==null?null:z-x;x=z,v&&v({action:y,location:F.location,delta:ce})}function R(z,ce){y="PUSH";let $=wg(F.location,z,ce);x=w()+1;let W=_x($,x),we=F.createHref($);try{f.pushState(W,"",we)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(we)}c&&v&&v({action:y,location:F.location,delta:1})}function P(z,ce){y="REPLACE";let $=wg(F.location,z,ce);x=w();let W=_x($,x),we=F.createHref($);f.replaceState(W,"",we),c&&v&&v({action:y,location:F.location,delta:0})}function O(z){return VN(z)}let F={get action(){return y},get location(){return n(o,f)},listen(z){if(v)throw new Error("A history only accepts one active listener");return o.addEventListener(yx,N),v=z,()=>{o.removeEventListener(yx,N),v=null}},createHref(z){return e(o,z)},createURL:O,encodeLocation(z){let ce=O(z);return{pathname:ce.pathname,search:ce.search,hash:ce.hash}},push:R,replace:P,go(z){return f.go(z)}};return F}function VN(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Vt(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:Ju(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function jw(n,e,t="/"){return UN(n,e,t,!1)}function UN(n,e,t,s){let o=typeof e=="string"?Dc(e):e,c=ra(o.pathname||"/",t);if(c==null)return null;let f=Ow(n);zN(f);let y=null;for(let v=0;y==null&&v<f.length;++v){let x=QN(c);y=YN(f[v],x,s)}return y}function Ow(n,e=[],t=[],s="",o=!1){let c=(f,y,v=o,x)=>{let w={relativePath:x===void 0?f.path||"":x,caseSensitive:f.caseSensitive===!0,childrenIndex:y,route:f};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(s)&&v)return;Vt(w.relativePath.startsWith(s),`Absolute route path "${w.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(s.length)}let N=ia([s,w.relativePath]),R=t.concat(w);f.children&&f.children.length>0&&(Vt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${N}".`),Ow(f.children,e,R,N,v)),!(f.path==null&&!f.index)&&e.push({path:N,score:ZN(N,f.index),routesMeta:R})};return n.forEach((f,y)=>{var v;if(f.path===""||!((v=f.path)!=null&&v.includes("?")))c(f,y);else for(let x of Pw(f.path))c(f,y,!0,x)}),e}function Pw(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let f=Pw(s.join("/")),y=[];return y.push(...f.map(v=>v===""?c:[c,v].join("/"))),o&&y.push(...f),y.map(v=>n.startsWith("/")&&v===""?"/":v)}function zN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:KN(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var BN=/^:[\w-]+$/,HN=3,FN=2,qN=1,GN=10,$N=-2,vx=n=>n==="*";function ZN(n,e){let t=n.split("/"),s=t.length;return t.some(vx)&&(s+=$N),e&&(s+=FN),t.filter(o=>!vx(o)).reduce((o,c)=>o+(BN.test(c)?HN:c===""?qN:GN),s)}function KN(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function YN(n,e,t=!1){let{routesMeta:s}=n,o={},c="/",f=[];for(let y=0;y<s.length;++y){let v=s[y],x=y===s.length-1,w=c==="/"?e:e.slice(c.length)||"/",N=of({path:v.relativePath,caseSensitive:v.caseSensitive,end:x},w),R=v.route;if(!N&&x&&t&&!s[s.length-1].route.index&&(N=of({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},w)),!N)return null;Object.assign(o,N.params),f.push({params:o,pathname:ia([c,N.pathname]),pathnameBase:tA(ia([c,N.pathnameBase])),route:R}),N.pathnameBase!=="/"&&(c=ia([c,N.pathnameBase]))}return f}function of(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=WN(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),y=o.slice(1);return{params:s.reduce((x,{paramName:w,isOptional:N},R)=>{if(w==="*"){let O=y[R]||"";f=c.slice(0,c.length-O.length).replace(/(.)\/+$/,"$1")}const P=y[R];return N&&!P?x[w]=void 0:x[w]=(P||"").replace(/%2F/g,"/"),x},{}),pathname:c,pathnameBase:f,pattern:n}}function WN(n,e=!1,t=!0){Os(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,y,v)=>(s.push({paramName:y,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function QN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Os(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ra(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function XN(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?Dc(n):n;return{pathname:t?t.startsWith("/")?t:JN(t,e):e,search:nA(s),hash:iA(o)}}function JN(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Jp(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ly(n){let e=eA(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function cy(n,e,t,s=!1){let o;typeof n=="string"?o=Dc(n):(o={...n},Vt(!o.pathname||!o.pathname.includes("?"),Jp("?","pathname","search",o)),Vt(!o.pathname||!o.pathname.includes("#"),Jp("#","pathname","hash",o)),Vt(!o.search||!o.search.includes("#"),Jp("#","search","hash",o)));let c=n===""||o.pathname==="",f=c?"/":o.pathname,y;if(f==null)y=t;else{let N=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),N-=1;o.pathname=R.join("/")}y=N>=0?e[N]:"/"}let v=XN(o,y),x=f&&f!=="/"&&f.endsWith("/"),w=(c||f===".")&&t.endsWith("/");return!v.pathname.endsWith("/")&&(x||w)&&(v.pathname+="/"),v}var ia=n=>n.join("/").replace(/\/\/+/g,"/"),tA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),nA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,iA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function sA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Mw=["POST","PUT","PATCH","DELETE"];new Set(Mw);var rA=["GET",...Mw];new Set(rA);var kc=H.createContext(null);kc.displayName="DataRouter";var Lf=H.createContext(null);Lf.displayName="DataRouterState";H.createContext(!1);var Dw=H.createContext({isTransitioning:!1});Dw.displayName="ViewTransition";var aA=H.createContext(new Map);aA.displayName="Fetchers";var oA=H.createContext(null);oA.displayName="Await";var Ms=H.createContext(null);Ms.displayName="Navigation";var uh=H.createContext(null);uh.displayName="Location";var gr=H.createContext({outlet:null,matches:[],isDataRoute:!1});gr.displayName="Route";var uy=H.createContext(null);uy.displayName="RouteError";function lA(n,{relative:e}={}){Vt(Lc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=H.useContext(Ms),{hash:o,pathname:c,search:f}=hh(n,{relative:e}),y=c;return t!=="/"&&(y=c==="/"?t:ia([t,c])),s.createHref({pathname:y,search:f,hash:o})}function Lc(){return H.useContext(uh)!=null}function No(){return Vt(Lc(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(uh).location}var kw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Lw(n){H.useContext(Ms).static||H.useLayoutEffect(n)}function hy(){let{isDataRoute:n}=H.useContext(gr);return n?bA():cA()}function cA(){Vt(Lc(),"useNavigate() may be used only in the context of a <Router> component.");let n=H.useContext(kc),{basename:e,navigator:t}=H.useContext(Ms),{matches:s}=H.useContext(gr),{pathname:o}=No(),c=JSON.stringify(ly(s)),f=H.useRef(!1);return Lw(()=>{f.current=!0}),H.useCallback((v,x={})=>{if(Os(f.current,kw),!f.current)return;if(typeof v=="number"){t.go(v);return}let w=cy(v,JSON.parse(c),o,x.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:ia([e,w.pathname])),(x.replace?t.replace:t.push)(w,x.state,x)},[e,t,c,o,n])}H.createContext(null);function hh(n,{relative:e}={}){let{matches:t}=H.useContext(gr),{pathname:s}=No(),o=JSON.stringify(ly(t));return H.useMemo(()=>cy(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function uA(n,e){return Vw(n,e)}function Vw(n,e,t,s,o){var $;Vt(Lc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=H.useContext(Ms),{matches:f}=H.useContext(gr),y=f[f.length-1],v=y?y.params:{},x=y?y.pathname:"/",w=y?y.pathnameBase:"/",N=y&&y.route;{let W=N&&N.path||"";Uw(x,!N||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let R=No(),P;if(e){let W=typeof e=="string"?Dc(e):e;Vt(w==="/"||(($=W.pathname)==null?void 0:$.startsWith(w)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${W.pathname}" was given in the \`location\` prop.`),P=W}else P=R;let O=P.pathname||"/",F=O;if(w!=="/"){let W=w.replace(/^\//,"").split("/");F="/"+O.replace(/^\//,"").split("/").slice(W.length).join("/")}let z=jw(n,{pathname:F});Os(N||z!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Os(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ce=pA(z&&z.map(W=>Object.assign({},W,{params:Object.assign({},v,W.params),pathname:ia([w,c.encodeLocation?c.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?w:ia([w,c.encodeLocation?c.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),f,t,s,o);return e&&ce?H.createElement(uh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},ce):ce}function hA(){let n=xA(),e=sA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:c},"ErrorBoundary")," or"," ",H.createElement("code",{style:c},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:o},t):null,f)}var dA=H.createElement(hA,null),fA=class extends H.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?H.createElement(gr.Provider,{value:this.props.routeContext},H.createElement(uy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mA({routeContext:n,match:e,children:t}){let s=H.useContext(kc);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(gr.Provider,{value:n},t)}function pA(n,e=[],t=null,s=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,f=t==null?void 0:t.errors;if(f!=null){let x=c.findIndex(w=>w.route.id&&(f==null?void 0:f[w.route.id])!==void 0);Vt(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let y=!1,v=-1;if(t)for(let x=0;x<c.length;x++){let w=c[x];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(v=x),w.route.id){let{loaderData:N,errors:R}=t,P=w.route.loader&&!N.hasOwnProperty(w.route.id)&&(!R||R[w.route.id]===void 0);if(w.route.lazy||P){y=!0,v>=0?c=c.slice(0,v+1):c=[c[0]];break}}}return c.reduceRight((x,w,N)=>{let R,P=!1,O=null,F=null;t&&(R=f&&w.route.id?f[w.route.id]:void 0,O=w.route.errorElement||dA,y&&(v<0&&N===0?(Uw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,F=null):v===N&&(P=!0,F=w.route.hydrateFallbackElement||null)));let z=e.concat(c.slice(0,N+1)),ce=()=>{let $;return R?$=O:P?$=F:w.route.Component?$=H.createElement(w.route.Component,null):w.route.element?$=w.route.element:$=x,H.createElement(mA,{match:w,routeContext:{outlet:x,matches:z,isDataRoute:t!=null},children:$})};return t&&(w.route.ErrorBoundary||w.route.errorElement||N===0)?H.createElement(fA,{location:t.location,revalidation:t.revalidation,component:O,error:R,children:ce(),routeContext:{outlet:null,matches:z,isDataRoute:!0},unstable_onError:s}):ce()},null)}function dy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gA(n){let e=H.useContext(kc);return Vt(e,dy(n)),e}function yA(n){let e=H.useContext(Lf);return Vt(e,dy(n)),e}function _A(n){let e=H.useContext(gr);return Vt(e,dy(n)),e}function fy(n){let e=_A(n),t=e.matches[e.matches.length-1];return Vt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function vA(){return fy("useRouteId")}function xA(){var s;let n=H.useContext(uy),e=yA("useRouteError"),t=fy("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[t]}function bA(){let{router:n}=gA("useNavigate"),e=fy("useNavigate"),t=H.useRef(!1);return Lw(()=>{t.current=!0}),H.useCallback(async(o,c={})=>{Os(t.current,kw),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...c}))},[n,e])}var xx={};function Uw(n,e,t){!e&&!xx[n]&&(xx[n]=!0,Os(!1,t))}H.memo(wA);function wA({routes:n,future:e,state:t,unstable_onError:s}){return Vw(n,void 0,t,s,e)}function bx({to:n,replace:e,state:t,relative:s}){Vt(Lc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=H.useContext(Ms);Os(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=H.useContext(gr),{pathname:f}=No(),y=hy(),v=cy(n,ly(c),f,s==="path"),x=JSON.stringify(v);return H.useEffect(()=>{y(JSON.parse(x),{replace:e,state:t,relative:s})},[y,x,s,e,t]),null}function Eg(n){Vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function EA({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:c=!1}){Vt(!Lc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),y=H.useMemo(()=>({basename:f,navigator:o,static:c,future:{}}),[f,o,c]);typeof t=="string"&&(t=Dc(t));let{pathname:v="/",search:x="",hash:w="",state:N=null,key:R="default"}=t,P=H.useMemo(()=>{let O=ra(v,f);return O==null?null:{location:{pathname:O,search:x,hash:w,state:N,key:R},navigationType:s}},[f,v,x,w,N,R,s]);return Os(P!=null,`<Router basename="${f}"> is not able to match the URL "${v}${x}${w}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:H.createElement(Ms.Provider,{value:y},H.createElement(uh.Provider,{children:e,value:P}))}function TA({children:n,location:e}){return uA(Tg(n),e)}function Tg(n,e=[]){let t=[];return H.Children.forEach(n,(s,o)=>{if(!H.isValidElement(s))return;let c=[...e,o];if(s.type===H.Fragment){t.push.apply(t,Tg(s.props.children,c));return}Vt(s.type===Eg,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Tg(s.props.children,c)),t.push(f)}),t}var qd="get",Gd="application/x-www-form-urlencoded";function Vf(n){return n!=null&&typeof n.tagName=="string"}function SA(n){return Vf(n)&&n.tagName.toLowerCase()==="button"}function NA(n){return Vf(n)&&n.tagName.toLowerCase()==="form"}function AA(n){return Vf(n)&&n.tagName.toLowerCase()==="input"}function RA(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function CA(n,e){return n.button===0&&(!e||e==="_self")&&!RA(n)}var jd=null;function IA(){if(jd===null)try{new FormData(document.createElement("form"),0),jd=!1}catch{jd=!0}return jd}var jA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function eg(n){return n!=null&&!jA.has(n)?(Os(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gd}"`),null):n}function OA(n,e){let t,s,o,c,f;if(NA(n)){let y=n.getAttribute("action");s=y?ra(y,e):null,t=n.getAttribute("method")||qd,o=eg(n.getAttribute("enctype"))||Gd,c=new FormData(n)}else if(SA(n)||AA(n)&&(n.type==="submit"||n.type==="image")){let y=n.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=n.getAttribute("formaction")||y.getAttribute("action");if(s=v?ra(v,e):null,t=n.getAttribute("formmethod")||y.getAttribute("method")||qd,o=eg(n.getAttribute("formenctype"))||eg(y.getAttribute("enctype"))||Gd,c=new FormData(y,n),!IA()){let{name:x,type:w,value:N}=n;if(w==="image"){let R=x?`${x}.`:"";c.append(`${R}x`,"0"),c.append(`${R}y`,"0")}else x&&c.append(x,N)}}else{if(Vf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=qd,s=null,o=Gd,f=n}return c&&o==="text/plain"&&(f=c,c=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function my(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function PA(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&ra(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function MA(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DA(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function kA(n,e,t){let s=await Promise.all(n.map(async o=>{let c=e.routes[o.route.id];if(c){let f=await MA(c,t);return f.links?f.links():[]}return[]}));return zA(s.flat(1).filter(DA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function wx(n,e,t,s,o,c){let f=(v,x)=>t[x]?v.route.id!==t[x].route.id:!0,y=(v,x)=>{var w;return t[x].pathname!==v.pathname||((w=t[x].route.path)==null?void 0:w.endsWith("*"))&&t[x].params["*"]!==v.params["*"]};return c==="assets"?e.filter((v,x)=>f(v,x)||y(v,x)):c==="data"?e.filter((v,x)=>{var N;let w=s.routes[v.route.id];if(!w||!w.hasLoader)return!1;if(f(v,x)||y(v,x))return!0;if(v.route.shouldRevalidate){let R=v.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((N=t[0])==null?void 0:N.params)||{},nextUrl:new URL(n,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function LA(n,e,{includeHydrateFallback:t}={}){return VA(n.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function VA(n){return[...new Set(n)]}function UA(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function zA(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let c=JSON.stringify(UA(o));return t.has(c)||(t.add(c),s.push({key:c,link:o})),s},[])}function zw(){let n=H.useContext(kc);return my(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function BA(){let n=H.useContext(Lf);return my(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var py=H.createContext(void 0);py.displayName="FrameworkContext";function Bw(){let n=H.useContext(py);return my(n,"You must render this element inside a <HydratedRouter> element"),n}function HA(n,e){let t=H.useContext(py),[s,o]=H.useState(!1),[c,f]=H.useState(!1),{onFocus:y,onBlur:v,onMouseEnter:x,onMouseLeave:w,onTouchStart:N}=e,R=H.useRef(null);H.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let F=ce=>{ce.forEach($=>{f($.isIntersecting)})},z=new IntersectionObserver(F,{threshold:.5});return R.current&&z.observe(R.current),()=>{z.disconnect()}}},[n]),H.useEffect(()=>{if(s){let F=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(F)}}},[s]);let P=()=>{o(!0)},O=()=>{o(!1),f(!1)};return t?n!=="intent"?[c,R,{}]:[c,R,{onFocus:ku(y,P),onBlur:ku(v,O),onMouseEnter:ku(x,P),onMouseLeave:ku(w,O),onTouchStart:ku(N,P)}]:[!1,R,{}]}function ku(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function FA({page:n,...e}){let{router:t}=zw(),s=H.useMemo(()=>jw(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?H.createElement(GA,{page:n,matches:s,...e}):null}function qA(n){let{manifest:e,routeModules:t}=Bw(),[s,o]=H.useState([]);return H.useEffect(()=>{let c=!1;return kA(n,e,t).then(f=>{c||o(f)}),()=>{c=!0}},[n,e,t]),s}function GA({page:n,matches:e,...t}){let s=No(),{manifest:o,routeModules:c}=Bw(),{basename:f}=zw(),{loaderData:y,matches:v}=BA(),x=H.useMemo(()=>wx(n,e,v,o,s,"data"),[n,e,v,o,s]),w=H.useMemo(()=>wx(n,e,v,o,s,"assets"),[n,e,v,o,s]),N=H.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let O=new Set,F=!1;if(e.forEach(ce=>{var W;let $=o.routes[ce.route.id];!$||!$.hasLoader||(!x.some(we=>we.route.id===ce.route.id)&&ce.route.id in y&&((W=c[ce.route.id])!=null&&W.shouldRevalidate)||$.hasClientLoader?F=!0:O.add(ce.route.id))}),O.size===0)return[];let z=PA(n,f,"data");return F&&O.size>0&&z.searchParams.set("_routes",e.filter(ce=>O.has(ce.route.id)).map(ce=>ce.route.id).join(",")),[z.pathname+z.search]},[f,y,s,o,x,e,n,c]),R=H.useMemo(()=>LA(w,o),[w,o]),P=qA(w);return H.createElement(H.Fragment,null,N.map(O=>H.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),R.map(O=>H.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),P.map(({key:O,link:F})=>H.createElement("link",{key:O,nonce:t.nonce,...F})))}function $A(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Hw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Hw&&(window.__reactRouterVersion="7.9.3")}catch{}function ZA({basename:n,children:e,window:t}){let s=H.useRef();s.current==null&&(s.current=DN({window:t,v5Compat:!0}));let o=s.current,[c,f]=H.useState({action:o.action,location:o.location}),y=H.useCallback(v=>{H.startTransition(()=>f(v))},[f]);return H.useLayoutEffect(()=>o.listen(y),[o,y]),H.createElement(EA,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:o})}var Fw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qw=H.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:c,replace:f,state:y,target:v,to:x,preventScrollReset:w,viewTransition:N,...R},P){let{basename:O}=H.useContext(Ms),F=typeof x=="string"&&Fw.test(x),z,ce=!1;if(typeof x=="string"&&F&&(z=x,Hw))try{let U=new URL(window.location.href),K=x.startsWith("//")?new URL(U.protocol+x):new URL(x),B=ra(K.pathname,O);K.origin===U.origin&&B!=null?x=B+K.search+K.hash:ce=!0}catch{Os(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=lA(x,{relative:o}),[W,we,le]=HA(s,R),Ee=QA(x,{replace:f,state:y,target:v,preventScrollReset:w,relative:o,viewTransition:N});function Z(U){e&&e(U),U.defaultPrevented||Ee(U)}let V=H.createElement("a",{...R,...le,href:z||$,onClick:ce||c?e:Z,ref:$A(P,we),target:v,"data-discover":!F&&t==="render"?"true":void 0});return W&&!F?H.createElement(H.Fragment,null,V,H.createElement(FA,{page:$})):V});qw.displayName="Link";var KA=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:c,to:f,viewTransition:y,children:v,...x},w){let N=hh(f,{relative:x.relative}),R=No(),P=H.useContext(Lf),{navigator:O,basename:F}=H.useContext(Ms),z=P!=null&&n2(N)&&y===!0,ce=O.encodeLocation?O.encodeLocation(N).pathname:N.pathname,$=R.pathname,W=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;t||($=$.toLowerCase(),W=W?W.toLowerCase():null,ce=ce.toLowerCase()),W&&F&&(W=ra(W,F)||W);const we=ce!=="/"&&ce.endsWith("/")?ce.length-1:ce.length;let le=$===ce||!o&&$.startsWith(ce)&&$.charAt(we)==="/",Ee=W!=null&&(W===ce||!o&&W.startsWith(ce)&&W.charAt(ce.length)==="/"),Z={isActive:le,isPending:Ee,isTransitioning:z},V=le?e:void 0,U;typeof s=="function"?U=s(Z):U=[s,le?"active":null,Ee?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let K=typeof c=="function"?c(Z):c;return H.createElement(qw,{...x,"aria-current":V,className:U,ref:w,style:K,to:f,viewTransition:y},typeof v=="function"?v(Z):v)});KA.displayName="NavLink";var YA=H.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:c,method:f=qd,action:y,onSubmit:v,relative:x,preventScrollReset:w,viewTransition:N,...R},P)=>{let O=e2(),F=t2(y,{relative:x}),z=f.toLowerCase()==="get"?"get":"post",ce=typeof y=="string"&&Fw.test(y),$=W=>{if(v&&v(W),W.defaultPrevented)return;W.preventDefault();let we=W.nativeEvent.submitter,le=(we==null?void 0:we.getAttribute("formmethod"))||f;O(we||W.currentTarget,{fetcherKey:e,method:le,navigate:t,replace:o,state:c,relative:x,preventScrollReset:w,viewTransition:N})};return H.createElement("form",{ref:P,method:z,action:F,onSubmit:s?v:$,...R,"data-discover":!ce&&n==="render"?"true":void 0})});YA.displayName="Form";function WA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gw(n){let e=H.useContext(kc);return Vt(e,WA(n)),e}function QA(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:c,viewTransition:f}={}){let y=hy(),v=No(),x=hh(n,{relative:c});return H.useCallback(w=>{if(CA(w,e)){w.preventDefault();let N=t!==void 0?t:Ju(v)===Ju(x);y(n,{replace:N,state:s,preventScrollReset:o,relative:c,viewTransition:f})}},[v,y,x,t,s,e,n,o,c,f])}var XA=0,JA=()=>`__${String(++XA)}__`;function e2(){let{router:n}=Gw("useSubmit"),{basename:e}=H.useContext(Ms),t=vA();return H.useCallback(async(s,o={})=>{let{action:c,method:f,encType:y,formData:v,body:x}=OA(s,e);if(o.navigate===!1){let w=o.fetcherKey||JA();await n.fetch(w,t,o.action||c,{preventScrollReset:o.preventScrollReset,formData:v,body:x,formMethod:o.method||f,formEncType:o.encType||y,flushSync:o.flushSync})}else await n.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:v,body:x,formMethod:o.method||f,formEncType:o.encType||y,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function t2(n,{relative:e}={}){let{basename:t}=H.useContext(Ms),s=H.useContext(gr);Vt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...hh(n||".",{relative:e})},f=No();if(n==null){c.search=f.search;let y=new URLSearchParams(c.search),v=y.getAll("index");if(v.some(w=>w==="")){y.delete("index"),v.filter(N=>N).forEach(N=>y.append("index",N));let w=y.toString();c.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:ia([t,c.pathname])),Ju(c)}function n2(n,{relative:e}={}){let t=H.useContext(Dw);Vt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Gw("useViewTransitionState"),o=hh(n,{relative:e});if(!t.isTransitioning)return!1;let c=ra(t.currentLocation.pathname,s)||t.currentLocation.pathname,f=ra(t.nextLocation.pathname,s)||t.nextLocation.pathname;return of(o.pathname,f)!=null||of(o.pathname,c)!=null}var i2=Iw();let s2={data:""},r2=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||s2,a2=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,o2=/\/\*[^]*?\*\/|  +/g,Ex=/\n+/g,ro=(n,e)=>{let t="",s="",o="";for(let c in n){let f=n[c];c[0]=="@"?c[1]=="i"?t=c+" "+f+";":s+=c[1]=="f"?ro(f,c):c+"{"+ro(f,c[1]=="k"?"":e)+"}":typeof f=="object"?s+=ro(f,e?e.replace(/([^,])+/g,y=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,v=>/&/.test(v)?v.replace(/&/g,y):y?y+" "+v:v)):c):f!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=ro.p?ro.p(c,f):c+":"+f+";")}return t+(e&&o?e+"{"+o+"}":o)+s},Wr={},$w=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+$w(n[t]);return e}return n},l2=(n,e,t,s,o)=>{let c=$w(n),f=Wr[c]||(Wr[c]=(v=>{let x=0,w=11;for(;x<v.length;)w=101*w+v.charCodeAt(x++)>>>0;return"go"+w})(c));if(!Wr[f]){let v=c!==n?n:(x=>{let w,N,R=[{}];for(;w=a2.exec(x.replace(o2,""));)w[4]?R.shift():w[3]?(N=w[3].replace(Ex," ").trim(),R.unshift(R[0][N]=R[0][N]||{})):R[0][w[1]]=w[2].replace(Ex," ").trim();return R[0]})(n);Wr[f]=ro(o?{["@keyframes "+f]:v}:v,t?"":"."+f)}let y=t&&Wr.g?Wr.g:null;return t&&(Wr.g=Wr[f]),((v,x,w,N)=>{N?x.data=x.data.replace(N,v):x.data.indexOf(v)===-1&&(x.data=w?v+x.data:x.data+v)})(Wr[f],e,s,y),f},c2=(n,e,t)=>n.reduce((s,o,c)=>{let f=e[c];if(f&&f.call){let y=f(t),v=y&&y.props&&y.props.className||/^go/.test(y)&&y;f=v?"."+v:y&&typeof y=="object"?y.props?"":ro(y,""):y===!1?"":y}return s+o+(f??"")},"");function Uf(n){let e=this||{},t=n.call?n(e.p):n;return l2(t.unshift?t.raw?c2(t,[].slice.call(arguments,1),e.p):t.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):t,r2(e.target),e.g,e.o,e.k)}let Zw,Sg,Ng;Uf.bind({g:1});let aa=Uf.bind({k:1});function u2(n,e,t,s){ro.p=e,Zw=n,Sg=t,Ng=s}function Ao(n,e){let t=this||{};return function(){let s=arguments;function o(c,f){let y=Object.assign({},c),v=y.className||o.className;t.p=Object.assign({theme:Sg&&Sg()},y),t.o=/ *go\d+/.test(v),y.className=Uf.apply(t,s)+(v?" "+v:"");let x=n;return n[0]&&(x=y.as||n,delete y.as),Ng&&x[0]&&Ng(y),Zw(x,y)}return o}}var h2=n=>typeof n=="function",lf=(n,e)=>h2(n)?n(e):n,d2=(()=>{let n=0;return()=>(++n).toString()})(),Kw=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),f2=20,gy="default",Yw=(n,e)=>{let{toastLimit:t}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,t)};case 1:return{...n,toasts:n.toasts.map(f=>f.id===e.toast.id?{...f,...e.toast}:f)};case 2:let{toast:s}=e;return Yw(n,{type:n.toasts.find(f=>f.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=e;return{...n,toasts:n.toasts.map(f=>f.id===o||o===void 0?{...f,dismissed:!0,visible:!1}:f)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(f=>f.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let c=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(f=>({...f,pauseDuration:f.pauseDuration+c}))}}},$d=[],Ww={toasts:[],pausedAt:void 0,settings:{toastLimit:f2}},sr={},Qw=(n,e=gy)=>{sr[e]=Yw(sr[e]||Ww,n),$d.forEach(([t,s])=>{t===e&&s(sr[e])})},Xw=n=>Object.keys(sr).forEach(e=>Qw(n,e)),m2=n=>Object.keys(sr).find(e=>sr[e].toasts.some(t=>t.id===n)),zf=(n=gy)=>e=>{Qw(e,n)},p2={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},g2=(n={},e=gy)=>{let[t,s]=H.useState(sr[e]||Ww),o=H.useRef(sr[e]);H.useEffect(()=>(o.current!==sr[e]&&s(sr[e]),$d.push([e,s]),()=>{let f=$d.findIndex(([y])=>y===e);f>-1&&$d.splice(f,1)}),[e]);let c=t.toasts.map(f=>{var y,v,x;return{...n,...n[f.type],...f,removeDelay:f.removeDelay||((y=n[f.type])==null?void 0:y.removeDelay)||(n==null?void 0:n.removeDelay),duration:f.duration||((v=n[f.type])==null?void 0:v.duration)||(n==null?void 0:n.duration)||p2[f.type],style:{...n.style,...(x=n[f.type])==null?void 0:x.style,...f.style}}});return{...t,toasts:c}},y2=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||d2()}),dh=n=>(e,t)=>{let s=y2(e,n,t);return zf(s.toasterId||m2(s.id))({type:2,toast:s}),s.id},hn=(n,e)=>dh("blank")(n,e);hn.error=dh("error");hn.success=dh("success");hn.loading=dh("loading");hn.custom=dh("custom");hn.dismiss=(n,e)=>{let t={type:3,toastId:n};e?zf(e)(t):Xw(t)};hn.dismissAll=n=>hn.dismiss(void 0,n);hn.remove=(n,e)=>{let t={type:4,toastId:n};e?zf(e)(t):Xw(t)};hn.removeAll=n=>hn.remove(void 0,n);hn.promise=(n,e,t)=>{let s=hn.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(o=>{let c=e.success?lf(e.success,o):void 0;return c?hn.success(c,{id:s,...t,...t==null?void 0:t.success}):hn.dismiss(s),o}).catch(o=>{let c=e.error?lf(e.error,o):void 0;c?hn.error(c,{id:s,...t,...t==null?void 0:t.error}):hn.dismiss(s)}),n};var _2=1e3,v2=(n,e="default")=>{let{toasts:t,pausedAt:s}=g2(n,e),o=H.useRef(new Map).current,c=H.useCallback((N,R=_2)=>{if(o.has(N))return;let P=setTimeout(()=>{o.delete(N),f({type:4,toastId:N})},R);o.set(N,P)},[]);H.useEffect(()=>{if(s)return;let N=Date.now(),R=t.map(P=>{if(P.duration===1/0)return;let O=(P.duration||0)+P.pauseDuration-(N-P.createdAt);if(O<0){P.visible&&hn.dismiss(P.id);return}return setTimeout(()=>hn.dismiss(P.id,e),O)});return()=>{R.forEach(P=>P&&clearTimeout(P))}},[t,s,e]);let f=H.useCallback(zf(e),[e]),y=H.useCallback(()=>{f({type:5,time:Date.now()})},[f]),v=H.useCallback((N,R)=>{f({type:1,toast:{id:N,height:R}})},[f]),x=H.useCallback(()=>{s&&f({type:6,time:Date.now()})},[s,f]),w=H.useCallback((N,R)=>{let{reverseOrder:P=!1,gutter:O=8,defaultPosition:F}=R||{},z=t.filter(W=>(W.position||F)===(N.position||F)&&W.height),ce=z.findIndex(W=>W.id===N.id),$=z.filter((W,we)=>we<ce&&W.visible).length;return z.filter(W=>W.visible).slice(...P?[$+1]:[0,$]).reduce((W,we)=>W+(we.height||0)+O,0)},[t]);return H.useEffect(()=>{t.forEach(N=>{if(N.dismissed)c(N.id,N.removeDelay);else{let R=o.get(N.id);R&&(clearTimeout(R),o.delete(N.id))}})},[t,c]),{toasts:t,handlers:{updateHeight:v,startPause:y,endPause:x,calculateOffset:w}}},x2=aa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,b2=aa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,w2=aa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,E2=Ao("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${x2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${b2} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${w2} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,T2=aa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,S2=Ao("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${T2} 1s linear infinite;
`,N2=aa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,A2=aa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,R2=Ao("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${N2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${A2} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,C2=Ao("div")`
  position: absolute;
`,I2=Ao("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,j2=aa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,O2=Ao("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${j2} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,P2=({toast:n})=>{let{icon:e,type:t,iconTheme:s}=n;return e!==void 0?typeof e=="string"?H.createElement(O2,null,e):e:t==="blank"?null:H.createElement(I2,null,H.createElement(S2,{...s}),t!=="loading"&&H.createElement(C2,null,t==="error"?H.createElement(E2,{...s}):H.createElement(R2,{...s})))},M2=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,D2=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,k2="0%{opacity:0;} 100%{opacity:1;}",L2="0%{opacity:1;} 100%{opacity:0;}",V2=Ao("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,U2=Ao("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,z2=(n,e)=>{let t=n.includes("top")?1:-1,[s,o]=Kw()?[k2,L2]:[M2(t),D2(t)];return{animation:e?`${aa(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${aa(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},B2=H.memo(({toast:n,position:e,style:t,children:s})=>{let o=n.height?z2(n.position||e||"top-center",n.visible):{opacity:0},c=H.createElement(P2,{toast:n}),f=H.createElement(U2,{...n.ariaProps},lf(n.message,n));return H.createElement(V2,{className:n.className,style:{...o,...t,...n.style}},typeof s=="function"?s({icon:c,message:f}):H.createElement(H.Fragment,null,c,f))});u2(H.createElement);var H2=({id:n,className:e,style:t,onHeightUpdate:s,children:o})=>{let c=H.useCallback(f=>{if(f){let y=()=>{let v=f.getBoundingClientRect().height;s(n,v)};y(),new MutationObserver(y).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[n,s]);return H.createElement("div",{ref:c,className:e,style:t},o)},F2=(n,e)=>{let t=n.includes("top"),s=t?{top:0}:{bottom:0},o=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Kw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...o}},q2=Uf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Od=16,G2=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:s,children:o,toasterId:c,containerStyle:f,containerClassName:y})=>{let{toasts:v,handlers:x}=v2(t,c);return H.createElement("div",{"data-rht-toaster":c||"",style:{position:"fixed",zIndex:9999,top:Od,left:Od,right:Od,bottom:Od,pointerEvents:"none",...f},className:y,onMouseEnter:x.startPause,onMouseLeave:x.endPause},v.map(w=>{let N=w.position||e,R=x.calculateOffset(w,{reverseOrder:n,gutter:s,defaultPosition:e}),P=F2(N,R);return H.createElement(H2,{id:w.id,key:w.id,onHeightUpdate:x.updateHeight,className:w.visible?q2:"",style:P},w.type==="custom"?lf(w.message,w):o?o(w):H.createElement(B2,{toast:w,position:N}))}))},Bi=hn;const $2=()=>{hy();const[n,e]=H.useState({email:"",password:"",rememberMe:!1}),[t,s]=H.useState(!1),o=[{type:"Admin",email:"admin@oceanhazard.com",description:"Full system access & management",icon:"",password:"demo123"},{type:"Data Analyst",email:"analyst@oceanhazard.com",description:"Analytics, reports & social media monitoring",icon:"",password:"demo123"},{type:"Official",email:"official@oceanhazard.com",description:"Emergency response & coordination",icon:"",password:"demo123"},{type:"Citizen",email:"citizen@oceanhazard.com",description:"Report hazards & receive alerts",icon:"",password:"demo123"}],c=async v=>{if(v.preventDefault(),!n.email||!n.password){Bi.error("Please enter both email and password");return}s(!0);try{const x=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.email,password:n.password})});if(x.ok){const w=await x.json();localStorage.setItem("user",JSON.stringify(w.user)),localStorage.setItem("token",w.token),Bi.success(`Welcome ${w.user.fullName}!`),window.location.href="/"}else{const w=await x.json();Bi.error(`Login failed: ${w.error||"Invalid credentials"}`)}}catch{Bi.error("Login failed: Network error")}finally{s(!1)}},f=v=>{const{name:x,value:w,type:N,checked:R}=v.target;e(P=>({...P,[x]:N==="checkbox"?R:w}))},y=async v=>{e({email:v.email,password:v.password,rememberMe:!1}),s(!0);try{const x=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:v.email,password:v.password})});if(x.ok){const w=await x.json();localStorage.setItem("user",JSON.stringify(w.user)),localStorage.setItem("token",w.token),Bi.success(`Logged in as ${v.type}`),window.location.href="/"}else{const w=await x.json();Bi.error(`Login failed: ${w.error||"Invalid credentials"}`)}}catch{Bi.error("Login failed: Network error")}finally{s(!1)}};return d.jsx("div",{className:"login-page",children:d.jsx("div",{className:"login-container",children:d.jsxs("div",{className:"login-card",children:[d.jsxs("div",{className:"login-header",children:[d.jsx("h1",{className:"login-title",children:"Taranga Ocean Monitor"}),d.jsx("p",{className:"login-subtitle",children:"Advanced Hazard Detection & Response System"})]}),d.jsxs("form",{className:"login-form",onSubmit:c,children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"email",children:"Email Address"}),d.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:f,placeholder:"Enter your email",required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"password",children:"Password"}),d.jsx("input",{type:"password",id:"password",name:"password",value:n.password,onChange:f,placeholder:"Enter your password",required:!0})]}),d.jsxs("div",{className:"form-options",children:[d.jsxs("label",{className:"checkbox-label",children:[d.jsx("input",{type:"checkbox",name:"rememberMe",checked:n.rememberMe,onChange:f}),"Remember me"]}),d.jsx("a",{href:"#",className:"forgot-password",children:"Forgot Password?"})]}),d.jsx("button",{type:"submit",className:"signin-button",disabled:t,children:t?"Signing In...":"Sign In"})]}),d.jsx("div",{className:"login-divider",children:d.jsx("span",{children:"Don't have an account?"})}),d.jsxs("div",{className:"account-options",children:[d.jsx("button",{className:"create-account-button",onClick:()=>Bi.info("Registration coming soon!"),children:"Create General Account"}),d.jsx("button",{className:"volunteer-register-button",onClick:()=>Bi.info("Volunteer registration coming soon!"),children:"Register as Volunteer"})]}),d.jsxs("div",{className:"demo-section",children:[d.jsx("h3",{className:"demo-title",children:"Demo Accounts"}),d.jsx("p",{className:"demo-subtitle",children:"Click any account below to instantly login and explore the system"}),d.jsx("div",{className:"demo-accounts",children:o.map((v,x)=>d.jsxs("div",{className:"demo-account",onClick:()=>y(v),children:[d.jsx("div",{className:"demo-icon",children:v.icon}),d.jsxs("div",{className:"demo-info",children:[d.jsx("div",{className:"demo-type",children:v.type}),d.jsx("div",{className:"demo-email",children:v.email}),d.jsx("div",{className:"demo-description",children:v.description})]})]},x))})]})]})})})};function Jw(n,e){const t=H.useRef(e);H.useEffect(function(){e!==t.current&&n.attributionControl!=null&&(t.current!=null&&n.attributionControl.removeAttribution(t.current),e!=null&&n.attributionControl.addAttribution(e)),t.current=e},[n,e])}function Z2(n,e,t){e.center!==t.center&&n.setLatLng(e.center),e.radius!=null&&e.radius!==t.radius&&n.setRadius(e.radius)}const K2=1;function Y2(n){return Object.freeze({__version:K2,map:n})}function e1(n,e){return Object.freeze({...n,...e})}const yy=H.createContext(null);function Bf(){const n=H.use(yy);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function t1(n){function e(t,s){const{instance:o,context:c}=n(t).current;H.useImperativeHandle(s,()=>o);const{children:f}=t;return f==null?null:na.createElement(yy,{value:c},f)}return H.forwardRef(e)}function W2(n){function e(t,s){const[o,c]=H.useState(!1),{instance:f}=n(t,c).current;H.useImperativeHandle(s,()=>f),H.useEffect(function(){o&&f.update()},[f,o,t.children]);const y=f._contentNode;return y?i2.createPortal(t.children,y):null}return H.forwardRef(e)}function Q2(n){function e(t,s){const{instance:o}=n(t).current;return H.useImperativeHandle(s,()=>o),null}return H.forwardRef(e)}function _y(n,e){const t=H.useRef(void 0);H.useEffect(function(){return e!=null&&n.instance.on(e),t.current=e,function(){t.current!=null&&n.instance.off(t.current),t.current=null}},[n,e])}function Hf(n,e){const t=n.pane??e.pane;return t?{...n,pane:t}:n}function X2(n,e){return function(s,o){const c=Bf(),f=n(Hf(s,c),c);return Jw(c.map,s.attribution),_y(f.current,s.eventHandlers),e(f.current,c,s,o),f}}var Bu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var J2=Bu.exports,Tx;function eR(){return Tx||(Tx=1,(function(n,e){(function(t,s){s(e)})(J2,(function(t){var s="1.9.4";function o(a){var u,p,b,T;for(p=1,b=arguments.length;p<b;p++){T=arguments[p];for(u in T)a[u]=T[u]}return a}var c=Object.create||(function(){function a(){}return function(u){return a.prototype=u,new a}})();function f(a,u){var p=Array.prototype.slice;if(a.bind)return a.bind.apply(a,p.call(arguments,1));var b=p.call(arguments,2);return function(){return a.apply(u,b.length?b.concat(p.call(arguments)):arguments)}}var y=0;function v(a){return"_leaflet_id"in a||(a._leaflet_id=++y),a._leaflet_id}function x(a,u,p){var b,T,C,q;return q=function(){b=!1,T&&(C.apply(p,T),T=!1)},C=function(){b?T=arguments:(a.apply(p,arguments),setTimeout(q,u),b=!0)},C}function w(a,u,p){var b=u[1],T=u[0],C=b-T;return a===b&&p?a:((a-T)%C+C)%C+T}function N(){return!1}function R(a,u){if(u===!1)return a;var p=Math.pow(10,u===void 0?6:u);return Math.round(a*p)/p}function P(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function O(a){return P(a).split(/\s+/)}function F(a,u){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?c(a.options):{});for(var p in u)a.options[p]=u[p];return a.options}function z(a,u,p){var b=[];for(var T in a)b.push(encodeURIComponent(p?T.toUpperCase():T)+"="+encodeURIComponent(a[T]));return(!u||u.indexOf("?")===-1?"?":"&")+b.join("&")}var ce=/\{ *([\w_ -]+) *\}/g;function $(a,u){return a.replace(ce,function(p,b){var T=u[b];if(T===void 0)throw new Error("No value provided for variable "+p);return typeof T=="function"&&(T=T(u)),T})}var W=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function we(a,u){for(var p=0;p<a.length;p++)if(a[p]===u)return p;return-1}var le="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Ee(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var Z=0;function V(a){var u=+new Date,p=Math.max(0,16-(u-Z));return Z=u+p,window.setTimeout(a,p)}var U=window.requestAnimationFrame||Ee("RequestAnimationFrame")||V,K=window.cancelAnimationFrame||Ee("CancelAnimationFrame")||Ee("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function B(a,u,p){if(p&&U===V)a.call(u);else return U.call(window,f(a,u))}function M(a){a&&K.call(window,a)}var D={__proto__:null,extend:o,create:c,bind:f,get lastId(){return y},stamp:v,throttle:x,wrapNum:w,falseFn:N,formatNum:R,trim:P,splitWords:O,setOptions:F,getParamString:z,template:$,isArray:W,indexOf:we,emptyImageUrl:le,requestFn:U,cancelFn:K,requestAnimFrame:B,cancelAnimFrame:M};function de(){}de.extend=function(a){var u=function(){F(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=u.__super__=this.prototype,b=c(p);b.constructor=u,u.prototype=b;for(var T in this)Object.prototype.hasOwnProperty.call(this,T)&&T!=="prototype"&&T!=="__super__"&&(u[T]=this[T]);return a.statics&&o(u,a.statics),a.includes&&(Ae(a.includes),o.apply(null,[b].concat(a.includes))),o(b,a),delete b.statics,delete b.includes,b.options&&(b.options=p.options?c(p.options):{},o(b.options,a.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var C=0,q=b._initHooks.length;C<q;C++)b._initHooks[C].call(this)}},u},de.include=function(a){var u=this.prototype.options;return o(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},de.mergeOptions=function(a){return o(this.prototype.options,a),this},de.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),p=typeof a=="function"?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function Ae(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=W(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var X={on:function(a,u,p){if(typeof a=="object")for(var b in a)this._on(b,a[b],u);else{a=O(a);for(var T=0,C=a.length;T<C;T++)this._on(a[T],u,p)}return this},off:function(a,u,p){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var b in a)this._off(b,a[b],u);else{a=O(a);for(var T=arguments.length===1,C=0,q=a.length;C<q;C++)T?this._off(a[C]):this._off(a[C],u,p)}return this},_on:function(a,u,p,b){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(a,u,p)===!1){p===this&&(p=void 0);var T={fn:u,ctx:p};b&&(T.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(T)}},_off:function(a,u,p){var b,T,C;if(this._events&&(b=this._events[a],!!b)){if(arguments.length===1){if(this._firingCount)for(T=0,C=b.length;T<C;T++)b[T].fn=N;delete this._events[a];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var q=this._listens(a,u,p);if(q!==!1){var J=b[q];this._firingCount&&(J.fn=N,this._events[a]=b=b.slice()),b.splice(q,1)}}},fire:function(a,u,p){if(!this.listens(a,p))return this;var b=o({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var T=this._events[a];if(T){this._firingCount=this._firingCount+1||1;for(var C=0,q=T.length;C<q;C++){var J=T[C],oe=J.fn;J.once&&this.off(a,oe,J.ctx),oe.call(J.ctx||this,b)}this._firingCount--}}return p&&this._propagateEvent(b),this},listens:function(a,u,p,b){typeof a!="string"&&console.warn('"string" type argument expected');var T=u;typeof u!="function"&&(b=!!u,T=void 0,p=void 0);var C=this._events&&this._events[a];if(C&&C.length&&this._listens(a,T,p)!==!1)return!0;if(b){for(var q in this._eventParents)if(this._eventParents[q].listens(a,u,p,b))return!0}return!1},_listens:function(a,u,p){if(!this._events)return!1;var b=this._events[a]||[];if(!u)return!!b.length;p===this&&(p=void 0);for(var T=0,C=b.length;T<C;T++)if(b[T].fn===u&&b[T].ctx===p)return T;return!1},once:function(a,u,p){if(typeof a=="object")for(var b in a)this._on(b,a[b],u,!0);else{a=O(a);for(var T=0,C=a.length;T<C;T++)this._on(a[T],u,p,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[v(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[v(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,o({layer:a.target,propagatedFrom:a.target},a),!0)}};X.addEventListener=X.on,X.removeEventListener=X.clearAllEventListeners=X.off,X.addOneTimeEventListener=X.once,X.fireEvent=X.fire,X.hasEventListeners=X.listens;var _e=de.extend(X);function re(a,u,p){this.x=p?Math.round(a):a,this.y=p?Math.round(u):u}var ke=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};re.prototype={clone:function(){return new re(this.x,this.y)},add:function(a){return this.clone()._add(k(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(k(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new re(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new re(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ke(this.x),this.y=ke(this.y),this},distanceTo:function(a){a=k(a);var u=a.x-this.x,p=a.y-this.y;return Math.sqrt(u*u+p*p)},equals:function(a){return a=k(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=k(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+R(this.x)+", "+R(this.y)+")"}};function k(a,u,p){return a instanceof re?a:W(a)?new re(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new re(a.x,a.y):new re(a,u,p)}function ue(a,u){if(a)for(var p=u?[a,u]:a,b=0,T=p.length;b<T;b++)this.extend(p[b])}ue.prototype={extend:function(a){var u,p;if(!a)return this;if(a instanceof re||typeof a[0]=="number"||"x"in a)u=p=k(a);else if(a=xe(a),u=a.min,p=a.max,!u||!p)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=p.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(a){return k((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return k(this.min.x,this.max.y)},getTopRight:function(){return k(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,p;return typeof a[0]=="number"||a instanceof re?a=k(a):a=xe(a),a instanceof ue?(u=a.min,p=a.max):u=p=a,u.x>=this.min.x&&p.x<=this.max.x&&u.y>=this.min.y&&p.y<=this.max.y},intersects:function(a){a=xe(a);var u=this.min,p=this.max,b=a.min,T=a.max,C=T.x>=u.x&&b.x<=p.x,q=T.y>=u.y&&b.y<=p.y;return C&&q},overlaps:function(a){a=xe(a);var u=this.min,p=this.max,b=a.min,T=a.max,C=T.x>u.x&&b.x<p.x,q=T.y>u.y&&b.y<p.y;return C&&q},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var u=this.min,p=this.max,b=Math.abs(u.x-p.x)*a,T=Math.abs(u.y-p.y)*a;return xe(k(u.x-b,u.y-T),k(p.x+b,p.y+T))},equals:function(a){return a?(a=xe(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function xe(a,u){return!a||a instanceof ue?a:new ue(a,u)}function be(a,u){if(a)for(var p=u?[a,u]:a,b=0,T=p.length;b<T;b++)this.extend(p[b])}be.prototype={extend:function(a){var u=this._southWest,p=this._northEast,b,T;if(a instanceof Ce)b=a,T=a;else if(a instanceof be){if(b=a._southWest,T=a._northEast,!b||!T)return this}else return a?this.extend(Ne(a)||Te(a)):this;return!u&&!p?(this._southWest=new Ce(b.lat,b.lng),this._northEast=new Ce(T.lat,T.lng)):(u.lat=Math.min(b.lat,u.lat),u.lng=Math.min(b.lng,u.lng),p.lat=Math.max(T.lat,p.lat),p.lng=Math.max(T.lng,p.lng)),this},pad:function(a){var u=this._southWest,p=this._northEast,b=Math.abs(u.lat-p.lat)*a,T=Math.abs(u.lng-p.lng)*a;return new be(new Ce(u.lat-b,u.lng-T),new Ce(p.lat+b,p.lng+T))},getCenter:function(){return new Ce((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ce(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ce(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Ce||"lat"in a?a=Ne(a):a=Te(a);var u=this._southWest,p=this._northEast,b,T;return a instanceof be?(b=a.getSouthWest(),T=a.getNorthEast()):b=T=a,b.lat>=u.lat&&T.lat<=p.lat&&b.lng>=u.lng&&T.lng<=p.lng},intersects:function(a){a=Te(a);var u=this._southWest,p=this._northEast,b=a.getSouthWest(),T=a.getNorthEast(),C=T.lat>=u.lat&&b.lat<=p.lat,q=T.lng>=u.lng&&b.lng<=p.lng;return C&&q},overlaps:function(a){a=Te(a);var u=this._southWest,p=this._northEast,b=a.getSouthWest(),T=a.getNorthEast(),C=T.lat>u.lat&&b.lat<p.lat,q=T.lng>u.lng&&b.lng<p.lng;return C&&q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return a?(a=Te(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Te(a,u){return a instanceof be?a:new be(a,u)}function Ce(a,u,p){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,p!==void 0&&(this.alt=+p)}Ce.prototype={equals:function(a,u){if(!a)return!1;a=Ne(a);var p=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return p<=(u===void 0?1e-9:u)},toString:function(a){return"LatLng("+R(this.lat,a)+", "+R(this.lng,a)+")"},distanceTo:function(a){return it.distance(this,Ne(a))},wrap:function(){return it.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,p=u/Math.cos(Math.PI/180*this.lat);return Te([this.lat-u,this.lng-p],[this.lat+u,this.lng+p])},clone:function(){return new Ce(this.lat,this.lng,this.alt)}};function Ne(a,u,p){return a instanceof Ce?a:W(a)&&typeof a[0]!="object"?a.length===3?new Ce(a[0],a[1],a[2]):a.length===2?new Ce(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Ce(a.lat,"lng"in a?a.lng:a.lon,a.alt):u===void 0?null:new Ce(a,u,p)}var Nt={latLngToPoint:function(a,u){var p=this.projection.project(a),b=this.scale(u);return this.transformation._transform(p,b)},pointToLatLng:function(a,u){var p=this.scale(u),b=this.transformation.untransform(a,p);return this.projection.unproject(b)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,p=this.scale(a),b=this.transformation.transform(u.min,p),T=this.transformation.transform(u.max,p);return new ue(b,T)},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?w(a.lng,this.wrapLng,!0):a.lng,p=this.wrapLat?w(a.lat,this.wrapLat,!0):a.lat,b=a.alt;return new Ce(p,u,b)},wrapLatLngBounds:function(a){var u=a.getCenter(),p=this.wrapLatLng(u),b=u.lat-p.lat,T=u.lng-p.lng;if(b===0&&T===0)return a;var C=a.getSouthWest(),q=a.getNorthEast(),J=new Ce(C.lat-b,C.lng-T),oe=new Ce(q.lat-b,q.lng-T);return new be(J,oe)}},it=o({},Nt,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var p=Math.PI/180,b=a.lat*p,T=u.lat*p,C=Math.sin((u.lat-a.lat)*p/2),q=Math.sin((u.lng-a.lng)*p/2),J=C*C+Math.cos(b)*Math.cos(T)*q*q,oe=2*Math.atan2(Math.sqrt(J),Math.sqrt(1-J));return this.R*oe}}),si=6378137,vr={R:si,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,p=this.MAX_LATITUDE,b=Math.max(Math.min(p,a.lat),-p),T=Math.sin(b*u);return new re(this.R*a.lng*u,this.R*Math.log((1+T)/(1-T))/2)},unproject:function(a){var u=180/Math.PI;return new Ce((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:(function(){var a=si*Math.PI;return new ue([-a,-a],[a,a])})()};function ks(a,u,p,b){if(W(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=u,this._c=p,this._d=b}ks.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return u=u||1,a.x=u*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return u=u||1,new re((a.x/u-this._b)/this._a,(a.y/u-this._d)/this._c)}};function Hi(a,u,p,b){return new ks(a,u,p,b)}var cs=o({},it,{code:"EPSG:3857",projection:vr,transformation:(function(){var a=.5/(Math.PI*vr.R);return Hi(a,.5,-a,.5)})()}),fa=o({},cs,{code:"EPSG:900913"});function Rl(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function ma(a,u){var p="",b,T,C,q,J,oe;for(b=0,C=a.length;b<C;b++){for(J=a[b],T=0,q=J.length;T<q;T++)oe=J[T],p+=(T?"L":"M")+oe.x+" "+oe.y;p+=u?Me.svg?"z":"x":""}return p||"M0 0"}var fn=document.documentElement.style,xr="ActiveXObject"in window,Zt=xr&&!document.addEventListener,Kt="msLaunchUri"in navigator&&!("documentMode"in document),wi=mn("webkit"),Cl=mn("android"),pa=mn("android 2")||mn("android 3"),$c=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),br=Cl&&mn("Google")&&$c<537&&!("AudioNode"in window),Fi=!!window.opera,rn=!Kt&&mn("chrome"),Fn=mn("gecko")&&!wi&&!Fi&&!xr,Nn=!rn&&mn("safari"),Il=mn("phantom"),Ro="OTransition"in fn,jl=navigator.platform.indexOf("Win")===0,Ei=xr&&"transition"in fn,qi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!pa,ri="MozPerspective"in fn,ai=!window.L_DISABLE_3D&&(Ei||qi||ri)&&!Ro&&!Il,oi=typeof orientation<"u"||mn("mobile"),ga=oi&&wi,Co=oi&&qi,us=!window.PointerEvent&&window.MSPointerEvent,wr=!!(window.PointerEvent||us),Mt="ontouchstart"in window||!!window.TouchEvent,Ol=!window.L_NO_TOUCH&&(Mt||wr),Ls=oi&&Fi,Vs=oi&&Fn,Io=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,jo=(function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",N,u),window.removeEventListener("testPassiveEventSupport",N,u)}catch{}return a})(),hs=(function(){return!!document.createElement("canvas").getContext})(),Oo=!!(document.createElementNS&&Rl("svg").createSVGRect),Gi=!!Oo&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Ut=!Oo&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),an=navigator.platform.indexOf("Mac")===0,ds=navigator.platform.indexOf("Linux")===0;function mn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Me={ie:xr,ielt9:Zt,edge:Kt,webkit:wi,android:Cl,android23:pa,androidStock:br,opera:Fi,chrome:rn,gecko:Fn,safari:Nn,phantom:Il,opera12:Ro,win:jl,ie3d:Ei,webkit3d:qi,gecko3d:ri,any3d:ai,mobile:oi,mobileWebkit:ga,mobileWebkit3d:Co,msPointer:us,pointer:wr,touch:Ol,touchNative:Mt,mobileOpera:Ls,mobileGecko:Vs,retina:Io,passiveEvents:jo,canvas:hs,svg:Oo,vml:Ut,inlineSvg:Gi,mac:an,linux:ds},Pl=Me.msPointer?"MSPointerDown":"pointerdown",li=Me.msPointer?"MSPointerMove":"pointermove",fs=Me.msPointer?"MSPointerUp":"pointerup",Er=Me.msPointer?"MSPointerCancel":"pointercancel",ci={touchstart:Pl,touchmove:li,touchend:fs,touchcancel:Er},Ti={touchstart:ya,touchmove:Gn,touchend:Gn,touchcancel:Gn},qn={},ms=!1;function zt(a,u,p){return u==="touchstart"&&Sr(),Ti[u]?(p=Ti[u].bind(this,p),a.addEventListener(ci[u],p,!1),p):(console.warn("wrong event specified:",u),N)}function Ml(a,u,p){if(!ci[u]){console.warn("wrong event specified:",u);return}a.removeEventListener(ci[u],p,!1)}function Tr(a){qn[a.pointerId]=a}function $i(a){qn[a.pointerId]&&(qn[a.pointerId]=a)}function Si(a){delete qn[a.pointerId]}function Sr(){ms||(document.addEventListener(Pl,Tr,!0),document.addEventListener(li,$i,!0),document.addEventListener(fs,Si,!0),document.addEventListener(Er,Si,!0),ms=!0)}function Gn(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var p in qn)u.touches.push(qn[p]);u.changedTouches=[u],a(u)}}function ya(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Ot(u),Gn(a,u)}function Zc(a){var u={},p,b;for(b in a)p=a[b],u[b]=p&&p.bind?p.bind(a):p;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Nr=200;function Ar(a,u){a.addEventListener("dblclick",u);var p=0,b;function T(C){if(C.detail!==1){b=C.detail;return}if(!(C.pointerType==="mouse"||C.sourceCapabilities&&!C.sourceCapabilities.firesTouchEvents)){var q=va(C);if(!(q.some(function(oe){return oe instanceof HTMLLabelElement&&oe.attributes.for})&&!q.some(function(oe){return oe instanceof HTMLInputElement||oe instanceof HTMLSelectElement}))){var J=Date.now();J-p<=Nr?(b++,b===2&&u(Zc(C))):b=1,p=J}}}return a.addEventListener("click",T),{dblclick:u,simDblclick:T}}function ui(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}var ps=Us(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Zi=Us(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ki=Zi==="webkitTransition"||Zi==="OTransition"?Zi+"End":"transitionend";function Rr(a){return typeof a=="string"?document.getElementById(a):a}function Yi(a,u){var p=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!p||p==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(a,null);p=b?b[u]:null}return p==="auto"?null:p}function at(a,u,p){var b=document.createElement(a);return b.className=u||"",p&&p.appendChild(b),b}function ut(a){var u=a.parentNode;u&&u.removeChild(a)}function wt(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function $n(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function hi(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function Wi(a,u){if(a.classList!==void 0)return a.classList.contains(u);var p=Bt(a);return p.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(p)}function je(a,u){if(a.classList!==void 0)for(var p=O(u),b=0,T=p.length;b<T;b++)a.classList.add(p[b]);else if(!Wi(a,u)){var C=Bt(a);gs(a,(C?C+" ":"")+u)}}function yt(a,u){a.classList!==void 0?a.classList.remove(u):gs(a,P((" "+Bt(a)+" ").replace(" "+u+" "," ")))}function gs(a,u){a.className.baseVal===void 0?a.className=u:a.className.baseVal=u}function Bt(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function pn(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&Po(a,u)}function Po(a,u){var p=!1,b="DXImageTransform.Microsoft.Alpha";try{p=a.filters.item(b)}catch{if(u===1)return}u=Math.round(u*100),p?(p.Enabled=u!==100,p.Opacity=u):a.style.filter+=" progid:"+b+"(opacity="+u+")"}function Us(a){for(var u=document.documentElement.style,p=0;p<a.length;p++)if(a[p]in u)return a[p];return!1}function Pn(a,u,p){var b=u||new re(0,0);a.style[ps]=(Me.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(p?" scale("+p+")":"")}function jt(a,u){a._leaflet_pos=u,Me.any3d?Pn(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function Qi(a){return a._leaflet_pos||new re(0,0)}var gn,Zn,Cr;if("onselectstart"in document)gn=function(){Be(window,"selectstart",Ot)},Zn=function(){ht(window,"selectstart",Ot)};else{var ys=Us(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);gn=function(){if(ys){var a=document.documentElement.style;Cr=a[ys],a[ys]="none"}},Zn=function(){ys&&(document.documentElement.style[ys]=Cr,Cr=void 0)}}function zs(){Be(window,"dragstart",Ot)}function _a(){ht(window,"dragstart",Ot)}var Ir,Kn;function jr(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Bs(),Ir=a,Kn=a.style.outlineStyle,a.style.outlineStyle="none",Be(window,"keydown",Bs))}function Bs(){Ir&&(Ir.style.outlineStyle=Kn,Ir=void 0,Kn=void 0,ht(window,"keydown",Bs))}function _s(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function on(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var Dl={__proto__:null,TRANSFORM:ps,TRANSITION:Zi,TRANSITION_END:Ki,get:Rr,getStyle:Yi,create:at,remove:ut,empty:wt,toFront:$n,toBack:hi,hasClass:Wi,addClass:je,removeClass:yt,setClass:gs,getClass:Bt,setOpacity:pn,testProp:Us,setTransform:Pn,setPosition:jt,getPosition:Qi,get disableTextSelection(){return gn},get enableTextSelection(){return Zn},disableImageDrag:zs,enableImageDrag:_a,preventOutline:jr,restoreOutline:Bs,getSizedParentNode:_s,getScale:on};function Be(a,u,p,b){if(u&&typeof u=="object")for(var T in u)Xi(a,T,u[T],p);else{u=O(u);for(var C=0,q=u.length;C<q;C++)Xi(a,u[C],p,b)}return this}var yn="_leaflet_events";function ht(a,u,p,b){if(arguments.length===1)_n(a),delete a[yn];else if(u&&typeof u=="object")for(var T in u)Mn(a,T,u[T],p);else if(u=O(u),arguments.length===2)_n(a,function(J){return we(u,J)!==-1});else for(var C=0,q=u.length;C<q;C++)Mn(a,u[C],p,b);return this}function _n(a,u){for(var p in a[yn]){var b=p.split(/\d/)[0];(!u||u(b))&&Mn(a,b,null,null,p)}}var Ni={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Xi(a,u,p,b){var T=u+v(p)+(b?"_"+v(b):"");if(a[yn]&&a[yn][T])return this;var C=function(J){return p.call(b||a,J||window.event)},q=C;!Me.touchNative&&Me.pointer&&u.indexOf("touch")===0?C=zt(a,u,C):Me.touch&&u==="dblclick"?C=Ar(a,C):"addEventListener"in a?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?a.addEventListener(Ni[u]||u,C,Me.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(C=function(J){J=J||window.event,vs(a,J)&&q(J)},a.addEventListener(Ni[u],C,!1)):a.addEventListener(u,q,!1):a.attachEvent("on"+u,C),a[yn]=a[yn]||{},a[yn][T]=C}function Mn(a,u,p,b,T){T=T||u+v(p)+(b?"_"+v(b):"");var C=a[yn]&&a[yn][T];if(!C)return this;!Me.touchNative&&Me.pointer&&u.indexOf("touch")===0?Ml(a,u,C):Me.touch&&u==="dblclick"?ui(a,C):"removeEventListener"in a?a.removeEventListener(Ni[u]||u,C,!1):a.detachEvent("on"+u,C),a[yn][T]=null}function dt(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Hs(a){return Xi(a,"wheel",dt),this}function Fs(a){return Be(a,"mousedown touchstart dblclick contextmenu",dt),a._leaflet_disable_click=!0,this}function Ot(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Yn(a){return Ot(a),dt(a),this}function va(a){if(a.composedPath)return a.composedPath();for(var u=[],p=a.target;p;)u.push(p),p=p.parentNode;return u}function Gt(a,u){if(!u)return new re(a.clientX,a.clientY);var p=on(u),b=p.boundingClientRect;return new re((a.clientX-b.left)/p.x-u.clientLeft,(a.clientY-b.top)/p.y-u.clientTop)}var vn=Me.linux&&Me.chrome?window.devicePixelRatio:Me.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function qs(a){return Me.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/vn:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function vs(a,u){var p=u.relatedTarget;if(!p)return!0;try{for(;p&&p!==a;)p=p.parentNode}catch{return!1}return p!==a}var Or={__proto__:null,on:Be,off:ht,stopPropagation:dt,disableScrollPropagation:Hs,disableClickPropagation:Fs,preventDefault:Ot,stop:Yn,getPropagationPath:va,getMousePosition:Gt,getWheelDelta:qs,isExternalTarget:vs,addListener:Be,removeListener:ht},Pr=_e.extend({run:function(a,u,p,b){this.stop(),this._el=a,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=Qi(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=B(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,p=this._duration*1e3;u<p?this._runFrame(this._easeOut(u/p),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var p=this._startPos.add(this._offset.multiplyBy(a));u&&p._round(),jt(this._el,p),this.fire("step")},_complete:function(){M(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Qe=_e.extend({options:{crs:cs,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=F(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Ne(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Zi&&Me.any3d&&!Me.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Be(this._proxy,Ki,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,p){if(u=u===void 0?this._zoom:this._limitZoom(u),a=this._limitCenter(Ne(a),u,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=o({animate:p.animate},p.zoom),p.pan=o({animate:p.animate,duration:p.duration},p.pan));var b=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,p.zoom):this._tryAnimatedPan(a,p.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(a,u,p.pan&&p.pan.noMoveStart),this},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return a=a||(Me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,u)},zoomOut:function(a,u){return a=a||(Me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,u)},setZoomAround:function(a,u,p){var b=this.getZoomScale(u),T=this.getSize().divideBy(2),C=a instanceof re?a:this.latLngToContainerPoint(a),q=C.subtract(T).multiplyBy(1-1/b),J=this.containerPointToLatLng(T.add(q));return this.setView(J,u,{zoom:p})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():Te(a);var p=k(u.paddingTopLeft||u.padding||[0,0]),b=k(u.paddingBottomRight||u.padding||[0,0]),T=this.getBoundsZoom(a,!1,p.add(b));if(T=typeof u.maxZoom=="number"?Math.min(u.maxZoom,T):T,T===1/0)return{center:a.getCenter(),zoom:T};var C=b.subtract(p).divideBy(2),q=this.project(a.getSouthWest(),T),J=this.project(a.getNorthEast(),T),oe=this.unproject(q.add(J).divideBy(2).add(C),T);return{center:oe,zoom:T}},fitBounds:function(a,u){if(a=Te(a),!a.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(a,u);return this.setView(p.center,p.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(a=k(a).round(),u=u||{},!a.x&&!a.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Pr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){je(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,p,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,p){if(p=p||{},p.animate===!1||!Me.any3d)return this.setView(a,u,p);this._stop();var b=this.project(this.getCenter()),T=this.project(a),C=this.getSize(),q=this._zoom;a=Ne(a),u=u===void 0?q:u;var J=Math.max(C.x,C.y),oe=J*this.getZoomScale(q,u),ve=T.distanceTo(b)||1,Re=1.42,Pe=Re*Re;function Le(kt){var is=kt?-1:1,Es=kt?oe:J,Ys=oe*oe-J*J+is*Pe*Pe*ve*ve,Ts=2*Es*Pe*ve,Yo=Ys/Ts,Kl=Math.sqrt(Yo*Yo+1)-Yo,Wo=Kl<1e-9?-18:Math.log(Kl);return Wo}function $e(kt){return(Math.exp(kt)-Math.exp(-kt))/2}function Rt(kt){return(Math.exp(kt)+Math.exp(-kt))/2}function Ht(kt){return $e(kt)/Rt(kt)}var bn=Le(0);function fi(kt){return J*(Rt(bn)/Rt(bn+Re*kt))}function Dh(kt){return J*(Rt(bn)*Ht(bn+Re*kt)-$e(bn))/Pe}function kh(kt){return 1-Math.pow(1-kt,1.5)}var Ko=Date.now(),ka=(Le(1)-bn)/Re,Lh=p.duration?1e3*p.duration:1e3*ka*.8;function La(){var kt=(Date.now()-Ko)/Lh,is=kh(kt)*ka;kt<=1?(this._flyToFrame=B(La,this),this._move(this.unproject(b.add(T.subtract(b).multiplyBy(Dh(is)/ve)),q),this.getScaleZoom(J/fi(is),q),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),La.call(this),this},flyToBounds:function(a,u){var p=this._getBoundsCenterZoom(a,u);return this.flyTo(p.center,p.zoom,u)},setMaxBounds:function(a){return a=Te(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var p=this.getCenter(),b=this._limitCenter(p,this._zoom,Te(a));return p.equals(b)||this.panTo(b,u),this._enforcingBounds=!1,this},panInside:function(a,u){u=u||{};var p=k(u.paddingTopLeft||u.padding||[0,0]),b=k(u.paddingBottomRight||u.padding||[0,0]),T=this.project(this.getCenter()),C=this.project(a),q=this.getPixelBounds(),J=xe([q.min.add(p),q.max.subtract(b)]),oe=J.getSize();if(!J.contains(C)){this._enforcingBounds=!0;var ve=C.subtract(J.getCenter()),Re=J.extend(C).getSize().subtract(oe);T.x+=ve.x<0?-Re.x:Re.x,T.y+=ve.y<0?-Re.y:Re.y,this.panTo(this.unproject(T),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=o({animate:!1,pan:!0},a===!0?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),b=u.divideBy(2).round(),T=p.divideBy(2).round(),C=b.subtract(T);return!C.x&&!C.y?this:(a.animate&&a.pan?this.panBy(C):(a.pan&&this._rawPanBy(C),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=o({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=f(this._handleGeolocationResponse,this),p=f(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,p,a):navigator.geolocation.getCurrentPosition(u,p,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,p=a.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var u=a.coords.latitude,p=a.coords.longitude,b=new Ce(u,p),T=b.toBounds(a.coords.accuracy*2),C=this._locateOptions;if(C.setView){var q=this.getBoundsZoom(T);this.setView(b,C.maxZoom?Math.min(q,C.maxZoom):q)}var J={latlng:b,bounds:T,timestamp:a.timestamp};for(var oe in a.coords)typeof a.coords[oe]=="number"&&(J[oe]=a.coords[oe]);this.fire("locationfound",J)}},addHandler:function(a,u){if(!u)return this;var p=this[a]=new u(this);return this._handlers.push(p),this.options[a]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ut(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(M(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)ut(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var p="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),b=at("div",p,u||this._mapPane);return a&&(this._panes[a]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),u=this.unproject(a.getBottomLeft()),p=this.unproject(a.getTopRight());return new be(u,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,p){a=Te(a),p=k(p||[0,0]);var b=this.getZoom()||0,T=this.getMinZoom(),C=this.getMaxZoom(),q=a.getNorthWest(),J=a.getSouthEast(),oe=this.getSize().subtract(p),ve=xe(this.project(J,b),this.project(q,b)).getSize(),Re=Me.any3d?this.options.zoomSnap:1,Pe=oe.x/ve.x,Le=oe.y/ve.y,$e=u?Math.max(Pe,Le):Math.min(Pe,Le);return b=this.getScaleZoom($e,b),Re&&(b=Math.round(b/(Re/100))*(Re/100),b=u?Math.ceil(b/Re)*Re:Math.floor(b/Re)*Re),Math.max(T,Math.min(C,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new re(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var p=this._getTopLeftPoint(a,u);return new ue(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var p=this.options.crs;return u=u===void 0?this._zoom:u,p.scale(a)/p.scale(u)},getScaleZoom:function(a,u){var p=this.options.crs;u=u===void 0?this._zoom:u;var b=p.zoom(a*p.scale(u));return isNaN(b)?1/0:b},project:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Ne(a),u)},unproject:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(k(a),u)},layerPointToLatLng:function(a){var u=k(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){var u=this.project(Ne(a))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Ne(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(Te(a))},distance:function(a,u){return this.options.crs.distance(Ne(a),Ne(u))},containerPointToLayerPoint:function(a){return k(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return k(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(k(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ne(a)))},mouseEventToContainerPoint:function(a){return Gt(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=Rr(a);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Be(u,"scroll",this._onScroll,this),this._containerId=v(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Me.any3d,je(a,"leaflet-container"+(Me.touch?" leaflet-touch":"")+(Me.retina?" leaflet-retina":"")+(Me.ielt9?" leaflet-oldie":"")+(Me.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Yi(a,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),jt(this._mapPane,new re(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(je(a.markerPane,"leaflet-zoom-hide"),je(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,p){jt(this._mapPane,new re(0,0));var b=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var T=this._zoom!==u;this._moveStart(T,p)._move(a,u)._moveEnd(T),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,p,b){u===void 0&&(u=this._zoom);var T=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),b?p&&p.pinch&&this.fire("zoom",p):((T||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return M(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){jt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[v(this._container)]=this;var u=a?ht:Be;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Me.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){M(this._resizeRequest),this._resizeRequest=B(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var p=[],b,T=u==="mouseout"||u==="mouseover",C=a.target||a.srcElement,q=!1;C;){if(b=this._targets[v(C)],b&&(u==="click"||u==="preclick")&&this._draggableMoved(b)){q=!0;break}if(b&&b.listens(u,!0)&&(T&&!vs(C,a)||(p.push(b),T))||C===this._container)break;C=C.parentNode}return!p.length&&!q&&!T&&this.listens(u,!0)&&(p=[this]),p},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(u))){var p=a.type;p==="mousedown"&&jr(u),this._fireDOMEvent(a,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,p){if(a.type==="click"){var b=o({},a);b.type="preclick",this._fireDOMEvent(b,b.type,p)}var T=this._findEventTargets(a,u);if(p){for(var C=[],q=0;q<p.length;q++)p[q].listens(u,!0)&&C.push(p[q]);T=C.concat(T)}if(T.length){u==="contextmenu"&&Ot(a);var J=T[0],oe={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var ve=J.getLatLng&&(!J._radius||J._radius<=10);oe.containerPoint=ve?this.latLngToContainerPoint(J.getLatLng()):this.mouseEventToContainerPoint(a),oe.layerPoint=this.containerPointToLayerPoint(oe.containerPoint),oe.latlng=ve?J.getLatLng():this.layerPointToLatLng(oe.layerPoint)}for(q=0;q<T.length;q++)if(T[q].fire(u,oe,!0),oe.originalEvent._stopped||T[q].options.bubblingMouseEvents===!1&&we(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return Qi(this._mapPane)||new re(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){var p=a&&u!==void 0?this._getNewPixelOrigin(a,u):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var p=this.getSize()._divideBy(2);return this.project(a,u)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,p){var b=this._getNewPixelOrigin(p,u);return this.project(a,u)._subtract(b)},_latLngBoundsToNewLayerBounds:function(a,u,p){var b=this._getNewPixelOrigin(p,u);return xe([this.project(a.getSouthWest(),u)._subtract(b),this.project(a.getNorthWest(),u)._subtract(b),this.project(a.getSouthEast(),u)._subtract(b),this.project(a.getNorthEast(),u)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,p){if(!p)return a;var b=this.project(a,u),T=this.getSize().divideBy(2),C=new ue(b.subtract(T),b.add(T)),q=this._getBoundsOffset(C,p,u);return Math.abs(q.x)<=1&&Math.abs(q.y)<=1?a:this.unproject(b.add(q),u)},_limitOffset:function(a,u){if(!u)return a;var p=this.getPixelBounds(),b=new ue(p.min.add(a),p.max.add(a));return a.add(this._getBoundsOffset(b,u))},_getBoundsOffset:function(a,u,p){var b=xe(this.project(u.getNorthEast(),p),this.project(u.getSouthWest(),p)),T=b.min.subtract(a.min),C=b.max.subtract(a.max),q=this._rebound(T.x,-C.x),J=this._rebound(T.y,-C.y);return new re(q,J)},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),p=this.getMaxZoom(),b=Me.any3d?this.options.zoomSnap:1;return b&&(a=Math.round(a/b)*b),Math.max(u,Math.min(p,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){yt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var p=this._getCenterOffset(a)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,u),!0)},_createAnimProxy:function(){var a=this._proxy=at("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var p=ps,b=this._proxy.style[p];Pn(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),b===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ut(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();Pn(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(u),T=this._getCenterOffset(a)._divideBy(1-1/b);return p.animate!==!0&&!this.getSize().contains(T)?!1:(B(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(a,u,!0)},this),!0)},_animateZoom:function(a,u,p,b){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,je(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&yt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ji(a,u){return new Qe(a,u)}var ln=de.extend({options:{position:"topright"},initialize:function(a){F(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),p=this.getPosition(),b=a._controlCorners[p];return je(u,"leaflet-control"),p.indexOf("bottom")!==-1?b.insertBefore(u,b.firstChild):b.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ut(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Ai=function(a){return new ln(a)};Qe.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",p=this._controlContainer=at("div",u+"control-container",this._container);function b(T,C){var q=u+T+" "+u+C;a[T+C]=at("div",q,p)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)ut(this._controlCorners[a]);ut(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var kl=ln.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,p,b){return p<b?-1:b<p?1:0}},initialize:function(a,u,p){F(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in a)this._addLayer(a[b],b);for(b in u)this._addLayer(u[b],b,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return ln.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(v(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){je(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(je(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):yt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return yt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=at("div",a),p=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Fs(u),Hs(u);var b=this._section=at("section",a+"-list");p&&(this._map.on("click",this.collapse,this),Be(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var T=this._layersLink=at("a",a+"-toggle",u);T.href="#",T.title="Layers",T.setAttribute("role","button"),Be(T,{keydown:function(C){C.keyCode===13&&this._expandSafely()},click:function(C){Ot(C),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=at("div",a+"-base",b),this._separator=at("div",a+"-separator",b),this._overlaysList=at("div",a+"-overlays",b),u.appendChild(b)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&v(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,p){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:p}),this.options.sortLayers&&this._layers.sort(f(function(b,T){return this.options.sortFunction(b.layer,T.layer,b.name,T.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;wt(this._baseLayersList),wt(this._overlaysList),this._layerControlInputs=[];var a,u,p,b,T=0;for(p=0;p<this._layers.length;p++)b=this._layers[p],this._addItem(b),u=u||b.overlay,a=a||!b.overlay,T+=b.overlay?0:1;return this.options.hideSingleBase&&(a=a&&T>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(v(a.target)),p=u.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;p&&this._map.fire(p,u)},_createRadioElement:function(a,u){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=p,b.firstChild},_addItem:function(a){var u=document.createElement("label"),p=this._map.hasLayer(a.layer),b;a.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=p):b=this._createRadioElement("leaflet-base-layers_"+v(this),p),this._layerControlInputs.push(b),b.layerId=v(a.layer),Be(b,"click",this._onInputClick,this);var T=document.createElement("span");T.innerHTML=" "+a.name;var C=document.createElement("span");u.appendChild(C),C.appendChild(b),C.appendChild(T);var q=a.overlay?this._overlaysList:this._baseLayersList;return q.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,u,p,b=[],T=[];this._handlingClick=!0;for(var C=a.length-1;C>=0;C--)u=a[C],p=this._getLayer(u.layerId).layer,u.checked?b.push(p):u.checked||T.push(p);for(C=0;C<T.length;C++)this._map.hasLayer(T[C])&&this._map.removeLayer(T[C]);for(C=0;C<b.length;C++)this._map.hasLayer(b[C])||this._map.addLayer(b[C]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,u,p,b=this._map.getZoom(),T=a.length-1;T>=0;T--)u=a[T],p=this._getLayer(u.layerId).layer,u.disabled=p.options.minZoom!==void 0&&b<p.options.minZoom||p.options.maxZoom!==void 0&&b>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Be(a,"click",Ot),this.expand();var u=this;setTimeout(function(){ht(a,"click",Ot),u._preventClick=!1})}}),Ll=function(a,u,p){return new kl(a,u,p)},xs=ln.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",p=at("div",u+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,u+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,u+"-out",p,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,p,b,T){var C=at("a",p,b);return C.innerHTML=a,C.href="#",C.title=u,C.setAttribute("role","button"),C.setAttribute("aria-label",u),Fs(C),Be(C,"click",Yn),Be(C,"click",T,this),Be(C,"click",this._refocusOnMap,this),C},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";yt(this._zoomInButton,u),yt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(je(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(je(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Qe.mergeOptions({zoomControl:!0}),Qe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new xs,this.addControl(this.zoomControl))});var xa=function(a){return new xs(a)},Mo=ln.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",p=at("div",u),b=this.options;return this._addScales(b,u+"-line",p),a.on(b.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),p},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,p){a.metric&&(this._mScale=at("div",u,p)),a.imperial&&(this._iScale=at("div",u,p))},_update:function(){var a=this._map,u=a.getSize().y/2,p=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(p)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a),p=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,p,u/a)},_updateImperial:function(a){var u=a*3.2808399,p,b,T;u>5280?(p=u/5280,b=this._getRoundNum(p),this._updateScale(this._iScale,b+" mi",b/p)):(T=this._getRoundNum(u),this._updateScale(this._iScale,T+" ft",T/u))},_updateScale:function(a,u,p){a.style.width=Math.round(this.options.maxWidth*p)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),p=a/u;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,u*p}}),Do=function(a){return new Mo(a)},ko='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ba=ln.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Me.inlineSvg?ko+" ":"")+"Leaflet</a>"},initialize:function(a){F(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=at("div","leaflet-control-attribution"),Fs(this._container);for(var u in a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var p=[];this.options.prefix&&p.push(this.options.prefix),a.length&&p.push(a.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});Qe.mergeOptions({attributionControl:!0}),Qe.addInitHook(function(){this.options.attributionControl&&new ba().addTo(this)});var wa=function(a){return new ba(a)};ln.Layers=kl,ln.Zoom=xs,ln.Scale=Mo,ln.Attribution=ba,Ai.layers=Ll,Ai.zoom=xa,Ai.scale=Do,Ai.attribution=wa;var Dn=de.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Dn.addTo=function(a,u){return a.addHandler(u,this),this};var Vl={Events:X},es=Me.touch?"touchstart mousedown":"mousedown",Ri=_e.extend({options:{clickTolerance:3},initialize:function(a,u,p,b){F(this,b),this._element=a,this._dragStartTarget=u||a,this._preventOutline=p},enable:function(){this._enabled||(Be(this._dragStartTarget,es,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ri._dragging===this&&this.finishDrag(!0),ht(this._dragStartTarget,es,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Wi(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Ri._dragging===this&&this.finishDrag();return}if(!(Ri._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Ri._dragging=this,this._preventOutline&&jr(this._element),zs(),gn(),!this._moving)){this.fire("down");var u=a.touches?a.touches[0]:a,p=_s(this._element);this._startPoint=new re(u.clientX,u.clientY),this._startPos=Qi(this._element),this._parentScale=on(p);var b=a.type==="mousedown";Be(document,b?"mousemove":"touchmove",this._onMove,this),Be(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var u=a.touches&&a.touches.length===1?a.touches[0]:a,p=new re(u.clientX,u.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,Ot(a),this._moved||(this.fire("dragstart"),this._moved=!0,je(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),je(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),jt(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){yt(document.body,"leaflet-dragging"),this._lastTarget&&(yt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ht(document,"mousemove touchmove",this._onMove,this),ht(document,"mouseup touchend touchcancel",this._onUp,this),_a(),Zn();var u=this._moved&&this._moving;this._moving=!1,Ri._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Lo(a,u,p){var b,T=[1,4,2,8],C,q,J,oe,ve,Re,Pe,Le;for(C=0,Re=a.length;C<Re;C++)a[C]._code=se(a[C],u);for(J=0;J<4;J++){for(Pe=T[J],b=[],C=0,Re=a.length,q=Re-1;C<Re;q=C++)oe=a[C],ve=a[q],oe._code&Pe?ve._code&Pe||(Le=ee(ve,oe,Pe,u,p),Le._code=se(Le,u),b.push(Le)):(ve._code&Pe&&(Le=ee(ve,oe,Pe,u,p),Le._code=se(Le,u),b.push(Le)),b.push(oe));a=b}return a}function Mr(a,u){var p,b,T,C,q,J,oe,ve,Re;if(!a||a.length===0)throw new Error("latlngs not passed");tt(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Pe=Ne([0,0]),Le=Te(a),$e=Le.getNorthWest().distanceTo(Le.getSouthWest())*Le.getNorthEast().distanceTo(Le.getNorthWest());$e<1700&&(Pe=Ea(a));var Rt=a.length,Ht=[];for(p=0;p<Rt;p++){var bn=Ne(a[p]);Ht.push(u.project(Ne([bn.lat-Pe.lat,bn.lng-Pe.lng])))}for(J=oe=ve=0,p=0,b=Rt-1;p<Rt;b=p++)T=Ht[p],C=Ht[b],q=T.y*C.x-C.y*T.x,oe+=(T.x+C.x)*q,ve+=(T.y+C.y)*q,J+=q*3;J===0?Re=Ht[0]:Re=[oe/J,ve/J];var fi=u.unproject(k(Re));return Ne([fi.lat+Pe.lat,fi.lng+Pe.lng])}function Ea(a){for(var u=0,p=0,b=0,T=0;T<a.length;T++){var C=Ne(a[T]);u+=C.lat,p+=C.lng,b++}return Ne([u/b,p/b])}var Ta={__proto__:null,clipPolygon:Lo,polygonCenter:Mr,centroid:Ea};function xn(a,u){if(!u||!a.length)return a.slice();var p=u*u;return a=E(a,p),a=Gs(a,p),a}function Sa(a,u,p){return Math.sqrt(He(a,u,p,!0))}function Ul(a,u,p){return He(a,u,p)}function Gs(a,u){var p=a.length,b=typeof Uint8Array<"u"?Uint8Array:Array,T=new b(p);T[0]=T[p-1]=1,m(a,T,u,0,p-1);var C,q=[];for(C=0;C<p;C++)T[C]&&q.push(a[C]);return q}function m(a,u,p,b,T){var C=0,q,J,oe;for(J=b+1;J<=T-1;J++)oe=He(a[J],a[b],a[T],!0),oe>C&&(q=J,C=oe);C>p&&(u[q]=1,m(a,u,p,b,q),m(a,u,p,q,T))}function E(a,u){for(var p=[a[0]],b=1,T=0,C=a.length;b<C;b++)Se(a[b],a[T])>u&&(p.push(a[b]),T=b);return T<C-1&&p.push(a[C-1]),p}var S;function j(a,u,p,b,T){var C=b?S:se(a,p),q=se(u,p),J,oe,ve;for(S=q;;){if(!(C|q))return[a,u];if(C&q)return!1;J=C||q,oe=ee(a,u,J,p,T),ve=se(oe,p),J===C?(a=oe,C=ve):(u=oe,q=ve)}}function ee(a,u,p,b,T){var C=u.x-a.x,q=u.y-a.y,J=b.min,oe=b.max,ve,Re;return p&8?(ve=a.x+C*(oe.y-a.y)/q,Re=oe.y):p&4?(ve=a.x+C*(J.y-a.y)/q,Re=J.y):p&2?(ve=oe.x,Re=a.y+q*(oe.x-a.x)/C):p&1&&(ve=J.x,Re=a.y+q*(J.x-a.x)/C),new re(ve,Re,T)}function se(a,u){var p=0;return a.x<u.min.x?p|=1:a.x>u.max.x&&(p|=2),a.y<u.min.y?p|=4:a.y>u.max.y&&(p|=8),p}function Se(a,u){var p=u.x-a.x,b=u.y-a.y;return p*p+b*b}function He(a,u,p,b){var T=u.x,C=u.y,q=p.x-T,J=p.y-C,oe=q*q+J*J,ve;return oe>0&&(ve=((a.x-T)*q+(a.y-C)*J)/oe,ve>1?(T=p.x,C=p.y):ve>0&&(T+=q*ve,C+=J*ve)),q=a.x-T,J=a.y-C,b?q*q+J*J:new re(T,C)}function tt(a){return!W(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function pt(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),tt(a)}function Dt(a,u){var p,b,T,C,q,J,oe,ve;if(!a||a.length===0)throw new Error("latlngs not passed");tt(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Re=Ne([0,0]),Pe=Te(a),Le=Pe.getNorthWest().distanceTo(Pe.getSouthWest())*Pe.getNorthEast().distanceTo(Pe.getNorthWest());Le<1700&&(Re=Ea(a));var $e=a.length,Rt=[];for(p=0;p<$e;p++){var Ht=Ne(a[p]);Rt.push(u.project(Ne([Ht.lat-Re.lat,Ht.lng-Re.lng])))}for(p=0,b=0;p<$e-1;p++)b+=Rt[p].distanceTo(Rt[p+1])/2;if(b===0)ve=Rt[0];else for(p=0,C=0;p<$e-1;p++)if(q=Rt[p],J=Rt[p+1],T=q.distanceTo(J),C+=T,C>b){oe=(C-b)/T,ve=[J.x-oe*(J.x-q.x),J.y-oe*(J.y-q.y)];break}var bn=u.unproject(k(ve));return Ne([bn.lat+Re.lat,bn.lng+Re.lng])}var Wn={__proto__:null,simplify:xn,pointToSegmentDistance:Sa,closestPointOnSegment:Ul,clipSegment:j,_getEdgeIntersection:ee,_getBitCode:se,_sqClosestPointOnSegment:He,isFlat:tt,_flat:pt,polylineCenter:Dt},di={project:function(a){return new re(a.lng,a.lat)},unproject:function(a){return new Ce(a.y,a.x)},bounds:new ue([-180,-90],[180,90])},Qn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ue([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var u=Math.PI/180,p=this.R,b=a.lat*u,T=this.R_MINOR/p,C=Math.sqrt(1-T*T),q=C*Math.sin(b),J=Math.tan(Math.PI/4-b/2)/Math.pow((1-q)/(1+q),C/2);return b=-p*Math.log(Math.max(J,1e-10)),new re(a.lng*u*p,b)},unproject:function(a){for(var u=180/Math.PI,p=this.R,b=this.R_MINOR/p,T=Math.sqrt(1-b*b),C=Math.exp(-a.y/p),q=Math.PI/2-2*Math.atan(C),J=0,oe=.1,ve;J<15&&Math.abs(oe)>1e-7;J++)ve=T*Math.sin(q),ve=Math.pow((1-ve)/(1+ve),T/2),oe=Math.PI/2-2*Math.atan(C*ve)-q,q+=oe;return new Ce(q*u,a.x*u/p)}},Ci={__proto__:null,LonLat:di,Mercator:Qn,SphericalMercator:vr},Ii=o({},it,{code:"EPSG:3395",projection:Qn,transformation:(function(){var a=.5/(Math.PI*Qn.R);return Hi(a,.5,-a,.5)})()}),Na=o({},it,{code:"EPSG:4326",projection:di,transformation:Hi(1/180,1,-1/180,.5)}),gm=o({},Nt,{projection:di,transformation:Hi(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var p=u.lng-a.lng,b=u.lat-a.lat;return Math.sqrt(p*p+b*b)},infinite:!0});Nt.Earth=it,Nt.EPSG3395=Ii,Nt.EPSG3857=cs,Nt.EPSG900913=fa,Nt.EPSG4326=Na,Nt.Simple=gm;var ji=_e.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[v(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[v(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var p=this.getEvents();u.on(p,this),this.once("remove",function(){u.off(p,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Qe.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=v(a);return this._layers[u]?this:(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var u=v(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return v(a)in this._layers},eachLayer:function(a,u){for(var p in this._layers)a.call(u,this._layers[p]);return this},_addLayers:function(a){a=a?W(a)?a:[a]:[];for(var u=0,p=a.length;u<p;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[v(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=v(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,p=this._getZoomSpan();for(var b in this._zoomBoundLayers){var T=this._zoomBoundLayers[b].options;a=T.minZoom===void 0?a:Math.min(a,T.minZoom),u=T.maxZoom===void 0?u:Math.max(u,T.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Dr=ji.extend({initialize:function(a,u){F(this,u),this._layers={};var p,b;if(a)for(p=0,b=a.length;p<b;p++)this.addLayer(a[p])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){var u=typeof a=="number"?a:this.getLayerId(a);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var u=Array.prototype.slice.call(arguments,1),p,b;for(p in this._layers)b=this._layers[p],b[a]&&b[a].apply(b,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var p in this._layers)a.call(u,this._layers[p]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return v(a)}}),Rh=function(a,u){return new Dr(a,u)},Xn=Dr.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Dr.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Dr.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new be;for(var u in this._layers){var p=this._layers[u];a.extend(p.getBounds?p.getBounds():p.getLatLng())}return a}}),Vo=function(a,u){return new Xn(a,u)},Aa=de.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){F(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var p=this._getIconUrl(a);if(!p){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(p,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(b,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(a,u){var p=this.options,b=p[u+"Size"];typeof b=="number"&&(b=[b,b]);var T=k(b),C=k(u==="shadow"&&p.shadowAnchor||p.iconAnchor||T&&T.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(p.className||""),C&&(a.style.marginLeft=-C.x+"px",a.style.marginTop=-C.y+"px"),T&&(a.style.width=T.x+"px",a.style.height=T.y+"px")},_createImg:function(a,u){return u=u||document.createElement("img"),u.src=a,u},_getIconUrl:function(a){return Me.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function zl(a){return new Aa(a)}var Ra=Aa.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Ra.imagePath!="string"&&(Ra.imagePath=this._detectIconPath()),(this.options.imagePath||Ra.imagePath)+Aa.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(p,b,T){var C=b.exec(p);return C&&C[T]};return a=u(a,/^url\((['"])?(.+)\1\)$/,2),a&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=at("div","leaflet-default-icon-path",document.body),u=Yi(a,"background-image")||Yi(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u),u)return u;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),Kc=Dn.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Ri(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),je(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&yt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,p=u._map,b=this._marker.options.autoPanSpeed,T=this._marker.options.autoPanPadding,C=Qi(u._icon),q=p.getPixelBounds(),J=p.getPixelOrigin(),oe=xe(q.min._subtract(J).add(T),q.max._subtract(J).subtract(T));if(!oe.contains(C)){var ve=k((Math.max(oe.max.x,C.x)-oe.max.x)/(q.max.x-oe.max.x)-(Math.min(oe.min.x,C.x)-oe.min.x)/(q.min.x-oe.min.x),(Math.max(oe.max.y,C.y)-oe.max.y)/(q.max.y-oe.max.y)-(Math.min(oe.min.y,C.y)-oe.min.y)/(q.min.y-oe.min.y)).multiplyBy(b);p.panBy(ve,{animate:!1}),this._draggable._newPos._add(ve),this._draggable._startPos._add(ve),jt(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=B(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(M(this._panRequest),this._panRequest=B(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,p=u._shadow,b=Qi(u._icon),T=u._map.layerPointToLatLng(b);p&&jt(p,b),u._latlng=T,a.latlng=T,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){M(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Ca=ji.extend({options:{icon:new Ra,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){F(this,u),this._latlng=Ne(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=Ne(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=a.icon.createIcon(this._icon),b=!1;p!==this._icon&&(this._icon&&this._removeIcon(),b=!0,a.title&&(p.title=a.title),p.tagName==="IMG"&&(p.alt=a.alt||"")),je(p,u),a.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Be(p,"focus",this._panOnFocus,this);var T=a.icon.createShadow(this._shadow),C=!1;T!==this._shadow&&(this._removeShadow(),C=!0),T&&(je(T,u),T.alt=""),this._shadow=T,a.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),T&&C&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ht(this._icon,"focus",this._panOnFocus,this),ut(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ut(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&jt(this._icon,a),this._shadow&&jt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(je(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Kc)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Kc(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&pn(this._icon,a),this._shadow&&pn(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,p=u.iconSize?k(u.iconSize):k(0,0),b=u.iconAnchor?k(u.iconAnchor):k(0,0);a.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:p.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Yc(a,u){return new Ca(a,u)}var bs=ji.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return F(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Uo=bs.extend({options:{fill:!0,radius:10},initialize:function(a,u){F(this,u),this._latlng=Ne(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=Ne(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return bs.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,p=this._clickTolerance(),b=[a+p,u+p];this._pxBounds=new ue(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ch(a,u){return new Uo(a,u)}var Wc=Uo.extend({initialize:function(a,u,p){if(typeof u=="number"&&(u=o({},p,{radius:u})),F(this,u),this._latlng=Ne(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new be(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:bs.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,p=this._map,b=p.options.crs;if(b.distance===it.distance){var T=Math.PI/180,C=this._mRadius/it.R/T,q=p.project([u+C,a]),J=p.project([u-C,a]),oe=q.add(J).divideBy(2),ve=p.unproject(oe).lat,Re=Math.acos((Math.cos(C*T)-Math.sin(u*T)*Math.sin(ve*T))/(Math.cos(u*T)*Math.cos(ve*T)))/T;(isNaN(Re)||Re===0)&&(Re=C/Math.cos(Math.PI/180*u)),this._point=oe.subtract(p.getPixelOrigin()),this._radius=isNaN(Re)?0:oe.x-p.project([ve,a-Re]).x,this._radiusY=oe.y-q.y}else{var Pe=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(Pe).x}this._updateBounds()}});function ym(a,u,p){return new Wc(a,u,p)}var ws=bs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){F(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var u=1/0,p=null,b=He,T,C,q=0,J=this._parts.length;q<J;q++)for(var oe=this._parts[q],ve=1,Re=oe.length;ve<Re;ve++){T=oe[ve-1],C=oe[ve];var Pe=b(a,T,C,!0);Pe<u&&(u=Pe,p=b(a,T,C))}return p&&(p.distance=Math.sqrt(u)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Dt(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=Ne(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new be,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return tt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],p=tt(a),b=0,T=a.length;b<T;b++)p?(u[b]=Ne(a[b]),this._bounds.extend(u[b])):u[b]=this._convertLatLngs(a[b]);return u},_project:function(){var a=new ue;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new re(a,a);this._rawPxBounds&&(this._pxBounds=new ue([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,p){var b=a[0]instanceof Ce,T=a.length,C,q;if(b){for(q=[],C=0;C<T;C++)q[C]=this._map.latLngToLayerPoint(a[C]),p.extend(q[C]);u.push(q)}else for(C=0;C<T;C++)this._projectLatlngs(a[C],u,p)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,p,b,T,C,q,J,oe;for(p=0,T=0,C=this._rings.length;p<C;p++)for(oe=this._rings[p],b=0,q=oe.length;b<q-1;b++)J=j(oe[b],oe[b+1],a,b,!0),J&&(u[T]=u[T]||[],u[T].push(J[0]),(J[1]!==oe[b+1]||b===q-2)&&(u[T].push(J[1]),T++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,p=0,b=a.length;p<b;p++)a[p]=xn(a[p],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var p,b,T,C,q,J,oe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(p=0,C=this._parts.length;p<C;p++)for(J=this._parts[p],b=0,q=J.length,T=q-1;b<q;T=b++)if(!(!u&&b===0)&&Sa(a,J[T],J[b])<=oe)return!0;return!1}});function _m(a,u){return new ws(a,u)}ws._flat=pt;var Ia=ws.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Mr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=ws.prototype._convertLatLngs.call(this,a),p=u.length;return p>=2&&u[0]instanceof Ce&&u[0].equals(u[p-1])&&u.pop(),u},_setLatLngs:function(a){ws.prototype._setLatLngs.call(this,a),tt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return tt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,p=new re(u,u);if(a=new ue(a.min.subtract(p),a.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,T=this._rings.length,C;b<T;b++)C=Lo(this._rings[b],a,!0),C.length&&this._parts.push(C)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var u=!1,p,b,T,C,q,J,oe,ve;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(C=0,oe=this._parts.length;C<oe;C++)for(p=this._parts[C],q=0,ve=p.length,J=ve-1;q<ve;J=q++)b=p[q],T=p[J],b.y>a.y!=T.y>a.y&&a.x<(T.x-b.x)*(a.y-b.y)/(T.y-b.y)+b.x&&(u=!u);return u||ws.prototype._containsPoint.call(this,a,!0)}});function Jn(a,u){return new Ia(a,u)}var ei=Xn.extend({initialize:function(a,u){F(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var u=W(a)?a:a.features,p,b,T;if(u){for(p=0,b=u.length;p<b;p++)T=u[p],(T.geometries||T.geometry||T.features||T.coordinates)&&this.addData(T);return this}var C=this.options;if(C.filter&&!C.filter(a))return this;var q=zo(a,C);return q?(q.feature=ja(a),q.defaultOptions=q.options,this.resetStyle(q),C.onEachFeature&&C.onEachFeature(a,q),this.addLayer(q)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=o({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&(typeof u=="function"&&(u=u(a.feature)),a.setStyle(u))}});function zo(a,u){var p=a.type==="Feature"?a.geometry:a,b=p?p.coordinates:null,T=[],C=u&&u.pointToLayer,q=u&&u.coordsToLatLng||Bl,J,oe,ve,Re;if(!b&&!p)return null;switch(p.type){case"Point":return J=q(b),Qc(C,a,J,u);case"MultiPoint":for(ve=0,Re=b.length;ve<Re;ve++)J=q(b[ve]),T.push(Qc(C,a,J,u));return new Xn(T);case"LineString":case"MultiLineString":return oe=Bo(b,p.type==="LineString"?0:1,q),new ws(oe,u);case"Polygon":case"MultiPolygon":return oe=Bo(b,p.type==="Polygon"?1:2,q),new Ia(oe,u);case"GeometryCollection":for(ve=0,Re=p.geometries.length;ve<Re;ve++){var Pe=zo({geometry:p.geometries[ve],type:"Feature",properties:a.properties},u);Pe&&T.push(Pe)}return new Xn(T);case"FeatureCollection":for(ve=0,Re=p.features.length;ve<Re;ve++){var Le=zo(p.features[ve],u);Le&&T.push(Le)}return new Xn(T);default:throw new Error("Invalid GeoJSON object.")}}function Qc(a,u,p,b){return a?a(u,p):new Ca(p,b&&b.markersInheritOptions&&b)}function Bl(a){return new Ce(a[1],a[0],a[2])}function Bo(a,u,p){for(var b=[],T=0,C=a.length,q;T<C;T++)q=u?Bo(a[T],u-1,p):(p||Bl)(a[T]),b.push(q);return b}function Ho(a,u){return a=Ne(a),a.alt!==void 0?[R(a.lng,u),R(a.lat,u),R(a.alt,u)]:[R(a.lng,u),R(a.lat,u)]}function Hl(a,u,p,b){for(var T=[],C=0,q=a.length;C<q;C++)T.push(u?Hl(a[C],tt(a[C])?0:u-1,p,b):Ho(a[C],b));return!u&&p&&T.length>0&&T.push(T[0].slice()),T}function Oi(a,u){return a.feature?o({},a.feature,{geometry:u}):ja(u)}function ja(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var kr={toGeoJSON:function(a){return Oi(this,{type:"Point",coordinates:Ho(this.getLatLng(),a)})}};Ca.include(kr),Wc.include(kr),Uo.include(kr),ws.include({toGeoJSON:function(a){var u=!tt(this._latlngs),p=Hl(this._latlngs,u?1:0,!1,a);return Oi(this,{type:(u?"Multi":"")+"LineString",coordinates:p})}}),Ia.include({toGeoJSON:function(a){var u=!tt(this._latlngs),p=u&&!tt(this._latlngs[0]),b=Hl(this._latlngs,p?2:u?1:0,!0,a);return u||(b=[b]),Oi(this,{type:(p?"Multi":"")+"Polygon",coordinates:b})}}),Dr.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(p){u.push(p.toGeoJSON(a).geometry.coordinates)}),Oi(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(a);var p=u==="GeometryCollection",b=[];return this.eachLayer(function(T){if(T.toGeoJSON){var C=T.toGeoJSON(a);if(p)b.push(C.geometry);else{var q=ja(C);q.type==="FeatureCollection"?b.push.apply(b,q.features):b.push(q)}}}),p?Oi(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function Fl(a,u){return new ei(a,u)}var Ih=Fl,ts=ji.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,p){this._url=a,this._bounds=Te(u),F(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(je(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ut(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&$n(this._image),this},bringToBack:function(){return this._map&&hi(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=Te(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",u=this._image=a?this._url:at("img");if(je(u,"leaflet-image-layer"),this._zoomAnimated&&je(u,"leaflet-zoom-animated"),this.options.className&&je(u,this.options.className),u.onselectstart=N,u.onmousemove=N,u.onload=f(this.fire,this,"load"),u.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Pn(this._image,p,u)},_reset:function(){var a=this._image,u=new ue(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=u.getSize();jt(a,u.min),a.style.width=p.x+"px",a.style.height=p.y+"px"},_updateOpacity:function(){pn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Oa=function(a,u,p){return new ts(a,u,p)},ql=ts.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",u=this._image=a?this._url:at("video");if(je(u,"leaflet-image-layer"),this._zoomAnimated&&je(u,"leaflet-zoom-animated"),this.options.className&&je(u,this.options.className),u.onselectstart=N,u.onmousemove=N,u.onloadeddata=f(this.fire,this,"load"),a){for(var p=u.getElementsByTagName("source"),b=[],T=0;T<p.length;T++)b.push(p[T].src);this._url=p.length>0?b:[u.src];return}W(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var C=0;C<this._url.length;C++){var q=at("source");q.src=this._url[C],u.appendChild(q)}}});function jh(a,u,p){return new ql(a,u,p)}var $s=ts.extend({_initImage:function(){var a=this._image=this._url;je(a,"leaflet-image-layer"),this._zoomAnimated&&je(a,"leaflet-zoom-animated"),this.options.className&&je(a,this.options.className),a.onselectstart=N,a.onmousemove=N}});function Oh(a,u,p){return new $s(a,u,p)}var Pi=ji.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof Ce||W(a))?(this._latlng=Ne(a),F(this,u)):(F(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&pn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&pn(this._container,1),this.bringToFront(),this.options.interactive&&(je(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(pn(this._container,0),this._removeTimeout=setTimeout(f(ut,void 0,this._container),200)):ut(this._container),this.options.interactive&&(yt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Ne(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&$n(this._container),this},bringToBack:function(){return this._map&&hi(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof Xn){u=null;var p=this._source._layers;for(var b in p)if(p[b]._map){u=p[b];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else if(u.getBounds)a=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=k(this.options.offset),p=this._getAnchor();this._zoomAnimated?jt(this._container,a.add(p)):u=u.add(a).add(p);var b=this._containerBottom=-u.y,T=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=b+"px",this._container.style.left=T+"px"}},_getAnchor:function(){return[0,0]}});Qe.include({_initOverlay:function(a,u,p,b){var T=u;return T instanceof a||(T=new a(b).setContent(u)),p&&T.setLatLng(p),T}}),ji.include({_initOverlay:function(a,u,p,b){var T=p;return T instanceof a?(F(T,b),T._source=this):(T=u&&!b?u:new a(b,this),T.setContent(p)),T}});var Fo=Pi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Pi.prototype.openOn.call(this,a)},onAdd:function(a){Pi.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof bs||this._source.on("preclick",dt))},onRemove:function(a){Pi.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof bs||this._source.off("preclick",dt))},getEvents:function(){var a=Pi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=at("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=at("div",a+"-content-wrapper",u);if(this._contentNode=at("div",a+"-content",p),Fs(u),Hs(this._contentNode),Be(u,"contextmenu",dt),this._tipContainer=at("div",a+"-tip-container",u),this._tip=at("div",a+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=at("a",a+"-close-button",u);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',Be(b,"click",function(T){Ot(T),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var p=a.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),u.width=p+1+"px",u.whiteSpace="",u.height="";var b=a.offsetHeight,T=this.options.maxHeight,C="leaflet-popup-scrolled";T&&b>T?(u.height=T+"px",je(a,C)):yt(a,C),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),p=this._getAnchor();jt(this._container,u.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,u=parseInt(Yi(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+u,b=this._containerWidth,T=new re(this._containerLeft,-p-this._containerBottom);T._add(Qi(this._container));var C=a.layerPointToContainerPoint(T),q=k(this.options.autoPanPadding),J=k(this.options.autoPanPaddingTopLeft||q),oe=k(this.options.autoPanPaddingBottomRight||q),ve=a.getSize(),Re=0,Pe=0;C.x+b+oe.x>ve.x&&(Re=C.x+b-ve.x+oe.x),C.x-Re-J.x<0&&(Re=C.x-J.x),C.y+p+oe.y>ve.y&&(Pe=C.y+p-ve.y+oe.y),C.y-Pe-J.y<0&&(Pe=C.y-J.y),(Re||Pe)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Re,Pe]))}},_getAnchor:function(){return k(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),vm=function(a,u){return new Fo(a,u)};Qe.mergeOptions({closePopupOnClick:!0}),Qe.include({openPopup:function(a,u,p){return this._initOverlay(Fo,a,u,p).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),ji.include({bindPopup:function(a,u){return this._popup=this._initOverlay(Fo,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Xn||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Yn(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof bs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Gl=Pi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Pi.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Pi.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Pi.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",u=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=at("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,p,b=this._map,T=this._container,C=b.latLngToContainerPoint(b.getCenter()),q=b.layerPointToContainerPoint(a),J=this.options.direction,oe=T.offsetWidth,ve=T.offsetHeight,Re=k(this.options.offset),Pe=this._getAnchor();J==="top"?(u=oe/2,p=ve):J==="bottom"?(u=oe/2,p=0):J==="center"?(u=oe/2,p=ve/2):J==="right"?(u=0,p=ve/2):J==="left"?(u=oe,p=ve/2):q.x<C.x?(J="right",u=0,p=ve/2):(J="left",u=oe+(Re.x+Pe.x)*2,p=ve/2),a=a.subtract(k(u,p,!0)).add(Re).add(Pe),yt(T,"leaflet-tooltip-right"),yt(T,"leaflet-tooltip-left"),yt(T,"leaflet-tooltip-top"),yt(T,"leaflet-tooltip-bottom"),je(T,"leaflet-tooltip-"+J),jt(T,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&pn(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return k(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),xm=function(a,u){return new Gl(a,u)};Qe.include({openTooltip:function(a,u,p){return this._initOverlay(Gl,a,u,p).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),ji.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Gl,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var u=a?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[u](p),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Xn||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&(Be(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Be(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var u=a.latlng,p,b;this._tooltip.options.sticky&&a.originalEvent&&(p=this._map.mouseEventToContainerPoint(a.originalEvent),b=this._map.containerPointToLayerPoint(p),u=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(u)}});var Xc=Aa.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&a.tagName==="DIV"?a:document.createElement("div"),p=this.options;if(p.html instanceof Element?(wt(u),u.appendChild(p.html)):u.innerHTML=p.html!==!1?p.html:"",p.bgPos){var b=k(p.bgPos);u.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Ph(a){return new Xc(a)}Aa.Default=Ra;var Lr=ji.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Me.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){F(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),ut(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&($n(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(hi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof re?a:new re(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var u=this.getPane().children,p=-a(-1/0,1/0),b=0,T=u.length,C;b<T;b++)C=u[b].style.zIndex,u[b]!==this._container&&C&&(p=a(p,+C));isFinite(p)&&(this.options.zIndex=p+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Me.ielt9){pn(this._container,this.options.opacity);var a=+new Date,u=!1,p=!1;for(var b in this._tiles){var T=this._tiles[b];if(!(!T.current||!T.loaded)){var C=Math.min(1,(a-T.loaded)/200);pn(T.el,C),C<1?u=!0:(T.active?p=!0:this._onOpaqueTile(T),T.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),u&&(M(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this))}},_onOpaqueTile:N,_initContainer:function(){this._container||(this._container=at("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(a!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===a?(this._levels[p].el.style.zIndex=u-Math.abs(a-p),this._onUpdateLevel(p)):(ut(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var b=this._levels[a],T=this._map;return b||(b=this._levels[a]={},b.el=at("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=u,b.origin=T.project(T.unproject(T.getPixelOrigin()),a).round(),b.zoom=a,this._setZoomTransform(b,T.getCenter(),T.getZoom()),N(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:N,_onRemoveLevel:N,_onCreateLevel:N,_pruneTiles:function(){if(this._map){var a,u,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)u=this._tiles[a],u.retain=u.current;for(a in this._tiles)if(u=this._tiles[a],u.current&&!u.active){var b=u.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)ut(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,p,b){var T=Math.floor(a/2),C=Math.floor(u/2),q=p-1,J=new re(+T,+C);J.z=+q;var oe=this._tileCoordsToKey(J),ve=this._tiles[oe];return ve&&ve.active?(ve.retain=!0,!0):(ve&&ve.loaded&&(ve.retain=!0),q>b?this._retainParent(T,C,q,b):!1)},_retainChildren:function(a,u,p,b){for(var T=2*a;T<2*a+2;T++)for(var C=2*u;C<2*u+2;C++){var q=new re(T,C);q.z=p+1;var J=this._tileCoordsToKey(q),oe=this._tiles[J];if(oe&&oe.active){oe.retain=!0;continue}else oe&&oe.loaded&&(oe.retain=!0);p+1<b&&this._retainChildren(T,C,p+1,b)}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return u.minNativeZoom!==void 0&&a<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,p,b){var T=Math.round(u);this.options.maxZoom!==void 0&&T>this.options.maxZoom||this.options.minZoom!==void 0&&T<this.options.minZoom?T=void 0:T=this._clampZoom(T);var C=this.options.updateWhenZooming&&T!==this._tileZoom;(!b||C)&&(this._tileZoom=T,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),T!==void 0&&this._update(a),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var p in this._levels)this._setZoomTransform(this._levels[p],a,u)},_setZoomTransform:function(a,u,p){var b=this._map.getZoomScale(p,a.zoom),T=a.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(u,p)).round();Me.any3d?Pn(a.el,T,b):jt(a.el,T)},_resetGrid:function(){var a=this._map,u=a.options.crs,p=this._tileSize=this.getTileSize(),b=this._tileZoom,T=this._map.getPixelWorldBounds(this._tileZoom);T&&(this._globalTileRange=this._pxBoundsToTileRange(T)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],b).x/p.x),Math.ceil(a.project([0,u.wrapLng[1]],b).x/p.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],b).y/p.x),Math.ceil(a.project([u.wrapLat[1],0],b).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,p=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),b=u.getZoomScale(p,this._tileZoom),T=u.project(a,this._tileZoom).floor(),C=u.getSize().divideBy(b*2);return new ue(T.subtract(C),T.add(C))},_update:function(a){var u=this._map;if(u){var p=this._clampZoom(u.getZoom());if(a===void 0&&(a=u.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(a),T=this._pxBoundsToTileRange(b),C=T.getCenter(),q=[],J=this.options.keepBuffer,oe=new ue(T.getBottomLeft().subtract([J,-J]),T.getTopRight().add([J,-J]));if(!(isFinite(T.min.x)&&isFinite(T.min.y)&&isFinite(T.max.x)&&isFinite(T.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ve in this._tiles){var Re=this._tiles[ve].coords;(Re.z!==this._tileZoom||!oe.contains(new re(Re.x,Re.y)))&&(this._tiles[ve].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(a,p);return}for(var Pe=T.min.y;Pe<=T.max.y;Pe++)for(var Le=T.min.x;Le<=T.max.x;Le++){var $e=new re(Le,Pe);if($e.z=this._tileZoom,!!this._isValidTile($e)){var Rt=this._tiles[this._tileCoordsToKey($e)];Rt?Rt.current=!0:q.push($e)}}if(q.sort(function(bn,fi){return bn.distanceTo(C)-fi.distanceTo(C)}),q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ht=document.createDocumentFragment();for(Le=0;Le<q.length;Le++)this._addTile(q[Le],Ht);this._level.el.appendChild(Ht)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var p=this._globalTileRange;if(!u.wrapLng&&(a.x<p.min.x||a.x>p.max.x)||!u.wrapLat&&(a.y<p.min.y||a.y>p.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(a);return Te(this.options.bounds).overlaps(b)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,p=this.getTileSize(),b=a.scaleBy(p),T=b.add(p),C=u.unproject(b,a.z),q=u.unproject(T,a.z);return[C,q]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),p=new be(u[0],u[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),p=new re(+u[0],+u[1]);return p.z=+u[2],p},_removeTile:function(a){var u=this._tiles[a];u&&(ut(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){je(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=N,a.onmousemove=N,Me.ielt9&&this.options.opacity<1&&pn(a,this.options.opacity)},_addTile:function(a,u){var p=this._getTilePos(a),b=this._tileCoordsToKey(a),T=this.createTile(this._wrapCoords(a),f(this._tileReady,this,a));this._initTile(T),this.createTile.length<2&&B(f(this._tileReady,this,a,null,T)),jt(T,p),this._tiles[b]={el:T,coords:a,current:!0},u.appendChild(T),this.fire("tileloadstart",{tile:T,coords:a})},_tileReady:function(a,u,p){u&&this.fire("tileerror",{error:u,tile:p,coords:a});var b=this._tileCoordsToKey(a);p=this._tiles[b],p&&(p.loaded=+new Date,this._map._fadeAnimated?(pn(p.el,0),M(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),u||(je(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Me.ielt9||!this._map._fadeAnimated?B(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new re(this._wrapX?w(a.x,this._wrapX):a.x,this._wrapY?w(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new ue(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Mi(a){return new Lr(a)}var Vr=Lr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,u=F(this,u),u.detectRetina&&Me.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&u===void 0&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var p=document.createElement("img");return Be(p,"load",f(this._tileOnLoad,this,u,p)),Be(p,"error",f(this._tileOnError,this,u,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(a),p},getTileUrl:function(a){var u={r:Me.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=p),u["-y"]=p}return $(this._url,o(u,this.options))},_tileOnLoad:function(a,u){Me.ielt9?setTimeout(f(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,p){var b=this.options.errorTileUrl;b&&u.getAttribute("src")!==b&&(u.src=b),a(p,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,u=this.options.maxZoom,p=this.options.zoomReverse,b=this.options.zoomOffset;return p&&(a=u-a),a+b},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(u=this._tiles[a].el,u.onload=N,u.onerror=N,!u.complete)){u.src=le;var p=this._tiles[a].coords;ut(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:p})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",le),Lr.prototype._removeTile.call(this,a)},_tileReady:function(a,u,p){if(!(!this._map||p&&p.getAttribute("src")===le))return Lr.prototype._tileReady.call(this,a,u,p)}});function ti(a,u){return new Vr(a,u)}var ni=Vr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var p=o({},this.defaultWmsParams);for(var b in u)b in this.options||(p[b]=u[b]);u=F(this,u);var T=u.detectRetina&&Me.retina?2:1,C=this.getTileSize();p.width=C.x*T,p.height=C.y*T,this.wmsParams=p},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Vr.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),p=this._crs,b=xe(p.project(u[0]),p.project(u[1])),T=b.min,C=b.max,q=(this._wmsVersion>=1.3&&this._crs===Na?[T.y,T.x,C.y,C.x]:[T.x,T.y,C.x,C.y]).join(","),J=Vr.prototype.getTileUrl.call(this,a);return J+z(this.wmsParams,J,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+q},setParams:function(a,u){return o(this.wmsParams,a),u||this.redraw(),this}});function Pa(a,u){return new ni(a,u)}Vr.WMS=ni,ti.wms=Pa;var Di=ji.extend({options:{padding:.1},initialize:function(a){F(this,a),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),je(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var p=this._map.getZoomScale(u,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),T=this._map.project(this._center,u),C=b.multiplyBy(-p).add(T).subtract(this._map._getNewPixelOrigin(a,u));Me.any3d?Pn(this._container,C,p):jt(this._container,C)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),p=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new ue(p,p.add(u.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),qo=Di.extend({options:{tolerance:0},getEvents:function(){var a=Di.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Di.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Be(a,"mousemove",this._onMouseMove,this),Be(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Be(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){M(this._redrawRequest),delete this._ctx,ut(this._container),ht(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var u in this._layers)a=this._layers[u],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Di.prototype._update.call(this);var a=this._bounds,u=this._container,p=a.getSize(),b=Me.retina?2:1;jt(u,a.min),u.width=b*p.x,u.height=b*p.y,u.style.width=p.x+"px",u.style.height=p.y+"px",Me.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Di.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[v(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,p=u.next,b=u.prev;p?p.prev=b:this._drawLast=b,b?b.next=p:this._drawFirst=p,delete a._order,delete this._layers[v(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var u=a.options.dashArray.split(/[, ]+/),p=[],b,T;for(T=0;T<u.length;T++){if(b=Number(u[T]),isNaN(b))return;p.push(b)}a.options._dashArray=p}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||B(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ue,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var p=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)a=b.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var p,b,T,C,q=a._parts,J=q.length,oe=this._ctx;if(J){for(oe.beginPath(),p=0;p<J;p++){for(b=0,T=q[p].length;b<T;b++)C=q[p][b],oe[b?"lineTo":"moveTo"](C.x,C.y);u&&oe.closePath()}this._fillStroke(oe,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var u=a._point,p=this._ctx,b=Math.max(Math.round(a._radius),1),T=(Math.max(Math.round(a._radiusY),1)||b)/b;T!==1&&(p.save(),p.scale(1,T)),p.beginPath(),p.arc(u.x,u.y/T,b,0,Math.PI*2,!1),T!==1&&p.restore(),this._fillStroke(p,a)}},_fillStroke:function(a,u){var p=u.options;p.fill&&(a.globalAlpha=p.fillOpacity,a.fillStyle=p.fillColor||p.color,a.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=p.opacity,a.lineWidth=p.weight,a.strokeStyle=p.color,a.lineCap=p.lineCap,a.lineJoin=p.lineJoin,a.stroke())},_onClick:function(a){for(var u=this._map.mouseEventToLayerPoint(a),p,b,T=this._drawFirst;T;T=T.next)p=T.layer,p.options.interactive&&p._containsPoint(u)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(p))&&(b=p);this._fireEvent(b?[b]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(yt(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var p,b,T=this._drawFirst;T;T=T.next)p=T.layer,p.options.interactive&&p._containsPoint(u)&&(b=p);b!==this._hoveredLayer&&(this._handleMouseOut(a),b&&(je(this._container,"leaflet-interactive"),this._fireEvent([b],a,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,p){this._map._fireDOMEvent(u,p||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var p=u.next,b=u.prev;if(p)p.prev=b;else return;b?b.next=p:p&&(this._drawFirst=p),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var p=u.next,b=u.prev;if(b)b.next=p;else return;p?p.prev=b:b&&(this._drawLast=b),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function Go(a){return Me.canvas?new qo(a):null}var Ur=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Ma={_initContainer:function(){this._container=at("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Di.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=Ur("shape");je(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=Ur("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[v(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;ut(u),a.removeInteractiveTarget(u),delete this._layers[v(a)]},_updateStyle:function(a){var u=a._stroke,p=a._fill,b=a.options,T=a._container;T.stroked=!!b.stroke,T.filled=!!b.fill,b.stroke?(u||(u=a._stroke=Ur("stroke")),T.appendChild(u),u.weight=b.weight+"px",u.color=b.color,u.opacity=b.opacity,b.dashArray?u.dashStyle=W(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=b.lineCap.replace("butt","flat"),u.joinstyle=b.lineJoin):u&&(T.removeChild(u),a._stroke=null),b.fill?(p||(p=a._fill=Ur("fill")),T.appendChild(p),p.color=b.fillColor||b.color,p.opacity=b.fillOpacity):p&&(T.removeChild(p),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),p=Math.round(a._radius),b=Math.round(a._radiusY||p);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+p+","+b+" 0,"+65535*360)},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){$n(a._container)},_bringToBack:function(a){hi(a._container)}},$o=Me.vml?Ur:Rl,Zs=Di.extend({_initContainer:function(){this._container=$o("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=$o("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ut(this._container),ht(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Di.prototype._update.call(this);var a=this._bounds,u=a.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,p.setAttribute("width",u.x),p.setAttribute("height",u.y)),jt(p,a.min),p.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=$o("path");a.options.className&&je(u,a.options.className),a.options.interactive&&je(u,"leaflet-interactive"),this._updateStyle(a),this._layers[v(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){ut(a._path),a.removeInteractiveTarget(a._path),delete this._layers[v(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,p=a.options;u&&(p.stroke?(u.setAttribute("stroke",p.color),u.setAttribute("stroke-opacity",p.opacity),u.setAttribute("stroke-width",p.weight),u.setAttribute("stroke-linecap",p.lineCap),u.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?u.setAttribute("stroke-dasharray",p.dashArray):u.removeAttribute("stroke-dasharray"),p.dashOffset?u.setAttribute("stroke-dashoffset",p.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),p.fill?(u.setAttribute("fill",p.fillColor||p.color),u.setAttribute("fill-opacity",p.fillOpacity),u.setAttribute("fill-rule",p.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,ma(a._parts,u))},_updateCircle:function(a){var u=a._point,p=Math.max(Math.round(a._radius),1),b=Math.max(Math.round(a._radiusY),1)||p,T="a"+p+","+b+" 0 1,0 ",C=a._empty()?"M0 0":"M"+(u.x-p)+","+u.y+T+p*2+",0 "+T+-p*2+",0 ";this._setPath(a,C)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){$n(a._path)},_bringToBack:function(a){hi(a._path)}});Me.vml&&Zs.include(Ma);function zr(a){return Me.svg||Me.vml?new Zs(a):null}Qe.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var u=this._paneRenderers[a];return u===void 0&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&Go(a)||zr(a)}});var Mh=Ia.extend({initialize:function(a,u){Ia.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=Te(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function ii(a,u){return new Mh(a,u)}Zs.create=$o,Zs.pointsToPath=ma,ei.geometryToLayer=zo,ei.coordsToLatLng=Bl,ei.coordsToLatLngs=Bo,ei.latLngToCoords=Ho,ei.latLngsToCoords=Hl,ei.getFeature=Oi,ei.asFeature=ja,Qe.mergeOptions({boxZoom:!0});var $l=Dn.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Be(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ht(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ut(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),gn(),zs(),this._startPoint=this._map.mouseEventToContainerPoint(a),Be(document,{contextmenu:Yn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=at("div","leaflet-zoom-box",this._container),je(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new ue(this._point,this._startPoint),p=u.getSize();jt(this._box,u.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(ut(this._box),yt(this._container,"leaflet-crosshair")),Zn(),_a(),ht(document,{contextmenu:Yn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var u=new be(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Qe.addInitHook("addHandler","boxZoom",$l),Qe.mergeOptions({doubleClickZoom:!0});var ns=Dn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,p=u.getZoom(),b=u.options.zoomDelta,T=a.originalEvent.shiftKey?p-b:p+b;u.options.doubleClickZoom==="center"?u.setZoom(T):u.setZoomAround(a.containerPoint,T)}});Qe.addInitHook("addHandler","doubleClickZoom",ns),Qe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Jc=Dn.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Ri(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}je(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){yt(this._map._container,"leaflet-grab"),yt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=Te(this._map.options.maxBounds);this._offsetLimit=xe(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),p=this._initialWorldOffset,b=this._draggable._newPos.x,T=(b-u+p)%a+u-p,C=(b+u+p)%a-u-p,q=Math.abs(T+p)<Math.abs(C+p)?T:C;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=q},_onDragEnd:function(a){var u=this._map,p=u.options,b=!p.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),b)u.fire("moveend");else{this._prunePositions(+new Date);var T=this._lastPos.subtract(this._positions[0]),C=(this._lastTime-this._times[0])/1e3,q=p.easeLinearity,J=T.multiplyBy(q/C),oe=J.distanceTo([0,0]),ve=Math.min(p.inertiaMaxSpeed,oe),Re=J.multiplyBy(ve/oe),Pe=ve/(p.inertiaDeceleration*q),Le=Re.multiplyBy(-Pe/2).round();!Le.x&&!Le.y?u.fire("moveend"):(Le=u._limitOffset(Le,u.options.maxBounds),B(function(){u.panBy(Le,{duration:Pe,easeLinearity:q,noMoveStart:!0,animate:!0})}))}}});Qe.addInitHook("addHandler","dragging",Jc),Qe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Zo=Dn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Be(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ht(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,p=a.scrollTop||u.scrollTop,b=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(b,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var u=this._panKeys={},p=this.keyCodes,b,T;for(b=0,T=p.left.length;b<T;b++)u[p.left[b]]=[-1*a,0];for(b=0,T=p.right.length;b<T;b++)u[p.right[b]]=[a,0];for(b=0,T=p.down.length;b<T;b++)u[p.down[b]]=[0,a];for(b=0,T=p.up.length;b<T;b++)u[p.up[b]]=[0,-1*a]},_setZoomDelta:function(a){var u=this._zoomKeys={},p=this.keyCodes,b,T;for(b=0,T=p.zoomIn.length;b<T;b++)u[p.zoomIn[b]]=a;for(b=0,T=p.zoomOut.length;b<T;b++)u[p.zoomOut[b]]=-a},_addHooks:function(){Be(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ht(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var u=a.keyCode,p=this._map,b;if(u in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(b=this._panKeys[u],a.shiftKey&&(b=k(b).multiplyBy(3)),p.options.maxBounds&&(b=p._limitOffset(k(b),p.options.maxBounds)),p.options.worldCopyJump){var T=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(b)));p.panTo(T)}else p.panBy(b)}else if(u in this._zoomKeys)p.setZoom(p.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;Yn(a)}}});Qe.addInitHook("addHandler","keyboard",Zo),Qe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ks=Dn.extend({addHooks:function(){Be(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ht(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=qs(a),p=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var b=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),b),Yn(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),p=this._map.options.zoomSnap||0;a._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),T=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,C=p?Math.ceil(T/p)*p:T,q=a._limitZoom(u+(this._delta>0?C:-C))-u;this._delta=0,this._startTime=null,q&&(a.options.scrollWheelZoom==="center"?a.setZoom(u+q):a.setZoomAround(this._lastMousePos,u+q))}});Qe.addInitHook("addHandler","scrollWheelZoom",Ks);var eu=600;Qe.mergeOptions({tapHold:Me.touchNative&&Me.safari&&Me.mobile,tapTolerance:15});var Zl=Dn.extend({addHooks:function(){Be(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ht(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var u=a.touches[0];this._startPos=this._newPos=new re(u.clientX,u.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Be(document,"touchend",Ot),Be(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),eu),Be(document,"touchend touchcancel contextmenu",this._cancel,this),Be(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){ht(document,"touchend",Ot),ht(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),ht(document,"touchend touchcancel contextmenu",this._cancel,this),ht(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new re(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var p=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});p._simulated=!0,u.target.dispatchEvent(p)}});Qe.addInitHook("addHandler","tapHold",Zl),Qe.mergeOptions({touchZoom:Me.touch,bounceAtZoomLimits:!0});var Br=Dn.extend({addHooks:function(){je(this._map._container,"leaflet-touch-zoom"),Be(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){yt(this._map._container,"leaflet-touch-zoom"),ht(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(!(!a.touches||a.touches.length!==2||u._animatingZoom||this._zooming)){var p=u.mouseEventToContainerPoint(a.touches[0]),b=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(p.add(b)._divideBy(2))),this._startDist=p.distanceTo(b),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Be(document,"touchmove",this._onTouchMove,this),Be(document,"touchend touchcancel",this._onTouchEnd,this),Ot(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var u=this._map,p=u.mouseEventToContainerPoint(a.touches[0]),b=u.mouseEventToContainerPoint(a.touches[1]),T=p.distanceTo(b)/this._startDist;if(this._zoom=u.getScaleZoom(T,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&T<1||this._zoom>u.getMaxZoom()&&T>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,T===1)return}else{var C=p._add(b)._divideBy(2)._subtract(this._centerPoint);if(T===1&&C.x===0&&C.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(C),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),M(this._animRequest);var q=f(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=B(q,this,!0),Ot(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,M(this._animRequest),ht(document,"touchmove",this._onTouchMove,this),ht(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Qe.addInitHook("addHandler","touchZoom",Br),Qe.BoxZoom=$l,Qe.DoubleClickZoom=ns,Qe.Drag=Jc,Qe.Keyboard=Zo,Qe.ScrollWheelZoom=Ks,Qe.TapHold=Zl,Qe.TouchZoom=Br,t.Bounds=ue,t.Browser=Me,t.CRS=Nt,t.Canvas=qo,t.Circle=Wc,t.CircleMarker=Uo,t.Class=de,t.Control=ln,t.DivIcon=Xc,t.DivOverlay=Pi,t.DomEvent=Or,t.DomUtil=Dl,t.Draggable=Ri,t.Evented=_e,t.FeatureGroup=Xn,t.GeoJSON=ei,t.GridLayer=Lr,t.Handler=Dn,t.Icon=Aa,t.ImageOverlay=ts,t.LatLng=Ce,t.LatLngBounds=be,t.Layer=ji,t.LayerGroup=Dr,t.LineUtil=Wn,t.Map=Qe,t.Marker=Ca,t.Mixin=Vl,t.Path=bs,t.Point=re,t.PolyUtil=Ta,t.Polygon=Ia,t.Polyline=ws,t.Popup=Fo,t.PosAnimation=Pr,t.Projection=Ci,t.Rectangle=Mh,t.Renderer=Di,t.SVG=Zs,t.SVGOverlay=$s,t.TileLayer=Vr,t.Tooltip=Gl,t.Transformation=ks,t.Util=D,t.VideoOverlay=ql,t.bind=f,t.bounds=xe,t.canvas=Go,t.circle=ym,t.circleMarker=Ch,t.control=Ai,t.divIcon=Ph,t.extend=o,t.featureGroup=Vo,t.geoJSON=Fl,t.geoJson=Ih,t.gridLayer=Mi,t.icon=zl,t.imageOverlay=Oa,t.latLng=Ne,t.latLngBounds=Te,t.layerGroup=Rh,t.map=Ji,t.marker=Yc,t.point=k,t.polygon=Jn,t.polyline=_m,t.popup=vm,t.rectangle=ii,t.setOptions=F,t.stamp=v,t.svg=zr,t.svgOverlay=Oh,t.tileLayer=ti,t.tooltip=xm,t.transformation=Hi,t.version=s,t.videoOverlay=jh;var Da=window.L;t.noConflict=function(){return window.L=Da,this},window.L=t}))})(Bu,Bu.exports)),Bu.exports}var yo=eR();function Ff(n,e,t){return Object.freeze({instance:n,context:e,container:t})}function qf(n,e){return e==null?function(s,o){const c=H.useRef(void 0);return c.current||(c.current=n(s,o)),c}:function(s,o){const c=H.useRef(void 0);c.current||(c.current=n(s,o));const f=H.useRef(s),{instance:y}=c.current;return H.useEffect(function(){f.current!==s&&(e(y,s,f.current),f.current=s)},[y,s,e]),c}}function n1(n,e){H.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){var c;(c=e.layerContainer)==null||c.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function i1(n){return function(t){const s=Bf(),o=n(Hf(t,s),s);return Jw(s.map,t.attribution),_y(o.current,t.eventHandlers),n1(o.current,s),o}}function tR(n,e){const t=H.useRef(void 0);H.useEffect(function(){if(e.pathOptions!==t.current){const o=e.pathOptions??{};n.instance.setStyle(o),t.current=o}},[n,e])}function nR(n){return function(t){const s=Bf(),o=n(Hf(t,s),s);return _y(o.current,t.eventHandlers),n1(o.current,s),tR(o.current,t),o}}function iR(n,e){const t=qf(n,e),s=i1(t);return t1(s)}function sR(n,e){const t=qf(n),s=X2(t,e);return W2(s)}function rR(n,e){const t=qf(n,e),s=nR(t);return t1(s)}function aR(n,e){const t=qf(n,e),s=i1(t);return Q2(s)}function oR(n,e,t){const{opacity:s,zIndex:o}=e;s!=null&&s!==t.opacity&&n.setOpacity(s),o!=null&&o!==t.zIndex&&n.setZIndex(o)}function lR(){return Bf().map}const cR=rR(function({center:e,children:t,...s},o){const c=new yo.Circle(e,s);return Ff(c,e1(o,{overlayContainer:c}))},Z2);function uR({bounds:n,boundsOptions:e,center:t,children:s,className:o,id:c,placeholder:f,style:y,whenReady:v,zoom:x,...w},N){const[R]=H.useState({className:o,id:c,style:y}),[P,O]=H.useState(null),F=H.useRef(void 0);H.useImperativeHandle(N,()=>(P==null?void 0:P.map)??null,[P]);const z=H.useCallback($=>{if($!==null&&!F.current){const W=new yo.Map($,w);F.current=W,t!=null&&x!=null?W.setView(t,x):n!=null&&W.fitBounds(n,e),v!=null&&W.whenReady(v),O(Y2(W))}},[]);H.useEffect(()=>()=>{P==null||P.map.remove()},[P]);const ce=P?na.createElement(yy,{value:P},s):f??null;return na.createElement("div",{...R,ref:z},ce)}const hR=H.forwardRef(uR),dR=iR(function({position:e,...t},s){const o=new yo.Marker(e,t);return Ff(o,e1(s,{overlayContainer:o}))},function(e,t,s){t.position!==s.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==s.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==s.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==s.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==s.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),Sx=sR(function(e,t){const s=new yo.Popup(e,t.overlayContainer);return Ff(s,t)},function(e,t,{position:s},o){H.useEffect(function(){const{instance:f}=e;function y(x){x.popup===f&&(f.update(),o(!0))}function v(x){x.popup===f&&o(!1)}return t.map.on({popupopen:y,popupclose:v}),t.overlayContainer==null?(s!=null&&f.setLatLng(s),f.openOn(t.map)):t.overlayContainer.bindPopup(f),function(){var w;t.map.off({popupopen:y,popupclose:v}),(w=t.overlayContainer)==null||w.unbindPopup(),t.map.removeLayer(f)}},[e,t,o,s])}),fR=aR(function({url:e,...t},s){const o=new yo.TileLayer(e,Hf(t,s));return Ff(o,s)},function(e,t,s){oR(e,t,s);const{url:o}=t;o!=null&&o!==s.url&&e.setUrl(o)}),s1=[{id:"hr_2025_punjab",title:"Catastrophic Flooding in Punjab",type:"flood",severity:"critical",status:"active",location:{latitude:31.53,longitude:75.92,address:"Over 1,400 villages submerged, Punjab",district:"State-wide",state:"Punjab"},description:"Unprecedented monsoon rains led to catastrophic floods, submerging over 1,400 villages. Mass evacuations are underway. Caused by dam overflow and unregulated development.",reportedBy:{id:"gov_punjab_dma",name:"Punjab Disaster Management Authority",type:"official"},reportedAt:new Date(Date.now()-3600*1e3).toISOString(),verifiedAt:new Date(Date.now()-1800*1e3).toISOString(),verifiedBy:"admin@oceanhazard.com",affectedArea:"1,400 villages",estimatedAffectedPopulation:25e5,emergencyContacts:["1077","112"],images:[],weatherConditions:{windSpeed:"25 km/h",waveHeight:"N/A",temperature:"24C",visibility:"Poor"},tags:["critical","flooding","evacuation_mandatory","monsoon_disaster"]},{id:"hr_2025_hp",title:"Flash Floods & Landslides in Himachal Pradesh",type:"landslide",severity:"high",status:"active",location:{latitude:31.83,longitude:77,address:"Multiple districts, Himachal Pradesh",district:"State-wide",state:"Himachal Pradesh"},description:"Relentless monsoon downpours triggered severe flash floods and landslides, resulting in loss of life and destruction of key transportation networks.",reportedBy:{id:"gov_hp_dma",name:"Himachal Pradesh DMA",type:"official"},reportedAt:new Date(Date.now()-10800*1e3).toISOString(),verifiedAt:new Date(Date.now()-7200*1e3).toISOString(),verifiedBy:"admin@oceanhazard.com",tags:["high","flash_flood","landslide","monsoon"]},{id:"hr_2025_mumbai",title:"Severe Urban & Coastal Flooding in Mumbai",type:"flood",severity:"high",status:"active",location:{latitude:19.07,longitude:72.87,address:"Coastal and low-lying areas, Mumbai",district:"Mumbai",state:"Maharashtra"},description:"Extreme urban and coastal flooding due to tidal surges and poor drainage after intense rainfall. Major disruptions to transport and daily life.",reportedBy:{id:"citizen_mumbai_01",name:"Mumbai Resident",type:"citizen"},reportedAt:new Date(Date.now()-7200*1e3).toISOString(),verifiedAt:new Date(Date.now()-3600*1e3).toISOString(),verifiedBy:"officer@oceanhazard.com",tags:["high","urban_flooding","tidal_surge","mumbai_rains"]},{id:"hr_2025_chennai",title:"Extreme Coastal Flooding in Chennai",type:"flood",severity:"high",status:"active",location:{latitude:13.08,longitude:80.27,address:"Low-lying coastal regions, Chennai",district:"Chennai",state:"Tamil Nadu"},description:"Tidal surges combined with heavy rainfall have caused extreme coastal flooding, revealing the city's vulnerability.",reportedBy:{id:"gov_chennai_corp",name:"Greater Chennai Corporation",type:"official"},reportedAt:new Date(Date.now()-14400*1e3).toISOString(),verifiedAt:new Date(Date.now()-10800*1e3).toISOString(),verifiedBy:"admin@oceanhazard.com",tags:["high","coastal_flooding","chennai_rains"]},{id:"hr_2025_bihar",title:"Ganga River Breaches Danger Mark in Bihar",type:"flood",severity:"high",status:"active",location:{latitude:25.61,longitude:85.15,address:"Riverbanks along Ganga, Bihar",district:"State-wide",state:"Bihar"},description:"The Ganga River has breached danger marks in multiple locations, causing severe crop damage and threatening embankments.",reportedBy:{id:"gov_bihar_wrd",name:"Bihar Water Resource Dept.",type:"official"},reportedAt:new Date(Date.now()-480*60*1e3).toISOString(),verifiedAt:new Date(Date.now()-420*60*1e3).toISOString(),verifiedBy:"admin@oceanhazard.com",tags:["high","river_flood","ganga","agriculture_loss"]},{id:"hr_001",title:"High Tide Alert - Marina Beach",type:"tidal_surge",severity:"high",status:"active",location:{latitude:13.0499,longitude:80.2824,address:"Marina Beach, Chennai, Tamil Nadu",district:"Chennai",state:"Tamil Nadu"},description:"Unusually high tides observed with potential flooding risk in low-lying areas. Water levels 1.5m above normal.",reportedBy:{id:"user_001",name:"Coastal Observer",type:"citizen"},reportedAt:new Date(Date.now()-7200*1e3).toISOString(),verifiedAt:new Date(Date.now()-3600*1e3).toISOString(),verifiedBy:"officer@oceanhazard.com",affectedArea:"2.5 km stretch",estimatedAffectedPopulation:15e3,emergencyContacts:["+91-044-25361721","+91-044-25361722"],images:["marina_hightide_001.jpg","marina_flooding_002.jpg"],weatherConditions:{windSpeed:"45 km/h",waveHeight:"3.2m",temperature:"28C",visibility:"Moderate"},tags:["urgent","flooding","evacuation_advisory"]},{id:"hr_002",title:"Cyclone Warning - Visakhapatnam Coast",type:"cyclone",severity:"critical",status:"active",location:{latitude:17.7231,longitude:83.3012,address:"Visakhapatnam Beach, Andhra Pradesh",district:"Visakhapatnam",state:"Andhra Pradesh"},description:"Severe cyclonic storm approaching coast. Expected landfall in 8-12 hours. Immediate evacuation recommended.",reportedBy:{id:"user_002",name:"Meteorological Station",type:"official"},reportedAt:new Date(Date.now()-14400*1e3).toISOString(),verifiedAt:new Date(Date.now()-10800*1e3).toISOString(),verifiedBy:"admin@oceanhazard.com",affectedArea:"50 km radius",estimatedAffectedPopulation:5e5,emergencyContacts:["+91-891-2560037","+91-891-2560038"],images:["cyclone_satellite_001.jpg","coastal_preparation_002.jpg"],weatherConditions:{windSpeed:"120 km/h",waveHeight:"8.5m",temperature:"26C",visibility:"Poor"},tags:["critical","evacuation_mandatory","cyclone","red_alert"]},{id:"hr_003",title:"Oil Spill Detected - Kochi Harbor",type:"pollution",severity:"medium",status:"investigating",location:{latitude:9.9312,longitude:76.2673,address:"Kochi Harbor, Fort Kochi, Kerala",district:"Ernakulam",state:"Kerala"},description:"Oil spill detected near harbor area. Marine life at risk. Cleanup operations initiated.",reportedBy:{id:"user_003",name:"Fisherman Association",type:"citizen"},reportedAt:new Date(Date.now()-360*60*1e3).toISOString(),verifiedAt:new Date(Date.now()-300*60*1e3).toISOString(),verifiedBy:"analyst@oceanhazard.com",affectedArea:"1.2 km",estimatedAffectedPopulation:5e3,emergencyContacts:["+91-484-2668001","+91-484-2668002"],images:["oil_spill_001.jpg","affected_marine_002.jpg"],weatherConditions:{windSpeed:"15 km/h",waveHeight:"1.1m",temperature:"30C",visibility:"Good"},tags:["pollution","marine_life","cleanup_required"]},{id:"hr_004",title:"Rough Sea Warning - Goa Beaches",type:"rough_sea",severity:"medium",status:"active",location:{latitude:15.2993,longitude:74.124,address:"Calangute Beach, Goa",district:"North Goa",state:"Goa"},description:"Rough sea conditions with strong currents. Swimming and water sports prohibited.",reportedBy:{id:"user_004",name:"Lifeguard Team",type:"official"},reportedAt:new Date(Date.now()-10800*1e3).toISOString(),verifiedAt:new Date(Date.now()-7200*1e3).toISOString(),verifiedBy:"officer@oceanhazard.com",affectedArea:"15 km coastline",estimatedAffectedPopulation:25e3,emergencyContacts:["+91-832-2419132","+91-832-2419133"],images:["rough_waves_001.jpg","warning_signs_002.jpg"],weatherConditions:{windSpeed:"35 km/h",waveHeight:"2.8m",temperature:"32C",visibility:"Good"},tags:["swimming_prohibited","tourist_advisory","rough_sea"]},{id:"hr_005",title:"Coastal Erosion Alert - Puducherry",type:"erosion",severity:"low",status:"monitoring",location:{latitude:11.9139,longitude:79.8145,address:"Promenade Beach, Puducherry",district:"Puducherry",state:"Puducherry"},description:"Gradual coastal erosion observed. Protective measures being evaluated.",reportedBy:{id:"user_005",name:"Coastal Research Station",type:"researcher"},reportedAt:new Date(Date.now()-1440*60*1e3).toISOString(),verifiedAt:new Date(Date.now()-1200*60*1e3).toISOString(),verifiedBy:"analyst@oceanhazard.com",affectedArea:"800m coastline",estimatedAffectedPopulation:2e3,emergencyContacts:["+91-413-2334791","+91-413-2334792"],images:["erosion_001.jpg","baseline_comparison_002.jpg"],weatherConditions:{windSpeed:"20 km/h",waveHeight:"1.5m",temperature:"29C",visibility:"Excellent"},tags:["monitoring","erosion","research"]}],Nx=(n=s1)=>{const e=[],t={};return n.forEach(s=>{const o=`${Math.round(s.location.latitude*10)/10}_${Math.round(s.location.longitude*10)/10}`;t[o]||(t[o]=[]),t[o].push(s)}),Object.values(t).forEach(s=>{if(s.length>=2){const o=s.reduce((w,N)=>w+N.location.latitude,0)/s.length,c=s.reduce((w,N)=>w+N.location.longitude,0)/s.length,f=s.filter(w=>w.severity==="critical").length,y=s.filter(w=>w.severity==="high").length,v=s.filter(w=>w.status==="active").length;let x="low";f>0||y>=2?x="high":(y>0||v>=3)&&(x="medium"),e.push({id:`hotspot_${Math.random().toString(36).substr(2,9)}`,center:[o,c],intensity:x,reportCount:s.length,radius:Math.min(5e4,s.length*15e3),reports:s.map(w=>w.id),dominantTypes:[...new Set(s.map(w=>w.type))],lastUpdated:new Date().toISOString()})}}),e};class mR{constructor(){sl(this,"reports",[...s1]);sl(this,"hotspots",[]);sl(this,"listeners",new Set);sl(this,"updateInterval",null);sl(this,"lastUpdateTime",new Date);this.hotspots=Nx(this.reports)}subscribe(e){return this.listeners.add(e),this.listeners.size===1&&this.startRealTimeUpdates(),e(this.reports,this.hotspots),()=>{this.listeners.delete(e),this.listeners.size===0&&this.stopRealTimeUpdates()}}getCurrentData(){return{reports:[...this.reports],hotspots:[...this.hotspots]}}startRealTimeUpdates(){this.updateInterval||(this.updateInterval=setInterval(()=>{this.simulateDataUpdate()},3e4))}stopRealTimeUpdates(){this.updateInterval&&(clearInterval(this.updateInterval),this.updateInterval=null)}simulateDataUpdate(){const e=new Date,t=this.reports.map(s=>{if(Math.random()<.1){const o={lastUpdated:e.toISOString()};return s.status==="active"&&Math.random()<.3?o.status="investigating":s.status==="investigating"&&Math.random()<.2&&(o.status="resolved"),!s.verifiedAt&&Math.random()<.4&&(o.verifiedAt=e.toISOString(),o.verifiedBy="system@oceanhazard.com"),{...s,...o}}return s});if(Math.random()<.2){const s=this.generateNewReport();t.push(s)}this.reports=t,this.hotspots=Nx(this.reports),this.lastUpdateTime=e,this.notifyListeners()}generateNewReport(){const e=[{lat:19.076,lng:72.8777,state:"Maharashtra",district:"Mumbai"},{lat:13.0827,lng:80.2707,state:"Tamil Nadu",district:"Chennai"},{lat:9.9312,lng:76.2673,state:"Kerala",district:"Ernakulam"},{lat:17.6868,lng:83.2185,state:"Andhra Pradesh",district:"Visakhapatnam"},{lat:15.2993,lng:74.124,state:"Goa",district:"North Goa"}],t=["flood","cyclone","tidal_surge","rough_sea","pollution","erosion"],s=["low","medium","high","critical"],o=e[Math.floor(Math.random()*e.length)],c=t[Math.floor(Math.random()*t.length)],f=s[Math.floor(Math.random()*s.length)];return{id:`hr_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,title:`${f.charAt(0).toUpperCase()+f.slice(1)} ${c} Alert - ${o.district}`,type:c,severity:f,status:"active",location:{latitude:o.lat+(Math.random()-.5)*.1,longitude:o.lng+(Math.random()-.5)*.1,address:`Near ${o.district}, ${o.state}`,district:o.district,state:o.state},description:`Newly reported ${c} incident requiring immediate attention.`,reportedBy:{id:`user_${Math.random().toString(36).substr(2,9)}`,name:"Citizen Reporter",type:"citizen"},reportedAt:new Date().toISOString(),tags:[f,c,"real_time"]}}notifyListeners(){this.listeners.forEach(e=>{try{e(this.reports,this.hotspots)}catch(t){console.error("Error notifying hazard report listener:",t)}})}getStatistics(){const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),s=new Date(t.getTime()-10080*60*1e3);return{total:this.reports.length,active:this.reports.filter(o=>o.status==="active").length,critical:this.reports.filter(o=>o.severity==="critical").length,today:this.reports.filter(o=>new Date(o.reportedAt)>=t).length,thisWeek:this.reports.filter(o=>new Date(o.reportedAt)>=s).length,lastUpdate:this.lastUpdateTime.toISOString(),byType:this.reports.reduce((o,c)=>(o[c.type]=(o[c.type]||0)+1,o),{}),bySeverity:this.reports.reduce((o,c)=>(o[c.severity]=(o[c.severity]||0)+1,o),{}),byState:this.reports.reduce((o,c)=>(o[c.location.state]=(o[c.location.state]||0)+1,o),{})}}destroy(){this.stopRealTimeUpdates(),this.listeners.clear()}}const fr=new mR;class r1{static async searchLocation(e){if(!e.trim())return[];try{const t=await fetch(`${this.NOMINATIM_BASE_URL}/search?q=${encodeURIComponent(e)}&format=json&countrycodes=in&limit=5&addressdetails=1`,{headers:{"User-Agent":"Taranga Ocean Monitor (oceanmonitor@example.com)"}});if(!t.ok)throw new Error(`Search failed: ${t.status}`);return(await t.json()).map(o=>({display_name:o.display_name,lat:parseFloat(o.lat),lon:parseFloat(o.lon),boundingbox:o.boundingbox}))}catch(t){return console.error("Location search failed:",t),[]}}}sl(r1,"NOMINATIM_BASE_URL","https://nominatim.openstreetmap.org");class pR extends na.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Map rendering error:",e,t)}render(){return this.state.hasError?d.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[d.jsx("div",{className:"text-4xl mb-4",children:""}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Map Temporarily Unavailable"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"The interactive map is currently experiencing technical issues."}),d.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null}),className:"btn-primary",children:"Retry Map"}),d.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"Other dashboard features remain fully functional"})]}):this.props.children}}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yR=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),Ax=n=>{const e=yR(n);return e.charAt(0).toUpperCase()+e.slice(1)},a1=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),_R=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=H.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:f,...y},v)=>H.createElement("svg",{ref:v,...vR,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:a1("lucide",o),...!c&&!_R(y)&&{"aria-hidden":"true"},...y},[...f.map(([x,w])=>H.createElement(x,w)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=(n,e)=>{const t=H.forwardRef(({className:s,...o},c)=>H.createElement(xR,{ref:c,iconNode:e,className:a1(`lucide-${gR(Ax(n))}`,`lucide-${n}`,s),...o}));return t.displayName=Ax(n),t};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Jr=Ke("activity",bR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ag=Ke("bell",wR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Rg=Ke("calendar",ER);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],SR=Ke("camera",TR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],cf=Ke("chart-column",NR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Gf=Ke("circle-check-big",AR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],uf=Ke("clock",RR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],IR=Ke("credit-card",CR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],OR=Ke("database",jR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],o1=Ke("dollar-sign",PR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],l1=Ke("download",MR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],kR=Ke("external-link",DR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vy=Ke("eye",LR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],hf=Ke("file-text",VR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],zR=Ke("funnel",UR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],HR=Ke("gift",BR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],df=Ke("globe",FR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Hu=Ke("heart",qR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],$R=Ke("lock",GR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],KR=Ke("mail",ZR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],_o=Ke("map-pin",YR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],ff=Ke("message-square",WR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],XR=Ke("moon",QR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ol=Ke("phone",JR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Rx=Ke("radio",eC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],c1=Ke("refresh-cw",tC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],iC=Ke("save",nC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],u1=Ke("search",sC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],aC=Ke("send",rC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],lC=Ke("server",oC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Cg=Ke("settings",cC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],h1=Ke("share",uC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],eh=Ke("shield",hC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],fC=Ke("smartphone",dC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],pC=Ke("star",mC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],yC=Ke("sun",gC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],tg=Ke("target",_C);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ul=Ke("trending-up",vC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],js=Ke("triangle-alert",xC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Cx=Ke("truck",bC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],EC=Ke("upload",wC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],SC=Ke("user-check",TC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],AC=Ke("user-x",NC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ng=Ke("user",RC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hl=Ke("users",CC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ix=Ke("x",IC);try{delete yo.Icon.Default.prototype._getIconUrl,yo.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/images/marker-shadow.png"})}catch(n){console.warn("Leaflet icon fix failed:",n)}const jC=n=>{const e={critical:"#dc2626",high:"#ea580c",medium:"#d97706",low:"#16a34a",default:"#6b7280"},s=`
    <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <circle cx="12" cy="12" r="10" fill="${e[n]||e.default}" stroke="white" stroke-width="2"/>
      <text x="12" y="16" text-anchor="middle" font-size="12" fill="white">!</text>
    </svg>
  `.trim(),o=window.btoa(unescape(encodeURIComponent(s)));return new yo.Icon({iconUrl:`data:image/svg+xml;base64,${o}`,iconSize:[24,24],iconAnchor:[12,24],popupAnchor:[0,-24]})},OC=({center:n,zoom:e})=>{const t=lR();return H.useEffect(()=>{n&&t.setView(n,e)},[n,e,t]),null},fh=({onReportClick:n,height:e="500px",showControls:t=!0})=>{var D;const[s,o]=H.useState([]),[c,f]=H.useState([]),[y,v]=H.useState({}),[x,w]=H.useState([20.5937,78.9629]),[N,R]=H.useState(5),[P,O]=H.useState(null),[F,z]=H.useState({severity:"all",type:"all",status:"all",showHotspots:!0,showReports:!0}),[ce,$]=H.useState(""),[W,we]=H.useState([]),[le,Ee]=H.useState(!1),[Z,V]=H.useState("");H.useEffect(()=>fr.subscribe((Ae,X)=>{o(Ae),f(X),v(fr.getStatistics()),V(new Date().toLocaleTimeString())}),[]),H.useEffect(()=>{if(ce.length<3){we([]);return}const de=setTimeout(async()=>{Ee(!0);try{const Ae=await r1.searchLocation(ce);we(Ae)}catch(Ae){console.error("Search error:",Ae),we([])}finally{Ee(!1)}},300);return()=>clearTimeout(de)},[ce]);const U=s.filter(de=>!(F.severity!=="all"&&de.severity!==F.severity||F.type!=="all"&&de.type!==F.type||F.status!=="all"&&de.status!==F.status)),K=de=>{O(de),w([de.location.latitude,de.location.longitude]),R(12),n&&n(de)},B=de=>{w([de.lat,de.lon]),R(12),$(""),we([])},M=[{name:"All India",coords:[20.5937,78.9629],zoom:5},{name:"Mumbai",coords:[19.076,72.8777],zoom:10},{name:"Chennai",coords:[13.0827,80.2707],zoom:10},{name:"Kochi",coords:[9.9312,76.2673],zoom:10},{name:"Visakhapatnam",coords:[17.6868,83.2185],zoom:10},{name:"Goa",coords:[15.2993,74.124],zoom:10}];return d.jsxs("div",{className:"w-full",children:[t&&d.jsxs("div",{className:"mb-4 p-4 bg-white border border-gray-200 rounded-lg",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(_o,{className:"w-5 h-5 text-blue-600"}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Hazard Monitor"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Real-time ocean hazard tracking"}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(Jr,{className:"w-3 h-3 text-green-500"}),d.jsx("span",{className:"text-xs text-green-600",children:"Live"}),Z&&d.jsxs("span",{className:"text-xs text-gray-500",children:[" Updated ",Z]})]})]})]})]}),d.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-bold text-red-600",children:y.critical}),d.jsx("div",{className:"text-xs text-gray-500",children:"Critical"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-bold text-orange-600",children:y.active}),d.jsx("div",{className:"text-xs text-gray-500",children:"Active"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-bold text-blue-600",children:y.total}),d.jsx("div",{className:"text-xs text-gray-500",children:"Total"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-bold text-green-600",children:c.length}),d.jsx("div",{className:"text-xs text-gray-500",children:"Hotspots"})]})]})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[d.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[d.jsx(u1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search locations in India...",value:ce,onChange:de=>$(de.target.value),className:"input pl-10"}),le&&d.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:d.jsx("div",{className:"loading"})}),W.length>0&&d.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg mt-1 z-50 max-h-60 overflow-y-auto",children:W.map((de,Ae)=>d.jsx("button",{onClick:()=>B(de),className:"w-full text-left px-4 py-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:d.jsx("div",{className:"font-medium text-gray-900 text-sm",children:de.display_name})},Ae))})]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:M.map((de,Ae)=>d.jsx("button",{onClick:()=>{w(de.coords),R(de.zoom)},className:"btn-secondary px-3 py-1 text-sm",children:de.name},Ae))}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(zR,{className:"w-4 h-4 text-gray-400"}),d.jsxs("select",{value:F.severity,onChange:de=>z(Ae=>({...Ae,severity:de.target.value})),className:"input text-sm px-2 py-1",children:[d.jsx("option",{value:"all",children:"All Severity"}),d.jsx("option",{value:"critical",children:"Critical"}),d.jsx("option",{value:"high",children:"High"}),d.jsx("option",{value:"medium",children:"Medium"}),d.jsx("option",{value:"low",children:"Low"})]}),d.jsxs("select",{value:F.type,onChange:de=>z(Ae=>({...Ae,type:de.target.value})),className:"input text-sm px-2 py-1",children:[d.jsx("option",{value:"all",children:"All Types"}),d.jsx("option",{value:"cyclone",children:"Cyclone"}),d.jsx("option",{value:"flood",children:"Flood"}),d.jsx("option",{value:"tsunami",children:"Tsunami"}),d.jsx("option",{value:"pollution",children:"Pollution"}),d.jsx("option",{value:"erosion",children:"Erosion"})]})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("label",{className:"flex items-center space-x-2",children:[d.jsx("input",{type:"checkbox",checked:F.showReports,onChange:de=>z(Ae=>({...Ae,showReports:de.target.checked})),className:"w-4 h-4"}),d.jsx("span",{className:"text-sm text-gray-700",children:"Reports"})]}),d.jsxs("label",{className:"flex items-center space-x-2",children:[d.jsx("input",{type:"checkbox",checked:F.showHotspots,onChange:de=>z(Ae=>({...Ae,showHotspots:de.target.checked})),className:"w-4 h-4"}),d.jsx("span",{className:"text-sm text-gray-700",children:"Hotspots"})]})]})]})]}),d.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",style:{height:e},children:d.jsx(pR,{children:d.jsxs(hR,{center:x,zoom:N,style:{width:"100%",height:"100%"},children:[d.jsx(OC,{center:x,zoom:N}),d.jsx(fR,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),F.showReports&&U.map(de=>d.jsx(dR,{position:[de.location.latitude,de.location.longitude],icon:jC(de.severity),eventHandlers:{click:()=>K(de)},children:d.jsx(Sx,{children:d.jsxs("div",{className:"min-w-[280px]",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsx("h4",{className:"text-base font-semibold text-gray-900",children:de.title}),d.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${de.severity==="critical"?"bg-red-100 text-red-800":de.severity==="high"?"bg-orange-100 text-orange-800":de.severity==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:de.severity.toUpperCase()})]}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-500",children:"Type:"}),d.jsx("span",{className:"text-gray-900",children:de.type.replace("_"," ")})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-500",children:"Status:"}),d.jsx("span",{className:"text-gray-900",children:de.status})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-500",children:"Location:"}),d.jsx("span",{className:"text-gray-900",children:de.location.state})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-500",children:"Reported:"}),d.jsx("span",{className:"text-gray-900",children:new Date(de.reportedAt).toLocaleString()})]})]}),de.description&&d.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:d.jsx("p",{className:"text-gray-700 text-sm",children:de.description})}),de.affectedArea&&d.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[d.jsx(js,{className:"w-4 h-4 text-yellow-600"}),d.jsxs("span",{className:"text-sm text-yellow-700",children:["Affected Area: ",de.affectedArea]})]})]})})},de.id)),F.showHotspots&&c.map(de=>d.jsx(cR,{center:de.center,radius:de.radius,fillColor:de.intensity==="high"?"#dc2626":de.intensity==="medium"?"#ea580c":"#16a34a",fillOpacity:.2,color:de.intensity==="high"?"#dc2626":de.intensity==="medium"?"#ea580c":"#16a34a",weight:2,children:d.jsx(Sx,{children:d.jsxs("div",{className:"min-w-[200px]",children:[d.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Hazard Hotspot"}),d.jsxs("div",{className:"space-y-1 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-500",children:"Intensity:"}),d.jsx("span",{className:`font-medium ${de.intensity==="high"?"text-red-600":de.intensity==="medium"?"text-orange-600":"text-green-600"}`,children:de.intensity.toUpperCase()})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-500",children:"Reports:"}),d.jsx("span",{className:"text-gray-900",children:de.reportCount})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-500",children:"Types:"}),d.jsx("span",{className:"text-blue-600",children:de.dominantTypes.join(", ")})]})]})]})})},de.id))]})})}),P&&d.jsx("div",{className:"mt-4 p-4 bg-white border border-gray-200 rounded-lg",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:P.title}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Severity: "}),d.jsx("span",{className:`font-medium ${P.severity==="critical"?"text-red-600":P.severity==="high"?"text-orange-600":P.severity==="medium"?"text-yellow-600":"text-green-600"}`,children:P.severity})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Type: "}),d.jsx("span",{className:"text-gray-900",children:P.type.replace("_"," ")})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Status: "}),d.jsx("span",{className:"text-gray-900",children:P.status})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Population: "}),d.jsx("span",{className:"text-gray-900",children:((D=P.estimatedAffectedPopulation)==null?void 0:D.toLocaleString())||"N/A"})]})]})]}),d.jsx("button",{onClick:()=>O(null),className:"btn-secondary px-3 py-1 ml-4",children:""})]})})]})},jx=({user:n})=>{var w;const[e,t]=H.useState([]),[s,o]=H.useState({}),[c,f]=H.useState([]),[y,v]=H.useState("");H.useEffect(()=>fr.subscribe(R=>{t(R),o(fr.getStatistics());const P=19.076,O=72.8777,F=R.filter(z=>Math.sqrt(Math.pow(z.location.latitude-P,2)+Math.pow(z.location.longitude-O,2))<.5&&z.status==="active");f(F),v(new Date().toLocaleTimeString())}),[]);const x=[{time:"2 hours ago",event:"Cyclone warning issued for your area",type:"warning",icon:d.jsx(js,{className:"w-4 h-4"})},{time:"1 day ago",event:"Your hazard report was verified",type:"success",icon:d.jsx(eh,{className:"w-4 h-4"})},{time:"2 days ago",event:"Emergency drill notification sent",type:"info",icon:d.jsx(Ag,{className:"w-4 h-4"})}];return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",(n==null?void 0:n.name)||"Citizen"]}),d.jsx("p",{className:"text-gray-600 mt-2",children:"Stay informed about ocean hazards in your area"}),d.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[d.jsx(Jr,{className:"w-4 h-4 text-green-500"}),d.jsx("span",{className:"text-sm text-green-600",children:"System Active"}),d.jsxs("span",{className:"text-sm text-gray-500",children:[" Last updated ",y]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-sm text-gray-500",children:"Your Location"}),d.jsx("div",{className:"text-lg font-semibold text-gray-900",children:"Mumbai, Maharashtra"})]})]})}),c.length>0&&d.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(js,{className:"w-6 h-6 text-orange-600"}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-orange-800",children:[c.length," Active Alert",c.length>1?"s":""," Near You"]}),d.jsxs("p",{className:"text-orange-700",children:[(w=c[0])==null?void 0:w.title," - Stay alert and follow safety guidelines"]})]}),d.jsx("button",{className:"btn-primary",children:"View Details"})]})}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Active Alerts"}),d.jsx(js,{className:"w-5 h-5 text-red-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:s.active||0}),d.jsx("p",{className:"text-gray-500 text-sm",children:"In your region"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Reports Today"}),d.jsx(hf,{className:"w-5 h-5 text-blue-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:s.today||0}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Across all regions"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Emergency Contacts"}),d.jsx(ol,{className:"w-5 h-5 text-green-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"3"}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Available 24/7"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Community"}),d.jsx(hl,{className:"w-5 h-5 text-purple-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"1.2k"}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Active volunteers"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Quick Actions"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("button",{className:"w-full btn-primary flex items-center justify-center space-x-3 py-4",children:[d.jsx(hf,{className:"w-5 h-5"}),d.jsx("span",{children:"Report Ocean Hazard"})]}),d.jsxs("button",{className:"w-full btn-secondary flex items-center justify-center space-x-3 py-4",children:[d.jsx(_o,{className:"w-5 h-5"}),d.jsx("span",{children:"View Hazard Map"})]}),d.jsxs("button",{className:"w-full btn-secondary flex items-center justify-center space-x-3 py-4",children:[d.jsx(hl,{className:"w-5 h-5"}),d.jsx("span",{children:"Join as Volunteer"})]}),d.jsxs("button",{className:"w-full btn-secondary flex items-center justify-center space-x-3 py-4",children:[d.jsx(o1,{className:"w-5 h-5"}),d.jsx("span",{children:"Support Relief Efforts"})]})]})]}),d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Recent Activity"}),d.jsx("div",{className:"space-y-4",children:x.map((N,R)=>d.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg bg-gray-50",children:[d.jsx("div",{className:`p-1 rounded-full ${N.type==="info"?"bg-blue-100 text-blue-600":N.type==="warning"?"bg-orange-100 text-orange-600":"bg-green-100 text-green-600"}`,children:N.icon}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-gray-900 text-sm font-medium",children:N.event}),d.jsx("p",{className:"text-gray-500 text-xs mt-1",children:N.time})]})]},R))}),d.jsx("button",{className:"w-full mt-4 text-blue-600 text-sm font-medium hover:text-blue-700",children:"View All Activity"})]}),d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Emergency Contacts"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-red-800",children:"Coast Guard"}),d.jsx("div",{className:"text-sm text-red-600",children:"Emergency Response"})]}),d.jsx("button",{className:"btn-primary bg-red-600 hover:bg-red-700",children:d.jsx(ol,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-blue-800",children:"Disaster Management"}),d.jsx("div",{className:"text-sm text-blue-600",children:"State Authority"})]}),d.jsx("button",{className:"btn-primary bg-blue-600 hover:bg-blue-700",children:d.jsx(ol,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-green-800",children:"Local Police"}),d.jsx("div",{className:"text-sm text-green-600",children:"Area Station"})]}),d.jsx("button",{className:"btn-primary bg-green-600 hover:bg-green-700",children:d.jsx(ol,{className:"w-4 h-4"})})]})]})]})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Nearby Hazards"}),d.jsx("button",{className:"btn-secondary",children:"View Full Map"})]}),d.jsx("div",{className:"h-80",children:d.jsx(fh,{height:"320px",showControls:!1})})]})]})};function d1(n,e){return function(){return n.apply(e,arguments)}}const{toString:PC}=Object.prototype,{getPrototypeOf:xy}=Object,{iterator:$f,toStringTag:f1}=Symbol,Zf=(n=>e=>{const t=PC.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ds=n=>(n=n.toLowerCase(),e=>Zf(e)===n),Kf=n=>e=>typeof e===n,{isArray:Vc}=Array,Nc=Kf("undefined");function mh(n){return n!==null&&!Nc(n)&&n.constructor!==null&&!Nc(n.constructor)&&vi(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const m1=Ds("ArrayBuffer");function MC(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&m1(n.buffer),e}const DC=Kf("string"),vi=Kf("function"),p1=Kf("number"),ph=n=>n!==null&&typeof n=="object",kC=n=>n===!0||n===!1,Zd=n=>{if(Zf(n)!=="object")return!1;const e=xy(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(f1 in n)&&!($f in n)},LC=n=>{if(!ph(n)||mh(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},VC=Ds("Date"),UC=Ds("File"),zC=Ds("Blob"),BC=Ds("FileList"),HC=n=>ph(n)&&vi(n.pipe),FC=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||vi(n.append)&&((e=Zf(n))==="formdata"||e==="object"&&vi(n.toString)&&n.toString()==="[object FormData]"))},qC=Ds("URLSearchParams"),[GC,$C,ZC,KC]=["ReadableStream","Request","Response","Headers"].map(Ds),YC=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gh(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let s,o;if(typeof n!="object"&&(n=[n]),Vc(n))for(s=0,o=n.length;s<o;s++)e.call(null,n[s],s,n);else{if(mh(n))return;const c=t?Object.getOwnPropertyNames(n):Object.keys(n),f=c.length;let y;for(s=0;s<f;s++)y=c[s],e.call(null,n[y],y,n)}}function g1(n,e){if(mh(n))return null;e=e.toLowerCase();const t=Object.keys(n);let s=t.length,o;for(;s-- >0;)if(o=t[s],e===o.toLowerCase())return o;return null}const ll=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,y1=n=>!Nc(n)&&n!==ll;function Ig(){const{caseless:n,skipUndefined:e}=y1(this)&&this||{},t={},s=(o,c)=>{const f=n&&g1(t,c)||c;Zd(t[f])&&Zd(o)?t[f]=Ig(t[f],o):Zd(o)?t[f]=Ig({},o):Vc(o)?t[f]=o.slice():(!e||!Nc(o))&&(t[f]=o)};for(let o=0,c=arguments.length;o<c;o++)arguments[o]&&gh(arguments[o],s);return t}const WC=(n,e,t,{allOwnKeys:s}={})=>(gh(e,(o,c)=>{t&&vi(o)?n[c]=d1(o,t):n[c]=o},{allOwnKeys:s}),n),QC=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),XC=(n,e,t,s)=>{n.prototype=Object.create(e.prototype,s),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},JC=(n,e,t,s)=>{let o,c,f;const y={};if(e=e||{},n==null)return e;do{for(o=Object.getOwnPropertyNames(n),c=o.length;c-- >0;)f=o[c],(!s||s(f,n,e))&&!y[f]&&(e[f]=n[f],y[f]=!0);n=t!==!1&&xy(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},eI=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const s=n.indexOf(e,t);return s!==-1&&s===t},tI=n=>{if(!n)return null;if(Vc(n))return n;let e=n.length;if(!p1(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},nI=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&xy(Uint8Array)),iI=(n,e)=>{const s=(n&&n[$f]).call(n);let o;for(;(o=s.next())&&!o.done;){const c=o.value;e.call(n,c[0],c[1])}},sI=(n,e)=>{let t;const s=[];for(;(t=n.exec(e))!==null;)s.push(t);return s},rI=Ds("HTMLFormElement"),aI=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,o){return s.toUpperCase()+o}),Ox=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),oI=Ds("RegExp"),_1=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),s={};gh(t,(o,c)=>{let f;(f=e(o,c,n))!==!1&&(s[c]=f||o)}),Object.defineProperties(n,s)},lI=n=>{_1(n,(e,t)=>{if(vi(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=n[t];if(vi(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},cI=(n,e)=>{const t={},s=o=>{o.forEach(c=>{t[c]=!0})};return Vc(n)?s(n):s(String(n).split(e)),t},uI=()=>{},hI=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function dI(n){return!!(n&&vi(n.append)&&n[f1]==="FormData"&&n[$f])}const fI=n=>{const e=new Array(10),t=(s,o)=>{if(ph(s)){if(e.indexOf(s)>=0)return;if(mh(s))return s;if(!("toJSON"in s)){e[o]=s;const c=Vc(s)?[]:{};return gh(s,(f,y)=>{const v=t(f,o+1);!Nc(v)&&(c[y]=v)}),e[o]=void 0,c}}return s};return t(n,0)},mI=Ds("AsyncFunction"),pI=n=>n&&(ph(n)||vi(n))&&vi(n.then)&&vi(n.catch),v1=((n,e)=>n?setImmediate:e?((t,s)=>(ll.addEventListener("message",({source:o,data:c})=>{o===ll&&c===t&&s.length&&s.shift()()},!1),o=>{s.push(o),ll.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",vi(ll.postMessage)),gI=typeof queueMicrotask<"u"?queueMicrotask.bind(ll):typeof process<"u"&&process.nextTick||v1,yI=n=>n!=null&&vi(n[$f]),he={isArray:Vc,isArrayBuffer:m1,isBuffer:mh,isFormData:FC,isArrayBufferView:MC,isString:DC,isNumber:p1,isBoolean:kC,isObject:ph,isPlainObject:Zd,isEmptyObject:LC,isReadableStream:GC,isRequest:$C,isResponse:ZC,isHeaders:KC,isUndefined:Nc,isDate:VC,isFile:UC,isBlob:zC,isRegExp:oI,isFunction:vi,isStream:HC,isURLSearchParams:qC,isTypedArray:nI,isFileList:BC,forEach:gh,merge:Ig,extend:WC,trim:YC,stripBOM:QC,inherits:XC,toFlatObject:JC,kindOf:Zf,kindOfTest:Ds,endsWith:eI,toArray:tI,forEachEntry:iI,matchAll:sI,isHTMLForm:rI,hasOwnProperty:Ox,hasOwnProp:Ox,reduceDescriptors:_1,freezeMethods:lI,toObjectSet:cI,toCamelCase:aI,noop:uI,toFiniteNumber:hI,findKey:g1,global:ll,isContextDefined:y1,isSpecCompliantForm:dI,toJSONObject:fI,isAsyncFn:mI,isThenable:pI,setImmediate:v1,asap:gI,isIterable:yI};function Xe(n,e,t,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}he.inherits(Xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:he.toJSONObject(this.config),code:this.code,status:this.status}}});const x1=Xe.prototype,b1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{b1[n]={value:n}});Object.defineProperties(Xe,b1);Object.defineProperty(x1,"isAxiosError",{value:!0});Xe.from=(n,e,t,s,o,c)=>{const f=Object.create(x1);he.toFlatObject(n,f,function(w){return w!==Error.prototype},x=>x!=="isAxiosError");const y=n&&n.message?n.message:"Error",v=e==null&&n?n.code:e;return Xe.call(f,y,v,t,s,o),n&&f.cause==null&&Object.defineProperty(f,"cause",{value:n,configurable:!0}),f.name=n&&n.name||"Error",c&&Object.assign(f,c),f};const _I=null;function jg(n){return he.isPlainObject(n)||he.isArray(n)}function w1(n){return he.endsWith(n,"[]")?n.slice(0,-2):n}function Px(n,e,t){return n?n.concat(e).map(function(o,c){return o=w1(o),!t&&c?"["+o+"]":o}).join(t?".":""):e}function vI(n){return he.isArray(n)&&!n.some(jg)}const xI=he.toFlatObject(he,{},null,function(e){return/^is[A-Z]/.test(e)});function Yf(n,e,t){if(!he.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=he.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(F,z){return!he.isUndefined(z[F])});const s=t.metaTokens,o=t.visitor||w,c=t.dots,f=t.indexes,v=(t.Blob||typeof Blob<"u"&&Blob)&&he.isSpecCompliantForm(e);if(!he.isFunction(o))throw new TypeError("visitor must be a function");function x(O){if(O===null)return"";if(he.isDate(O))return O.toISOString();if(he.isBoolean(O))return O.toString();if(!v&&he.isBlob(O))throw new Xe("Blob is not supported. Use a Buffer instead.");return he.isArrayBuffer(O)||he.isTypedArray(O)?v&&typeof Blob=="function"?new Blob([O]):Buffer.from(O):O}function w(O,F,z){let ce=O;if(O&&!z&&typeof O=="object"){if(he.endsWith(F,"{}"))F=s?F:F.slice(0,-2),O=JSON.stringify(O);else if(he.isArray(O)&&vI(O)||(he.isFileList(O)||he.endsWith(F,"[]"))&&(ce=he.toArray(O)))return F=w1(F),ce.forEach(function(W,we){!(he.isUndefined(W)||W===null)&&e.append(f===!0?Px([F],we,c):f===null?F:F+"[]",x(W))}),!1}return jg(O)?!0:(e.append(Px(z,F,c),x(O)),!1)}const N=[],R=Object.assign(xI,{defaultVisitor:w,convertValue:x,isVisitable:jg});function P(O,F){if(!he.isUndefined(O)){if(N.indexOf(O)!==-1)throw Error("Circular reference detected in "+F.join("."));N.push(O),he.forEach(O,function(ce,$){(!(he.isUndefined(ce)||ce===null)&&o.call(e,ce,he.isString($)?$.trim():$,F,R))===!0&&P(ce,F?F.concat($):[$])}),N.pop()}}if(!he.isObject(n))throw new TypeError("data must be an object");return P(n),e}function Mx(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function by(n,e){this._pairs=[],n&&Yf(n,this,e)}const E1=by.prototype;E1.append=function(e,t){this._pairs.push([e,t])};E1.toString=function(e){const t=e?function(s){return e.call(this,s,Mx)}:Mx;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function bI(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function T1(n,e,t){if(!e)return n;const s=t&&t.encode||bI;he.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let c;if(o?c=o(e,t):c=he.isURLSearchParams(e)?e.toString():new by(e,t).toString(s),c){const f=n.indexOf("#");f!==-1&&(n=n.slice(0,f)),n+=(n.indexOf("?")===-1?"?":"&")+c}return n}class Dx{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){he.forEach(this.handlers,function(s){s!==null&&e(s)})}}const S1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wI=typeof URLSearchParams<"u"?URLSearchParams:by,EI=typeof FormData<"u"?FormData:null,TI=typeof Blob<"u"?Blob:null,SI={isBrowser:!0,classes:{URLSearchParams:wI,FormData:EI,Blob:TI},protocols:["http","https","file","blob","url","data"]},wy=typeof window<"u"&&typeof document<"u",Og=typeof navigator=="object"&&navigator||void 0,NI=wy&&(!Og||["ReactNative","NativeScript","NS"].indexOf(Og.product)<0),AI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",RI=wy&&window.location.href||"http://localhost",CI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:wy,hasStandardBrowserEnv:NI,hasStandardBrowserWebWorkerEnv:AI,navigator:Og,origin:RI},Symbol.toStringTag,{value:"Module"})),Bn={...CI,...SI};function II(n,e){return Yf(n,new Bn.classes.URLSearchParams,{visitor:function(t,s,o,c){return Bn.isNode&&he.isBuffer(t)?(this.append(s,t.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...e})}function jI(n){return he.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function OI(n){const e={},t=Object.keys(n);let s;const o=t.length;let c;for(s=0;s<o;s++)c=t[s],e[c]=n[c];return e}function N1(n){function e(t,s,o,c){let f=t[c++];if(f==="__proto__")return!0;const y=Number.isFinite(+f),v=c>=t.length;return f=!f&&he.isArray(o)?o.length:f,v?(he.hasOwnProp(o,f)?o[f]=[o[f],s]:o[f]=s,!y):((!o[f]||!he.isObject(o[f]))&&(o[f]=[]),e(t,s,o[f],c)&&he.isArray(o[f])&&(o[f]=OI(o[f])),!y)}if(he.isFormData(n)&&he.isFunction(n.entries)){const t={};return he.forEachEntry(n,(s,o)=>{e(jI(s),o,t,0)}),t}return null}function PI(n,e,t){if(he.isString(n))try{return(e||JSON.parse)(n),he.trim(n)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(n)}const yh={transitional:S1,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",o=s.indexOf("application/json")>-1,c=he.isObject(e);if(c&&he.isHTMLForm(e)&&(e=new FormData(e)),he.isFormData(e))return o?JSON.stringify(N1(e)):e;if(he.isArrayBuffer(e)||he.isBuffer(e)||he.isStream(e)||he.isFile(e)||he.isBlob(e)||he.isReadableStream(e))return e;if(he.isArrayBufferView(e))return e.buffer;if(he.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let y;if(c){if(s.indexOf("application/x-www-form-urlencoded")>-1)return II(e,this.formSerializer).toString();if((y=he.isFileList(e))||s.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return Yf(y?{"files[]":e}:e,v&&new v,this.formSerializer)}}return c||o?(t.setContentType("application/json",!1),PI(e)):e}],transformResponse:[function(e){const t=this.transitional||yh.transitional,s=t&&t.forcedJSONParsing,o=this.responseType==="json";if(he.isResponse(e)||he.isReadableStream(e))return e;if(e&&he.isString(e)&&(s&&!this.responseType||o)){const f=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e,this.parseReviver)}catch(y){if(f)throw y.name==="SyntaxError"?Xe.from(y,Xe.ERR_BAD_RESPONSE,this,null,this.response):y}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bn.classes.FormData,Blob:Bn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};he.forEach(["delete","get","head","post","put","patch"],n=>{yh.headers[n]={}});const MI=he.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),DI=n=>{const e={};let t,s,o;return n&&n.split(`
`).forEach(function(f){o=f.indexOf(":"),t=f.substring(0,o).trim().toLowerCase(),s=f.substring(o+1).trim(),!(!t||e[t]&&MI[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},kx=Symbol("internals");function Lu(n){return n&&String(n).trim().toLowerCase()}function Kd(n){return n===!1||n==null?n:he.isArray(n)?n.map(Kd):String(n)}function kI(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(n);)e[s[1]]=s[2];return e}const LI=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function ig(n,e,t,s,o){if(he.isFunction(s))return s.call(this,e,t);if(o&&(e=t),!!he.isString(e)){if(he.isString(s))return e.indexOf(s)!==-1;if(he.isRegExp(s))return s.test(e)}}function VI(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function UI(n,e){const t=he.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(n,s+t,{value:function(o,c,f){return this[s].call(this,e,o,c,f)},configurable:!0})})}let xi=class{constructor(e){e&&this.set(e)}set(e,t,s){const o=this;function c(y,v,x){const w=Lu(v);if(!w)throw new Error("header name must be a non-empty string");const N=he.findKey(o,w);(!N||o[N]===void 0||x===!0||x===void 0&&o[N]!==!1)&&(o[N||v]=Kd(y))}const f=(y,v)=>he.forEach(y,(x,w)=>c(x,w,v));if(he.isPlainObject(e)||e instanceof this.constructor)f(e,t);else if(he.isString(e)&&(e=e.trim())&&!LI(e))f(DI(e),t);else if(he.isObject(e)&&he.isIterable(e)){let y={},v,x;for(const w of e){if(!he.isArray(w))throw TypeError("Object iterator must return a key-value pair");y[x=w[0]]=(v=y[x])?he.isArray(v)?[...v,w[1]]:[v,w[1]]:w[1]}f(y,t)}else e!=null&&c(t,e,s);return this}get(e,t){if(e=Lu(e),e){const s=he.findKey(this,e);if(s){const o=this[s];if(!t)return o;if(t===!0)return kI(o);if(he.isFunction(t))return t.call(this,o,s);if(he.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Lu(e),e){const s=he.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||ig(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let o=!1;function c(f){if(f=Lu(f),f){const y=he.findKey(s,f);y&&(!t||ig(s,s[y],y,t))&&(delete s[y],o=!0)}}return he.isArray(e)?e.forEach(c):c(e),o}clear(e){const t=Object.keys(this);let s=t.length,o=!1;for(;s--;){const c=t[s];(!e||ig(this,this[c],c,e,!0))&&(delete this[c],o=!0)}return o}normalize(e){const t=this,s={};return he.forEach(this,(o,c)=>{const f=he.findKey(s,c);if(f){t[f]=Kd(o),delete t[c];return}const y=e?VI(c):String(c).trim();y!==c&&delete t[c],t[y]=Kd(o),s[y]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return he.forEach(this,(s,o)=>{s!=null&&s!==!1&&(t[o]=e&&he.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(o=>s.set(o)),s}static accessor(e){const s=(this[kx]=this[kx]={accessors:{}}).accessors,o=this.prototype;function c(f){const y=Lu(f);s[y]||(UI(o,f),s[y]=!0)}return he.isArray(e)?e.forEach(c):c(e),this}};xi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);he.reduceDescriptors(xi.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(s){this[t]=s}}});he.freezeMethods(xi);function sg(n,e){const t=this||yh,s=e||t,o=xi.from(s.headers);let c=s.data;return he.forEach(n,function(y){c=y.call(t,c,o.normalize(),e?e.status:void 0)}),o.normalize(),c}function A1(n){return!!(n&&n.__CANCEL__)}function Uc(n,e,t){Xe.call(this,n??"canceled",Xe.ERR_CANCELED,e,t),this.name="CanceledError"}he.inherits(Uc,Xe,{__CANCEL__:!0});function R1(n,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?n(t):e(new Xe("Request failed with status code "+t.status,[Xe.ERR_BAD_REQUEST,Xe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function zI(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function BI(n,e){n=n||10;const t=new Array(n),s=new Array(n);let o=0,c=0,f;return e=e!==void 0?e:1e3,function(v){const x=Date.now(),w=s[c];f||(f=x),t[o]=v,s[o]=x;let N=c,R=0;for(;N!==o;)R+=t[N++],N=N%n;if(o=(o+1)%n,o===c&&(c=(c+1)%n),x-f<e)return;const P=w&&x-w;return P?Math.round(R*1e3/P):void 0}}function HI(n,e){let t=0,s=1e3/e,o,c;const f=(x,w=Date.now())=>{t=w,o=null,c&&(clearTimeout(c),c=null),n(...x)};return[(...x)=>{const w=Date.now(),N=w-t;N>=s?f(x,w):(o=x,c||(c=setTimeout(()=>{c=null,f(o)},s-N)))},()=>o&&f(o)]}const mf=(n,e,t=3)=>{let s=0;const o=BI(50,250);return HI(c=>{const f=c.loaded,y=c.lengthComputable?c.total:void 0,v=f-s,x=o(v),w=f<=y;s=f;const N={loaded:f,total:y,progress:y?f/y:void 0,bytes:v,rate:x||void 0,estimated:x&&y&&w?(y-f)/x:void 0,event:c,lengthComputable:y!=null,[e?"download":"upload"]:!0};n(N)},t)},Lx=(n,e)=>{const t=n!=null;return[s=>e[0]({lengthComputable:t,total:n,loaded:s}),e[1]]},Vx=n=>(...e)=>he.asap(()=>n(...e)),FI=Bn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Bn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Bn.origin),Bn.navigator&&/(msie|trident)/i.test(Bn.navigator.userAgent)):()=>!0,qI=Bn.hasStandardBrowserEnv?{write(n,e,t,s,o,c){const f=[n+"="+encodeURIComponent(e)];he.isNumber(t)&&f.push("expires="+new Date(t).toGMTString()),he.isString(s)&&f.push("path="+s),he.isString(o)&&f.push("domain="+o),c===!0&&f.push("secure"),document.cookie=f.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function GI(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function $I(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function C1(n,e,t){let s=!GI(e);return n&&(s||t==!1)?$I(n,e):e}const Ux=n=>n instanceof xi?{...n}:n;function gl(n,e){e=e||{};const t={};function s(x,w,N,R){return he.isPlainObject(x)&&he.isPlainObject(w)?he.merge.call({caseless:R},x,w):he.isPlainObject(w)?he.merge({},w):he.isArray(w)?w.slice():w}function o(x,w,N,R){if(he.isUndefined(w)){if(!he.isUndefined(x))return s(void 0,x,N,R)}else return s(x,w,N,R)}function c(x,w){if(!he.isUndefined(w))return s(void 0,w)}function f(x,w){if(he.isUndefined(w)){if(!he.isUndefined(x))return s(void 0,x)}else return s(void 0,w)}function y(x,w,N){if(N in e)return s(x,w);if(N in n)return s(void 0,x)}const v={url:c,method:c,data:c,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:y,headers:(x,w,N)=>o(Ux(x),Ux(w),N,!0)};return he.forEach(Object.keys({...n,...e}),function(w){const N=v[w]||o,R=N(n[w],e[w],w);he.isUndefined(R)&&N!==y||(t[w]=R)}),t}const I1=n=>{const e=gl({},n);let{data:t,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:c,headers:f,auth:y}=e;if(e.headers=f=xi.from(f),e.url=T1(C1(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),y&&f.set("Authorization","Basic "+btoa((y.username||"")+":"+(y.password?unescape(encodeURIComponent(y.password)):""))),he.isFormData(t)){if(Bn.hasStandardBrowserEnv||Bn.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(he.isFunction(t.getHeaders)){const v=t.getHeaders(),x=["content-type","content-length"];Object.entries(v).forEach(([w,N])=>{x.includes(w.toLowerCase())&&f.set(w,N)})}}if(Bn.hasStandardBrowserEnv&&(s&&he.isFunction(s)&&(s=s(e)),s||s!==!1&&FI(e.url))){const v=o&&c&&qI.read(c);v&&f.set(o,v)}return e},ZI=typeof XMLHttpRequest<"u",KI=ZI&&function(n){return new Promise(function(t,s){const o=I1(n);let c=o.data;const f=xi.from(o.headers).normalize();let{responseType:y,onUploadProgress:v,onDownloadProgress:x}=o,w,N,R,P,O;function F(){P&&P(),O&&O(),o.cancelToken&&o.cancelToken.unsubscribe(w),o.signal&&o.signal.removeEventListener("abort",w)}let z=new XMLHttpRequest;z.open(o.method.toUpperCase(),o.url,!0),z.timeout=o.timeout;function ce(){if(!z)return;const W=xi.from("getAllResponseHeaders"in z&&z.getAllResponseHeaders()),le={data:!y||y==="text"||y==="json"?z.responseText:z.response,status:z.status,statusText:z.statusText,headers:W,config:n,request:z};R1(function(Z){t(Z),F()},function(Z){s(Z),F()},le),z=null}"onloadend"in z?z.onloadend=ce:z.onreadystatechange=function(){!z||z.readyState!==4||z.status===0&&!(z.responseURL&&z.responseURL.indexOf("file:")===0)||setTimeout(ce)},z.onabort=function(){z&&(s(new Xe("Request aborted",Xe.ECONNABORTED,n,z)),z=null)},z.onerror=function(we){const le=we&&we.message?we.message:"Network Error",Ee=new Xe(le,Xe.ERR_NETWORK,n,z);Ee.event=we||null,s(Ee),z=null},z.ontimeout=function(){let we=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const le=o.transitional||S1;o.timeoutErrorMessage&&(we=o.timeoutErrorMessage),s(new Xe(we,le.clarifyTimeoutError?Xe.ETIMEDOUT:Xe.ECONNABORTED,n,z)),z=null},c===void 0&&f.setContentType(null),"setRequestHeader"in z&&he.forEach(f.toJSON(),function(we,le){z.setRequestHeader(le,we)}),he.isUndefined(o.withCredentials)||(z.withCredentials=!!o.withCredentials),y&&y!=="json"&&(z.responseType=o.responseType),x&&([R,O]=mf(x,!0),z.addEventListener("progress",R)),v&&z.upload&&([N,P]=mf(v),z.upload.addEventListener("progress",N),z.upload.addEventListener("loadend",P)),(o.cancelToken||o.signal)&&(w=W=>{z&&(s(!W||W.type?new Uc(null,n,z):W),z.abort(),z=null)},o.cancelToken&&o.cancelToken.subscribe(w),o.signal&&(o.signal.aborted?w():o.signal.addEventListener("abort",w)));const $=zI(o.url);if($&&Bn.protocols.indexOf($)===-1){s(new Xe("Unsupported protocol "+$+":",Xe.ERR_BAD_REQUEST,n));return}z.send(c||null)})},YI=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let s=new AbortController,o;const c=function(x){if(!o){o=!0,y();const w=x instanceof Error?x:this.reason;s.abort(w instanceof Xe?w:new Uc(w instanceof Error?w.message:w))}};let f=e&&setTimeout(()=>{f=null,c(new Xe(`timeout ${e} of ms exceeded`,Xe.ETIMEDOUT))},e);const y=()=>{n&&(f&&clearTimeout(f),f=null,n.forEach(x=>{x.unsubscribe?x.unsubscribe(c):x.removeEventListener("abort",c)}),n=null)};n.forEach(x=>x.addEventListener("abort",c));const{signal:v}=s;return v.unsubscribe=()=>he.asap(y),v}},WI=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let s=0,o;for(;s<t;)o=s+e,yield n.slice(s,o),s=o},QI=async function*(n,e){for await(const t of XI(n))yield*WI(t,e)},XI=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},zx=(n,e,t,s)=>{const o=QI(n,e);let c=0,f,y=v=>{f||(f=!0,s&&s(v))};return new ReadableStream({async pull(v){try{const{done:x,value:w}=await o.next();if(x){y(),v.close();return}let N=w.byteLength;if(t){let R=c+=N;t(R)}v.enqueue(new Uint8Array(w))}catch(x){throw y(x),x}},cancel(v){return y(v),o.return()}},{highWaterMark:2})},Bx=64*1024,{isFunction:Pd}=he,JI=(({Request:n,Response:e})=>({Request:n,Response:e}))(he.global),{ReadableStream:Hx,TextEncoder:Fx}=he.global,qx=(n,...e)=>{try{return!!n(...e)}catch{return!1}},ej=n=>{n=he.merge.call({skipUndefined:!0},JI,n);const{fetch:e,Request:t,Response:s}=n,o=e?Pd(e):typeof fetch=="function",c=Pd(t),f=Pd(s);if(!o)return!1;const y=o&&Pd(Hx),v=o&&(typeof Fx=="function"?(O=>F=>O.encode(F))(new Fx):async O=>new Uint8Array(await new t(O).arrayBuffer())),x=c&&y&&qx(()=>{let O=!1;const F=new t(Bn.origin,{body:new Hx,method:"POST",get duplex(){return O=!0,"half"}}).headers.has("Content-Type");return O&&!F}),w=f&&y&&qx(()=>he.isReadableStream(new s("").body)),N={stream:w&&(O=>O.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(O=>{!N[O]&&(N[O]=(F,z)=>{let ce=F&&F[O];if(ce)return ce.call(F);throw new Xe(`Response type '${O}' is not supported`,Xe.ERR_NOT_SUPPORT,z)})});const R=async O=>{if(O==null)return 0;if(he.isBlob(O))return O.size;if(he.isSpecCompliantForm(O))return(await new t(Bn.origin,{method:"POST",body:O}).arrayBuffer()).byteLength;if(he.isArrayBufferView(O)||he.isArrayBuffer(O))return O.byteLength;if(he.isURLSearchParams(O)&&(O=O+""),he.isString(O))return(await v(O)).byteLength},P=async(O,F)=>{const z=he.toFiniteNumber(O.getContentLength());return z??R(F)};return async O=>{let{url:F,method:z,data:ce,signal:$,cancelToken:W,timeout:we,onDownloadProgress:le,onUploadProgress:Ee,responseType:Z,headers:V,withCredentials:U="same-origin",fetchOptions:K}=I1(O),B=e||fetch;Z=Z?(Z+"").toLowerCase():"text";let M=YI([$,W&&W.toAbortSignal()],we),D=null;const de=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let Ae;try{if(Ee&&x&&z!=="get"&&z!=="head"&&(Ae=await P(V,ce))!==0){let ue=new t(F,{method:"POST",body:ce,duplex:"half"}),xe;if(he.isFormData(ce)&&(xe=ue.headers.get("content-type"))&&V.setContentType(xe),ue.body){const[be,Te]=Lx(Ae,mf(Vx(Ee)));ce=zx(ue.body,Bx,be,Te)}}he.isString(U)||(U=U?"include":"omit");const X=c&&"credentials"in t.prototype,_e={...K,signal:M,method:z.toUpperCase(),headers:V.normalize().toJSON(),body:ce,duplex:"half",credentials:X?U:void 0};D=c&&new t(F,_e);let re=await(c?B(D,K):B(F,_e));const ke=w&&(Z==="stream"||Z==="response");if(w&&(le||ke&&de)){const ue={};["status","statusText","headers"].forEach(Ce=>{ue[Ce]=re[Ce]});const xe=he.toFiniteNumber(re.headers.get("content-length")),[be,Te]=le&&Lx(xe,mf(Vx(le),!0))||[];re=new s(zx(re.body,Bx,be,()=>{Te&&Te(),de&&de()}),ue)}Z=Z||"text";let k=await N[he.findKey(N,Z)||"text"](re,O);return!ke&&de&&de(),await new Promise((ue,xe)=>{R1(ue,xe,{data:k,headers:xi.from(re.headers),status:re.status,statusText:re.statusText,config:O,request:D})})}catch(X){throw de&&de(),X&&X.name==="TypeError"&&/Load failed|fetch/i.test(X.message)?Object.assign(new Xe("Network Error",Xe.ERR_NETWORK,O,D),{cause:X.cause||X}):Xe.from(X,X&&X.code,O,D)}}},tj=new Map,j1=n=>{let e=n?n.env:{};const{fetch:t,Request:s,Response:o}=e,c=[s,o,t];let f=c.length,y=f,v,x,w=tj;for(;y--;)v=c[y],x=w.get(v),x===void 0&&w.set(v,x=y?new Map:ej(e)),w=x;return x};j1();const Pg={http:_I,xhr:KI,fetch:{get:j1}};he.forEach(Pg,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Gx=n=>`- ${n}`,nj=n=>he.isFunction(n)||n===null||n===!1,O1={getAdapter:(n,e)=>{n=he.isArray(n)?n:[n];const{length:t}=n;let s,o;const c={};for(let f=0;f<t;f++){s=n[f];let y;if(o=s,!nj(s)&&(o=Pg[(y=String(s)).toLowerCase()],o===void 0))throw new Xe(`Unknown adapter '${y}'`);if(o&&(he.isFunction(o)||(o=o.get(e))))break;c[y||"#"+f]=o}if(!o){const f=Object.entries(c).map(([v,x])=>`adapter ${v} `+(x===!1?"is not supported by the environment":"is not available in the build"));let y=t?f.length>1?`since :
`+f.map(Gx).join(`
`):" "+Gx(f[0]):"as no adapter specified";throw new Xe("There is no suitable adapter to dispatch the request "+y,"ERR_NOT_SUPPORT")}return o},adapters:Pg};function rg(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Uc(null,n)}function $x(n){return rg(n),n.headers=xi.from(n.headers),n.data=sg.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),O1.getAdapter(n.adapter||yh.adapter,n)(n).then(function(s){return rg(n),s.data=sg.call(n,n.transformResponse,s),s.headers=xi.from(s.headers),s},function(s){return A1(s)||(rg(n),s&&s.response&&(s.response.data=sg.call(n,n.transformResponse,s.response),s.response.headers=xi.from(s.response.headers))),Promise.reject(s)})}const P1="1.12.2",Wf={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Wf[n]=function(s){return typeof s===n||"a"+(e<1?"n ":" ")+n}});const Zx={};Wf.transitional=function(e,t,s){function o(c,f){return"[Axios v"+P1+"] Transitional option '"+c+"'"+f+(s?". "+s:"")}return(c,f,y)=>{if(e===!1)throw new Xe(o(f," has been removed"+(t?" in "+t:"")),Xe.ERR_DEPRECATED);return t&&!Zx[f]&&(Zx[f]=!0,console.warn(o(f," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(c,f,y):!0}};Wf.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function ij(n,e,t){if(typeof n!="object")throw new Xe("options must be an object",Xe.ERR_BAD_OPTION_VALUE);const s=Object.keys(n);let o=s.length;for(;o-- >0;){const c=s[o],f=e[c];if(f){const y=n[c],v=y===void 0||f(y,c,n);if(v!==!0)throw new Xe("option "+c+" must be "+v,Xe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Xe("Unknown option "+c,Xe.ERR_BAD_OPTION)}}const Yd={assertOptions:ij,validators:Wf},er=Yd.validators;let dl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Dx,response:new Dx}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const c=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?c&&!String(s.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+c):s.stack=c}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=gl(this.defaults,t);const{transitional:s,paramsSerializer:o,headers:c}=t;s!==void 0&&Yd.assertOptions(s,{silentJSONParsing:er.transitional(er.boolean),forcedJSONParsing:er.transitional(er.boolean),clarifyTimeoutError:er.transitional(er.boolean)},!1),o!=null&&(he.isFunction(o)?t.paramsSerializer={serialize:o}:Yd.assertOptions(o,{encode:er.function,serialize:er.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Yd.assertOptions(t,{baseUrl:er.spelling("baseURL"),withXsrfToken:er.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let f=c&&he.merge(c.common,c[t.method]);c&&he.forEach(["delete","get","head","post","put","patch","common"],O=>{delete c[O]}),t.headers=xi.concat(f,c);const y=[];let v=!0;this.interceptors.request.forEach(function(F){typeof F.runWhen=="function"&&F.runWhen(t)===!1||(v=v&&F.synchronous,y.unshift(F.fulfilled,F.rejected))});const x=[];this.interceptors.response.forEach(function(F){x.push(F.fulfilled,F.rejected)});let w,N=0,R;if(!v){const O=[$x.bind(this),void 0];for(O.unshift(...y),O.push(...x),R=O.length,w=Promise.resolve(t);N<R;)w=w.then(O[N++],O[N++]);return w}R=y.length;let P=t;for(;N<R;){const O=y[N++],F=y[N++];try{P=O(P)}catch(z){F.call(this,z);break}}try{w=$x.call(this,P)}catch(O){return Promise.reject(O)}for(N=0,R=x.length;N<R;)w=w.then(x[N++],x[N++]);return w}getUri(e){e=gl(this.defaults,e);const t=C1(e.baseURL,e.url,e.allowAbsoluteUrls);return T1(t,e.params,e.paramsSerializer)}};he.forEach(["delete","get","head","options"],function(e){dl.prototype[e]=function(t,s){return this.request(gl(s||{},{method:e,url:t,data:(s||{}).data}))}});he.forEach(["post","put","patch"],function(e){function t(s){return function(c,f,y){return this.request(gl(y||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:c,data:f}))}}dl.prototype[e]=t(),dl.prototype[e+"Form"]=t(!0)});let sj=class M1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(c){t=c});const s=this;this.promise.then(o=>{if(!s._listeners)return;let c=s._listeners.length;for(;c-- >0;)s._listeners[c](o);s._listeners=null}),this.promise.then=o=>{let c;const f=new Promise(y=>{s.subscribe(y),c=y}).then(o);return f.cancel=function(){s.unsubscribe(c)},f},e(function(c,f,y){s.reason||(s.reason=new Uc(c,f,y),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new M1(function(o){e=o}),cancel:e}}};function rj(n){return function(t){return n.apply(null,t)}}function aj(n){return he.isObject(n)&&n.isAxiosError===!0}const Mg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Mg).forEach(([n,e])=>{Mg[e]=n});function D1(n){const e=new dl(n),t=d1(dl.prototype.request,e);return he.extend(t,dl.prototype,e,{allOwnKeys:!0}),he.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return D1(gl(n,o))},t}const bt=D1(yh);bt.Axios=dl;bt.CanceledError=Uc;bt.CancelToken=sj;bt.isCancel=A1;bt.VERSION=P1;bt.toFormData=Yf;bt.AxiosError=Xe;bt.Cancel=bt.CanceledError;bt.all=function(e){return Promise.all(e)};bt.spread=rj;bt.isAxiosError=aj;bt.mergeConfig=gl;bt.AxiosHeaders=xi;bt.formToJSON=n=>N1(he.isHTMLForm(n)?new FormData(n):n);bt.getAdapter=O1.getAdapter;bt.HttpStatusCode=Mg;bt.default=bt;const{Axios:t3,AxiosError:n3,CanceledError:i3,isCancel:s3,CancelToken:r3,VERSION:a3,all:o3,Cancel:l3,isAxiosError:c3,spread:u3,toFormData:h3,AxiosHeaders:d3,HttpStatusCode:f3,formToJSON:m3,getAdapter:p3,mergeConfig:g3}=bt,Qr="/api",oj={getAuthHeaders(){const n=localStorage.getItem("authToken");return n?{Authorization:`Bearer ${n}`}:{}},async getNotifications(n={}){var e,t;try{const s=new URLSearchParams;return Object.keys(n).forEach(c=>{n[c]!==void 0&&n[c]!==null&&s.append(c,n[c])}),(await bt.get(`${Qr}/notifications?${s}`,{headers:this.getAuthHeaders()})).data.notifications||[]}catch(s){throw console.error("Error getting notifications:",s),new Error(((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Failed to get notifications")}},async getNotification(n){var e,t;try{return(await bt.get(`${Qr}/notifications/${n}`,{headers:this.getAuthHeaders()})).data.notification}catch(s){throw console.error("Error getting notification:",s),new Error(((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Failed to get notification")}},async sendNotification(n){var e,t;try{const s=await bt.post(`${Qr}/notifications`,n,{headers:this.getAuthHeaders()});return{success:!0,message:s.data.message,recipients:s.data.recipients}}catch(s){throw console.error("Error sending notification:",s),new Error(((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Failed to send notification")}},async markAsRead(n){var e,t;try{return{success:!0,message:(await bt.put(`${Qr}/notifications/${n}/read`,{},{headers:this.getAuthHeaders()})).data.message}}catch(s){throw console.error("Error marking notification as read:",s),new Error(((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Failed to mark notification as read")}},async markAllAsRead(){var n,e;try{return{success:!0,message:(await bt.put(`${Qr}/notifications/read-all`,{},{headers:this.getAuthHeaders()})).data.message}}catch(t){throw console.error("Error marking all notifications as read:",t),new Error(((e=(n=t.response)==null?void 0:n.data)==null?void 0:e.error)||"Failed to mark notifications as read")}},async deleteNotification(n){var e,t;try{return{success:!0,message:(await bt.delete(`${Qr}/notifications/${n}`,{headers:this.getAuthHeaders()})).data.message}}catch(s){throw console.error("Error deleting notification:",s),new Error(((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Failed to delete notification")}},async getNotificationStats(){try{return(await bt.get(`${Qr}/notifications/stats`,{headers:this.getAuthHeaders()})).data.stats||{}}catch(n){return console.error("Error getting notification stats:",n),{}}},sendRealTimeNotification(n){const e={duration:n.priority==="critical"?1e4:4e3,position:"top-right"};switch(n.type){case"alert":case"critical":Bi.error(n.message,e);break;case"warning":Bi(" "+n.message,e);break;case"success":Bi.success(n.message,e);break;default:Bi(n.message,e)}},subscribeToNotifications(n){const e=async()=>{try{const s=await this.getNotifications({unreadOnly:!0});n(s),s.forEach(o=>{o.delivered||this.sendRealTimeNotification(o)})}catch(s){console.error("Error polling notifications:",s)}};e();const t=setInterval(e,3e4);return()=>clearInterval(t)},async sendHazardAlert(n){try{const e={type:"alert",priority:"critical",title:"Ocean Hazard Alert",message:n.message,hazardType:n.hazardType,location:n.location,severity:n.severity,actionRequired:n.actionRequired||"Stay alert and follow safety guidelines",expiresAt:n.expiresAt,broadcastToAll:!0};return e.broadcastToAll?await this.broadcastAlert(e):await this.sendNotification({...e,userId:n.userId})}catch(e){throw console.error("Error sending hazard alert:",e),e}},async broadcastAlert(n){var e,t;try{const s=await bt.post(`${Qr}/notifications/broadcast`,n,{headers:this.getAuthHeaders()});return this.sendRealTimeNotification(n),{success:!0,message:s.data.message}}catch(s){throw console.error("Error broadcasting alert:",s),new Error(((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Failed to broadcast alert")}},async generateAutomatedAlerts(){var n,e;try{return(await bt.post(`${Qr}/alerts/generate`,{},{headers:this.getAuthHeaders()})).data}catch(t){throw console.error("Error generating automated alerts:",t),new Error(((e=(n=t.response)==null?void 0:n.data)==null?void 0:e.error)||"Failed to generate automated alerts")}},async getAlertStats(){try{const n=await this.getNotifications(null,{type:"alert",limit:100}),e={total:n.length,critical:0,warning:0,info:0,recent:0},t=Date.now()-1440*60*1e3;return n.forEach(s=>{e[s.priority]=(e[s.priority]||0)+1,new Date(s.timestamp).getTime()>t&&e.recent++}),e}catch(n){return console.error("Error getting alert stats:",n),{total:0,critical:0,warning:0,info:0,recent:0}}}},lj=({user:n})=>{const[e,t]=H.useState([]),[s,o]=H.useState({}),[c,f]=H.useState([]),[y,v]=H.useState(""),[x,w]=H.useState("");H.useEffect(()=>fr.subscribe((F,z)=>{t(F),o(fr.getStatistics());const ce=F.filter($=>$.status==="active"&&($.severity==="critical"||$.severity==="high"));f(ce),v(new Date().toLocaleTimeString())}),[]);const N=[{name:"Coast Guard Vessels",available:12,deployed:3,status:"operational"},{name:"Emergency Teams",available:8,deployed:2,status:"operational"},{name:"Medical Units",available:15,deployed:1,status:"operational"},{name:"Evacuation Centers",available:25,deployed:0,status:"standby"}],R=(O,F)=>{console.log(`${F} action for incident:`,O.id)},P=async()=>{if(x.trim()!=="")try{await oj.sendHazardAlert({message:x,hazardType:"general",severity:"critical",location:(n==null?void 0:n.district)||"Mumbai Coastal"}),w("")}catch(O){console.error("Error sending alert:",O)}};return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Operations Command Center"}),d.jsx("p",{className:"text-gray-600 mt-2",children:"Real-time incident management and resource coordination"}),d.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[d.jsx(Jr,{className:"w-4 h-4 text-green-500"}),d.jsx("span",{className:"text-sm text-green-600",children:"All Systems Operational"}),d.jsxs("span",{className:"text-sm text-gray-500",children:[" Last updated ",y]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-sm text-gray-500",children:"Command Zone"}),d.jsx("div",{className:"text-lg font-semibold text-gray-900",children:(n==null?void 0:n.district)||"Mumbai Coastal"}),d.jsx("div",{className:"text-sm text-gray-600",children:(n==null?void 0:n.state)||"Maharashtra"})]})]})}),c.length>0&&d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(js,{className:"w-6 h-6 text-red-600"}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-red-800",children:[c.length," Critical Incident",c.length>1?"s":""," Requiring Attention"]}),d.jsxs("p",{className:"text-red-700",children:["Immediate response needed for ",c.filter(O=>O.severity==="critical").length," critical situations"]})]}),d.jsx("button",{className:"btn-primary bg-red-600 hover:bg-red-700",children:"Command Response"})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Active Incidents"}),d.jsx(js,{className:"w-5 h-5 text-red-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:s.active||0}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Requiring response"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Critical Alerts"}),d.jsx(eh,{className:"w-5 h-5 text-orange-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:s.critical||0}),d.jsx("p",{className:"text-gray-500 text-sm",children:"High priority"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Resources Deployed"}),d.jsx(Cx,{className:"w-5 h-5 text-blue-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"6"}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Teams in field"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Response Time"}),d.jsx(uf,{className:"w-5 h-5 text-green-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"12m"}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Average today"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Active Incidents"}),d.jsx("button",{className:"btn-secondary",children:"View All"})]}),d.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:c.slice(0,5).map(O=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsx("div",{className:"flex items-start justify-between mb-3",children:d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-gray-900",children:O.title}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:O.description}),d.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm",children:[d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${O.severity==="critical"?"bg-red-100 text-red-800":O.severity==="high"?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800"}`,children:O.severity.toUpperCase()}),d.jsxs("span",{className:"text-gray-500",children:[d.jsx(_o,{className:"w-3 h-3 inline mr-1"}),O.location.district]}),d.jsx("span",{className:"text-gray-500",children:new Date(O.reportedAt).toLocaleTimeString()})]})]})}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:()=>R(O,"acknowledge"),className:"btn-secondary text-sm px-3 py-1",children:"Acknowledge"}),d.jsx("button",{onClick:()=>R(O,"dispatch"),className:"btn-primary text-sm px-3 py-1",children:"Dispatch Team"}),d.jsx("button",{onClick:()=>R(O,"escalate"),className:"btn-secondary text-sm px-3 py-1 border-orange-300 text-orange-700 hover:bg-orange-50",children:"Escalate"})]})]},O.id))})]}),d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Resource Status"}),d.jsx("div",{className:"space-y-4",children:N.map((O,F)=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h4",{className:"font-semibold text-gray-900",children:O.name}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${O.status==="operational"?"bg-green-100 text-green-800":O.status==="standby"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:O.status.toUpperCase()})]}),d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsxs("div",{className:"flex space-x-4",children:[d.jsxs("span",{className:"text-green-600",children:[d.jsx(Gf,{className:"w-4 h-4 inline mr-1"}),O.available," Available"]}),d.jsxs("span",{className:"text-blue-600",children:[d.jsx(Jr,{className:"w-4 h-4 inline mr-1"}),O.deployed," Deployed"]})]}),d.jsx("button",{className:"text-blue-600 hover:text-blue-700 font-medium",children:"Manage"})]})]},F))})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Quick Commands"}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("textarea",{className:"w-full input",placeholder:"Enter alert message...",value:x,onChange:O=>w(O.target.value)}),d.jsxs("button",{onClick:P,className:"w-full btn-primary flex items-center justify-center space-x-3 py-3",children:[d.jsx(js,{className:"w-5 h-5"}),d.jsx("span",{children:"Issue Public Alert"})]}),d.jsxs("button",{className:"w-full btn-secondary flex items-center justify-center space-x-3 py-3",children:[d.jsx(Rx,{className:"w-5 h-5"}),d.jsx("span",{children:"Contact Field Teams"})]}),d.jsxs("button",{className:"w-full btn-secondary flex items-center justify-center space-x-3 py-3",children:[d.jsx(Cx,{className:"w-5 h-5"}),d.jsx("span",{children:"Deploy Resources"})]}),d.jsxs("button",{className:"w-full btn-secondary flex items-center justify-center space-x-3 py-3",children:[d.jsx(hf,{className:"w-5 h-5"}),d.jsx("span",{children:"Generate Report"})]})]})]}),d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Communications"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-green-800",children:"Coast Guard HQ"}),d.jsx("div",{className:"text-sm text-green-600",children:"Online  Ready"})]}),d.jsx("button",{className:"btn-primary bg-green-600 hover:bg-green-700",children:d.jsx(ol,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-blue-800",children:"Field Team Alpha"}),d.jsx("div",{className:"text-sm text-blue-600",children:"In transit  ETA 15m"})]}),d.jsx("button",{className:"btn-primary bg-blue-600 hover:bg-blue-700",children:d.jsx(Rx,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-purple-800",children:"State Control"}),d.jsx("div",{className:"text-sm text-purple-600",children:"Standby  Monitoring"})]}),d.jsx("button",{className:"btn-primary bg-purple-600 hover:bg-purple-700",children:d.jsx(ol,{className:"w-4 h-4"})})]})]})]}),d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Situational Awareness"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[d.jsx("div",{className:"font-semibold text-blue-800",children:"Weather Update"}),d.jsx("div",{className:"text-sm text-blue-600 mt-1",children:"Moderate winds expected. Sea conditions: Rough. Visibility: Good"})]}),d.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[d.jsx("div",{className:"font-semibold text-green-800",children:"Traffic Status"}),d.jsx("div",{className:"text-sm text-green-600 mt-1",children:"All evacuation routes clear. Emergency lanes available"})]}),d.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg",children:[d.jsx("div",{className:"font-semibold text-yellow-800",children:"Public Readiness"}),d.jsx("div",{className:"text-sm text-yellow-600 mt-1",children:"85% evacuation compliance. 3 shelter requests pending"})]})]})]})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Operations Map"}),d.jsx("button",{className:"btn-secondary",children:"Full Screen View"})]}),d.jsx("div",{className:"h-96",children:d.jsx(fh,{height:"384px",showControls:!0})})]})]})};let cj=class{constructor(){this.isGenerating=!1,this.generationInterval=null,this.reportCount=0,this.config={platforms:["twitter","facebook","instagram","youtube"],hazardTypes:["cyclone","tsunami","flood","storm","high_waves","coastal_erosion"],locations:[{name:"Chennai",lat:13.0827,lng:80.2707,radius:.5},{name:"Mumbai",lat:19.076,lng:72.8777,radius:.5},{name:"Kochi",lat:9.9312,lng:76.2673,radius:.5},{name:"Visakhapatnam",lat:17.6868,lng:83.2185,radius:.5},{name:"Goa",lat:15.2993,lng:74.124,radius:.5},{name:"Puducherry",lat:11.9139,lng:79.8145,radius:.5},{name:"Kolkata",lat:22.5726,lng:88.3639,radius:.5},{name:"Thiruvananthapuram",lat:8.5241,lng:76.9366,radius:.5}],authors:["CoastalWatch","WeatherAlert","OceanSafety","MarineGuard","BeachPatrol","StormTracker","TideMonitor","CoastGuardOfficial","FishermanAlert","MarineWeather","CoastalResident","WeatherWatcher2024"]}}generateSyntheticPost(e={}){const{hazardType:t=this.getRandomItem(this.config.hazardTypes),location:s=this.getRandomItem(this.config.locations),platform:o=this.getRandomItem(this.config.platforms),author:c=this.getRandomItem(this.config.authors),severity:f=this.getRandomSeverity(),sentiment:y=this.getRandomSentiment()}=e,v=this.generateCoordinatesInRadius(s.lat,s.lng,s.radius),x=this.generateContent(t,s.name,y,f),w=this.calculateSentimentScore(x,y),N=this.extractKeywords(x,t),R=this.generateEngagement(y,f);return{id:`synthetic_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,platform:o,content:x,author:c,timestamp:new Date(Date.now()-Math.random()*24*60*60*1e3).toISOString(),sentiment:{label:y,score:w},keywords:N,isHazardRelated:!0,location:{name:s.name,lat:v.lat,lng:v.lng},relevanceScore:this.calculateRelevanceScore(N,y,f),engagement:R,isSynthetic:!0,generatedAt:new Date().toISOString(),hazardType:t,severity:f}}generateMultiplePosts(e=5,t={}){const s=[];for(let o=0;o<e;o++)s.push(this.generateSyntheticPost(t));return s}startGeneration(e=5,t=3,s){if(this.isGenerating){console.warn("Synthetic report generation is already running");return}return this.isGenerating=!0,console.log(`Starting synthetic report generation: ${t} posts every ${e} minutes`),this.generationInterval=setInterval(()=>{const o=this.generateMultiplePosts(t);this.reportCount+=o.length,s&&typeof s=="function"&&s(o),console.log(`Generated ${o.length} synthetic reports. Total: ${this.reportCount}`)},e*60*1e3),this.generationInterval}stopGeneration(){this.generationInterval&&(clearInterval(this.generationInterval),this.generationInterval=null),this.isGenerating=!1,console.log(`Stopped synthetic report generation. Total generated: ${this.reportCount}`)}getStatus(){return{isGenerating:this.isGenerating,reportCount:this.reportCount,intervalId:this.generationInterval}}getRandomItem(e){return e[Math.floor(Math.random()*e.length)]}getRandomSeverity(){const e=["low","medium","high","critical"],t=[.3,.4,.2,.1],s=Math.random();let o=0;for(let c=0;c<e.length;c++)if(o+=t[c],s<=o)return e[c];return"medium"}getRandomSentiment(){const e=["positive","neutral","negative"],t=[.1,.3,.6],s=Math.random();let o=0;for(let c=0;c<e.length;c++)if(o+=t[c],s<=o)return e[c];return"negative"}generateCoordinatesInRadius(e,t,s){const o=s/111.32,c=Math.random(),f=Math.random(),y=o*Math.sqrt(c),v=2*Math.PI*f,x=y*Math.cos(v),w=y*Math.sin(v);return{lat:e+w,lng:t+x}}generateContent(e,t,s,o){const c={cyclone:{negative:[`Cyclone warning issued for ${t} coast. Strong winds and heavy rainfall expected. Stay indoors and follow safety guidelines. #CycloneAlert`,`Emergency alert: Cyclone approaching ${t}. Fishermen advised to return to shore immediately. Coastal areas on high alert. #WeatherEmergency`,`Severe cyclonic storm developing near ${t}. Expected to make landfall in next 24 hours. Evacuation preparations underway. #CycloneWarning`],neutral:[`Weather update: Cyclonic conditions developing near ${t}. Monitoring the situation closely. #WeatherUpdate`,`Cyclone watch issued for ${t} coastal region. Residents advised to stay informed. #WeatherAlert`],positive:[`Cyclone threat for ${t} appears to be weakening. Weather conditions improving. #WeatherUpdate`]},tsunami:{negative:[`TSUNAMI WARNING: ${t} coast under threat. Move to higher ground immediately. Emergency services activated. #TsunamiAlert`,`Earthquake detected - Tsunami watch issued for ${t}. Coastal evacuation in progress. #EmergencyAlert`,`URGENT: Tsunami waves approaching ${t}. Height estimated at 3-5 meters. Seek immediate shelter inland. #TsunamiWarning`],neutral:[`Tsunami advisory issued for ${t} following seismic activity. Monitoring wave patterns. #TsunamiWatch`,`Seismic event detected near ${t}. Tsunami evaluation in progress. #EarthquakeAlert`],positive:[`Tsunami threat for ${t} has been cancelled. All clear signal given. #AllClear`]},flood:{negative:[`FLOOD WARNING: ${t} experiencing heavy flooding. Low-lying areas underwater. Emergency response teams deployed. #FloodAlert`,`Flash flood emergency in ${t}. Rivers overflowing, roads impassable. Stay away from water bodies. #WeatherEmergency`,`Coastal flooding reported in ${t}. Storm surge causing significant water rise. Evacuation recommended. #CoastalFlood`],neutral:[`Flood watch issued for ${t} area. Heavy rainfall expected. Monitor local conditions. #WeatherWatch`,`Rising water levels observed in ${t}. Flood preparations advised. #FloodWatch`],positive:[`Flood waters in ${t} are receding. Situation improving gradually. #WeatherUpdate`]},storm:{negative:[`Severe storm warning for ${t}. Gale force winds and heavy rain expected. Secure loose objects and stay indoors. #StormAlert`,`Dangerous storm conditions in ${t}. Power outages reported, fallen trees blocking roads. Emergency services responding. #StormWarning`,`Storm emergency: ${t} under attack from severe weather. Lightning strikes and strong winds causing damage. #SevereWeather`],neutral:[`Storm watch issued for ${t} region. Thunderstorms possible in coming hours. #WeatherWatch`,`Weather advisory: Storm developing near ${t}. Monitor for updates. #StormWatch`],positive:[`Storm over ${t} has passed. Weather conditions returning to normal. #WeatherUpdate`]}},f=c[e]||c.cyclone,y=f[s]||f.negative;return this.getRandomItem(y)}calculateSentimentScore(e,t){const s=["warning","alert","emergency","danger","flood","storm","cyclone","tsunami","evacuation","damage"],o=["clear","safe","improving","normal","passed","receding","cancelled"];let c=0;const f=e.toLowerCase();return s.forEach(y=>{f.includes(y)&&(c-=2)}),o.forEach(y=>{f.includes(y)&&(c+=1)}),t==="negative"?c-=3:t==="positive"&&(c+=2),Math.max(-10,Math.min(10,c))}extractKeywords(e,t){const s=["tsunami","cyclone","storm","flood","wave","surge","tide","coastal","marine","ocean","sea","beach","erosion","current","warning","alert","emergency","evacuation","rescue","safety","fishermen","vessel","boat","harbor","port","coast guard","imd","incois","meteorological","weather","wind","pressure"],o=[t],c=e.toLowerCase();return s.forEach(f=>{c.includes(f)&&!o.includes(f)&&o.push(f)}),o}generateEngagement(e,t){let s=Math.floor(Math.random()*100)+50,o=Math.floor(Math.random()*50)+10,c=Math.floor(Math.random()*30)+5;return e==="negative"&&(s*=2,o*=3,c*=2),(t==="critical"||t==="high")&&(s*=1.5,o*=2,c*=1.5),{likes:Math.floor(s),shares:Math.floor(o),comments:Math.floor(c)}}calculateRelevanceScore(e,t,s){let o=e.length*15;return t==="negative"&&(o+=20),s==="critical"?o+=30:s==="high"?o+=20:s==="medium"&&(o+=10),Math.min(100,Math.round(o))}};const ag=new cj,uj=()=>{};var Kx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},hj=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=n[t++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=n[t++],f=n[t++],y=n[t++],v=((o&7)<<18|(c&63)<<12|(f&63)<<6|y&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const c=n[t++],f=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},L1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const c=n[o],f=o+1<n.length,y=f?n[o+1]:0,v=o+2<n.length,x=v?n[o+2]:0,w=c>>2,N=(c&3)<<4|y>>4;let R=(y&15)<<2|x>>6,P=x&63;v||(P=64,f||(R=64)),s.push(t[w],t[N],t[R],t[P])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(k1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):hj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const c=t[n.charAt(o++)],y=o<n.length?t[n.charAt(o)]:0;++o;const x=o<n.length?t[n.charAt(o)]:64;++o;const N=o<n.length?t[n.charAt(o)]:64;if(++o,c==null||y==null||x==null||N==null)throw new dj;const R=c<<2|y>>4;if(s.push(R),x!==64){const P=y<<4&240|x>>2;if(s.push(P),N!==64){const O=x<<6&192|N;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class dj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fj=function(n){const e=k1(n);return L1.encodeByteArray(e,!0)},pf=function(n){return fj(n).replace(/\./g,"")},V1=function(n){try{return L1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=()=>mj().__FIREBASE_DEFAULTS__,gj=()=>{if(typeof process>"u"||typeof Kx>"u")return;const n=Kx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},yj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&V1(n[1]);return e&&JSON.parse(e)},Qf=()=>{try{return uj()||pj()||gj()||yj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},U1=n=>{var e,t;return(t=(e=Qf())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},z1=n=>{const e=U1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},B1=()=>{var n;return(n=Qf())==null?void 0:n.config},H1=n=>{var e;return(e=Qf())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ey(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...n};return[pf(JSON.stringify(t)),pf(JSON.stringify(f)),""].join(".")}const Zu={};function vj(){const n={prod:[],emulator:[]};for(const e of Object.keys(Zu))Zu[e]?n.emulator.push(e):n.prod.push(e);return n}function xj(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Yx=!1;function Ty(n,e){if(typeof window>"u"||typeof document>"u"||!wl(window.location.host)||Zu[n]===e||Zu[n]||Yx)return;Zu[n]=e;function t(R){return`__firebase__banner__${R}`}const s="__firebase__banner",c=vj().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function y(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function v(R,P){R.setAttribute("width","24"),R.setAttribute("id",P),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function x(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{Yx=!0,f()},R}function w(R,P){R.setAttribute("id",P),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function N(){const R=xj(s),P=t("text"),O=document.getElementById(P)||document.createElement("span"),F=t("learnmore"),z=document.getElementById(F)||document.createElement("a"),ce=t("preprendIcon"),$=document.getElementById(ce)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const W=R.element;y(W),w(z,F);const we=x();v($,ce),W.append($,O,z,we),document.body.appendChild(W)}c?(O.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function wj(){var e;const n=(e=Qf())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ej(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Tj(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Sj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Nj(){const n=Hn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Aj(){return!wj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Rj(){try{return typeof indexedDB=="object"}catch{return!1}}function Cj(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij="FirebaseError";class yr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=Ij,Object.setPrototypeOf(this,yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_h.prototype.create)}}class _h{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?jj(c,s):"Error",y=`${this.serviceName}: ${f} (${o}).`;return new yr(o,y,s)}}function jj(n,e){return n.replace(Oj,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Oj=/\{\$([^}]+)}/g;function Pj(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function yl(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const c=n[o],f=e[o];if(Wx(c)&&Wx(f)){if(!yl(c,f))return!1}else if(c!==f)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Wx(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Mj(n,e){const t=new Dj(n,e);return t.subscribe.bind(t)}class Dj{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");kj(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=og),o.error===void 0&&(o.error=og),o.complete===void 0&&(o.complete=og);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kj(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function og(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(n){return n&&n._delegate?n._delegate:n}class vo{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new _j;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Uj(e))try{this.getOrInitializeService({instanceIdentifier:al})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=al){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=al){return this.instances.has(e)}getOptions(e=al){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[c,f]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);s===y&&f.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Vj(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=al){return this.component?this.component.multipleInstances?e:al:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Vj(n){return n===al?void 0:n}function Uj(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Lj(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ot||(ot={}));const Bj={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},Hj=ot.INFO,Fj={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},qj=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=Fj[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sy{constructor(e){this.name=e,this._logLevel=Hj,this._logHandler=qj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Bj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const Gj=(n,e)=>e.some(t=>n instanceof t);let Qx,Xx;function $j(){return Qx||(Qx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zj(){return Xx||(Xx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const q1=new WeakMap,Dg=new WeakMap,G1=new WeakMap,lg=new WeakMap,Ny=new WeakMap;function Kj(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",c),n.removeEventListener("error",f)},c=()=>{t(ho(n.result)),o()},f=()=>{s(n.error),o()};n.addEventListener("success",c),n.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&q1.set(t,n)}).catch(()=>{}),Ny.set(e,n),e}function Yj(n){if(Dg.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",f),n.removeEventListener("abort",f)},c=()=>{t(),o()},f=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",c),n.addEventListener("error",f),n.addEventListener("abort",f)});Dg.set(n,e)}let kg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Dg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||G1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ho(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Wj(n){kg=n(kg)}function Qj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(cg(this),e,...t);return G1.set(s,e.sort?e.sort():[e]),ho(s)}:Zj().includes(n)?function(...e){return n.apply(cg(this),e),ho(q1.get(this))}:function(...e){return ho(n.apply(cg(this),e))}}function Xj(n){return typeof n=="function"?Qj(n):(n instanceof IDBTransaction&&Yj(n),Gj(n,$j())?new Proxy(n,kg):n)}function ho(n){if(n instanceof IDBRequest)return Kj(n);if(lg.has(n))return lg.get(n);const e=Xj(n);return e!==n&&(lg.set(n,e),Ny.set(e,n)),e}const cg=n=>Ny.get(n);function Jj(n,e,{blocked:t,upgrade:s,blocking:o,terminated:c}={}){const f=indexedDB.open(n,e),y=ho(f);return s&&f.addEventListener("upgradeneeded",v=>{s(ho(f.result),v.oldVersion,v.newVersion,ho(f.transaction),v)}),t&&f.addEventListener("blocked",v=>t(v.oldVersion,v.newVersion,v)),y.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",x=>o(x.oldVersion,x.newVersion,x))}).catch(()=>{}),y}const eO=["get","getKey","getAll","getAllKeys","count"],tO=["put","add","delete","clear"],ug=new Map;function Jx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ug.get(e))return ug.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=tO.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||eO.includes(t)))return;const c=async function(f,...y){const v=this.transaction(f,o?"readwrite":"readonly");let x=v.store;return s&&(x=x.index(y.shift())),(await Promise.all([x[t](...y),o&&v.done]))[0]};return ug.set(e,c),c}Wj(n=>({...n,get:(e,t,s)=>Jx(e,t)||n.get(e,t,s),has:(e,t)=>!!Jx(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(iO(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function iO(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lg="@firebase/app",eb="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new Sy("@firebase/app"),sO="@firebase/app-compat",rO="@firebase/analytics-compat",aO="@firebase/analytics",oO="@firebase/app-check-compat",lO="@firebase/app-check",cO="@firebase/auth",uO="@firebase/auth-compat",hO="@firebase/database",dO="@firebase/data-connect",fO="@firebase/database-compat",mO="@firebase/functions",pO="@firebase/functions-compat",gO="@firebase/installations",yO="@firebase/installations-compat",_O="@firebase/messaging",vO="@firebase/messaging-compat",xO="@firebase/performance",bO="@firebase/performance-compat",wO="@firebase/remote-config",EO="@firebase/remote-config-compat",TO="@firebase/storage",SO="@firebase/storage-compat",NO="@firebase/firestore",AO="@firebase/ai",RO="@firebase/firestore-compat",CO="firebase",IO="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="[DEFAULT]",jO={[Lg]:"fire-core",[sO]:"fire-core-compat",[aO]:"fire-analytics",[rO]:"fire-analytics-compat",[lO]:"fire-app-check",[oO]:"fire-app-check-compat",[cO]:"fire-auth",[uO]:"fire-auth-compat",[hO]:"fire-rtdb",[dO]:"fire-data-connect",[fO]:"fire-rtdb-compat",[mO]:"fire-fn",[pO]:"fire-fn-compat",[gO]:"fire-iid",[yO]:"fire-iid-compat",[_O]:"fire-fcm",[vO]:"fire-fcm-compat",[xO]:"fire-perf",[bO]:"fire-perf-compat",[wO]:"fire-rc",[EO]:"fire-rc-compat",[TO]:"fire-gcs",[SO]:"fire-gcs-compat",[NO]:"fire-fst",[RO]:"fire-fst-compat",[AO]:"fire-vertex","fire-js":"fire-js",[CO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf=new Map,OO=new Map,Ug=new Map;function tb(n,e){try{n.container.addComponent(e)}catch(t){oa.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function _l(n){const e=n.name;if(Ug.has(e))return oa.debug(`There were multiple attempts to register component ${e}.`),!1;Ug.set(e,n);for(const t of gf.values())tb(t,n);for(const t of OO.values())tb(t,n);return!0}function Xf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function As(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fo=new _h("app","Firebase",PO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new vo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=IO;function $1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:Vg,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw fo.create("bad-app-name",{appName:String(o)});if(t||(t=B1()),!t)throw fo.create("no-options");const c=gf.get(o);if(c){if(yl(t,c.options)&&yl(s,c.config))return c;throw fo.create("duplicate-app",{appName:o})}const f=new zj(o);for(const v of Ug.values())f.addComponent(v);const y=new MO(t,s,f);return gf.set(o,y),y}function Ay(n=Vg){const e=gf.get(n);if(!e&&n===Vg&&B1())return $1();if(!e)throw fo.create("no-app",{appName:n});return e}function rr(n,e,t){let s=jO[n]??n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oa.warn(f.join(" "));return}_l(new vo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="firebase-heartbeat-database",kO=1,th="firebase-heartbeat-store";let hg=null;function Z1(){return hg||(hg=Jj(DO,kO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(th)}catch(t){console.warn(t)}}}}).catch(n=>{throw fo.create("idb-open",{originalErrorMessage:n.message})})),hg}async function LO(n){try{const t=(await Z1()).transaction(th),s=await t.objectStore(th).get(K1(n));return await t.done,s}catch(e){if(e instanceof yr)oa.warn(e.message);else{const t=fo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oa.warn(t.message)}}}async function nb(n,e){try{const s=(await Z1()).transaction(th,"readwrite");await s.objectStore(th).put(e,K1(n)),await s.done}catch(t){if(t instanceof yr)oa.warn(t.message);else{const s=fo.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});oa.warn(s.message)}}}function K1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=1024,UO=30;class zO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new HO(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=ib();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>UO){const f=FO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){oa.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ib(),{heartbeatsToSend:s,unsentEntries:o}=BO(this._heartbeatsCache.heartbeats),c=pf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(t){return oa.warn(t),""}}}function ib(){return new Date().toISOString().substring(0,10)}function BO(n,e=VO){const t=[];let s=n.slice();for(const o of n){const c=t.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),sb(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),sb(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class HO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Rj()?Cj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await LO(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return nb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return nb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function sb(n){return pf(JSON.stringify({version:2,heartbeats:n})).length}function FO(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(n){_l(new vo("platform-logger",e=>new nO(e),"PRIVATE")),_l(new vo("heartbeat",e=>new zO(e),"PRIVATE")),rr(Lg,eb,n),rr(Lg,eb,"esm2020"),rr("fire-js","")}qO("");var rb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mo,Y1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(Z,V){function U(){}U.prototype=V.prototype,Z.F=V.prototype,Z.prototype=new U,Z.prototype.constructor=Z,Z.D=function(K,B,M){for(var D=Array(arguments.length-2),de=2;de<arguments.length;de++)D[de-2]=arguments[de];return V.prototype[B].apply(K,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(Z,V,U){U||(U=0);const K=Array(16);if(typeof V=="string")for(var B=0;B<16;++B)K[B]=V.charCodeAt(U++)|V.charCodeAt(U++)<<8|V.charCodeAt(U++)<<16|V.charCodeAt(U++)<<24;else for(B=0;B<16;++B)K[B]=V[U++]|V[U++]<<8|V[U++]<<16|V[U++]<<24;V=Z.g[0],U=Z.g[1],B=Z.g[2];let M=Z.g[3],D;D=V+(M^U&(B^M))+K[0]+3614090360&4294967295,V=U+(D<<7&4294967295|D>>>25),D=M+(B^V&(U^B))+K[1]+3905402710&4294967295,M=V+(D<<12&4294967295|D>>>20),D=B+(U^M&(V^U))+K[2]+606105819&4294967295,B=M+(D<<17&4294967295|D>>>15),D=U+(V^B&(M^V))+K[3]+3250441966&4294967295,U=B+(D<<22&4294967295|D>>>10),D=V+(M^U&(B^M))+K[4]+4118548399&4294967295,V=U+(D<<7&4294967295|D>>>25),D=M+(B^V&(U^B))+K[5]+1200080426&4294967295,M=V+(D<<12&4294967295|D>>>20),D=B+(U^M&(V^U))+K[6]+2821735955&4294967295,B=M+(D<<17&4294967295|D>>>15),D=U+(V^B&(M^V))+K[7]+4249261313&4294967295,U=B+(D<<22&4294967295|D>>>10),D=V+(M^U&(B^M))+K[8]+1770035416&4294967295,V=U+(D<<7&4294967295|D>>>25),D=M+(B^V&(U^B))+K[9]+2336552879&4294967295,M=V+(D<<12&4294967295|D>>>20),D=B+(U^M&(V^U))+K[10]+4294925233&4294967295,B=M+(D<<17&4294967295|D>>>15),D=U+(V^B&(M^V))+K[11]+2304563134&4294967295,U=B+(D<<22&4294967295|D>>>10),D=V+(M^U&(B^M))+K[12]+1804603682&4294967295,V=U+(D<<7&4294967295|D>>>25),D=M+(B^V&(U^B))+K[13]+4254626195&4294967295,M=V+(D<<12&4294967295|D>>>20),D=B+(U^M&(V^U))+K[14]+2792965006&4294967295,B=M+(D<<17&4294967295|D>>>15),D=U+(V^B&(M^V))+K[15]+1236535329&4294967295,U=B+(D<<22&4294967295|D>>>10),D=V+(B^M&(U^B))+K[1]+4129170786&4294967295,V=U+(D<<5&4294967295|D>>>27),D=M+(U^B&(V^U))+K[6]+3225465664&4294967295,M=V+(D<<9&4294967295|D>>>23),D=B+(V^U&(M^V))+K[11]+643717713&4294967295,B=M+(D<<14&4294967295|D>>>18),D=U+(M^V&(B^M))+K[0]+3921069994&4294967295,U=B+(D<<20&4294967295|D>>>12),D=V+(B^M&(U^B))+K[5]+3593408605&4294967295,V=U+(D<<5&4294967295|D>>>27),D=M+(U^B&(V^U))+K[10]+38016083&4294967295,M=V+(D<<9&4294967295|D>>>23),D=B+(V^U&(M^V))+K[15]+3634488961&4294967295,B=M+(D<<14&4294967295|D>>>18),D=U+(M^V&(B^M))+K[4]+3889429448&4294967295,U=B+(D<<20&4294967295|D>>>12),D=V+(B^M&(U^B))+K[9]+568446438&4294967295,V=U+(D<<5&4294967295|D>>>27),D=M+(U^B&(V^U))+K[14]+3275163606&4294967295,M=V+(D<<9&4294967295|D>>>23),D=B+(V^U&(M^V))+K[3]+4107603335&4294967295,B=M+(D<<14&4294967295|D>>>18),D=U+(M^V&(B^M))+K[8]+1163531501&4294967295,U=B+(D<<20&4294967295|D>>>12),D=V+(B^M&(U^B))+K[13]+2850285829&4294967295,V=U+(D<<5&4294967295|D>>>27),D=M+(U^B&(V^U))+K[2]+4243563512&4294967295,M=V+(D<<9&4294967295|D>>>23),D=B+(V^U&(M^V))+K[7]+1735328473&4294967295,B=M+(D<<14&4294967295|D>>>18),D=U+(M^V&(B^M))+K[12]+2368359562&4294967295,U=B+(D<<20&4294967295|D>>>12),D=V+(U^B^M)+K[5]+4294588738&4294967295,V=U+(D<<4&4294967295|D>>>28),D=M+(V^U^B)+K[8]+2272392833&4294967295,M=V+(D<<11&4294967295|D>>>21),D=B+(M^V^U)+K[11]+1839030562&4294967295,B=M+(D<<16&4294967295|D>>>16),D=U+(B^M^V)+K[14]+4259657740&4294967295,U=B+(D<<23&4294967295|D>>>9),D=V+(U^B^M)+K[1]+2763975236&4294967295,V=U+(D<<4&4294967295|D>>>28),D=M+(V^U^B)+K[4]+1272893353&4294967295,M=V+(D<<11&4294967295|D>>>21),D=B+(M^V^U)+K[7]+4139469664&4294967295,B=M+(D<<16&4294967295|D>>>16),D=U+(B^M^V)+K[10]+3200236656&4294967295,U=B+(D<<23&4294967295|D>>>9),D=V+(U^B^M)+K[13]+681279174&4294967295,V=U+(D<<4&4294967295|D>>>28),D=M+(V^U^B)+K[0]+3936430074&4294967295,M=V+(D<<11&4294967295|D>>>21),D=B+(M^V^U)+K[3]+3572445317&4294967295,B=M+(D<<16&4294967295|D>>>16),D=U+(B^M^V)+K[6]+76029189&4294967295,U=B+(D<<23&4294967295|D>>>9),D=V+(U^B^M)+K[9]+3654602809&4294967295,V=U+(D<<4&4294967295|D>>>28),D=M+(V^U^B)+K[12]+3873151461&4294967295,M=V+(D<<11&4294967295|D>>>21),D=B+(M^V^U)+K[15]+530742520&4294967295,B=M+(D<<16&4294967295|D>>>16),D=U+(B^M^V)+K[2]+3299628645&4294967295,U=B+(D<<23&4294967295|D>>>9),D=V+(B^(U|~M))+K[0]+4096336452&4294967295,V=U+(D<<6&4294967295|D>>>26),D=M+(U^(V|~B))+K[7]+1126891415&4294967295,M=V+(D<<10&4294967295|D>>>22),D=B+(V^(M|~U))+K[14]+2878612391&4294967295,B=M+(D<<15&4294967295|D>>>17),D=U+(M^(B|~V))+K[5]+4237533241&4294967295,U=B+(D<<21&4294967295|D>>>11),D=V+(B^(U|~M))+K[12]+1700485571&4294967295,V=U+(D<<6&4294967295|D>>>26),D=M+(U^(V|~B))+K[3]+2399980690&4294967295,M=V+(D<<10&4294967295|D>>>22),D=B+(V^(M|~U))+K[10]+4293915773&4294967295,B=M+(D<<15&4294967295|D>>>17),D=U+(M^(B|~V))+K[1]+2240044497&4294967295,U=B+(D<<21&4294967295|D>>>11),D=V+(B^(U|~M))+K[8]+1873313359&4294967295,V=U+(D<<6&4294967295|D>>>26),D=M+(U^(V|~B))+K[15]+4264355552&4294967295,M=V+(D<<10&4294967295|D>>>22),D=B+(V^(M|~U))+K[6]+2734768916&4294967295,B=M+(D<<15&4294967295|D>>>17),D=U+(M^(B|~V))+K[13]+1309151649&4294967295,U=B+(D<<21&4294967295|D>>>11),D=V+(B^(U|~M))+K[4]+4149444226&4294967295,V=U+(D<<6&4294967295|D>>>26),D=M+(U^(V|~B))+K[11]+3174756917&4294967295,M=V+(D<<10&4294967295|D>>>22),D=B+(V^(M|~U))+K[2]+718787259&4294967295,B=M+(D<<15&4294967295|D>>>17),D=U+(M^(B|~V))+K[9]+3951481745&4294967295,Z.g[0]=Z.g[0]+V&4294967295,Z.g[1]=Z.g[1]+(B+(D<<21&4294967295|D>>>11))&4294967295,Z.g[2]=Z.g[2]+B&4294967295,Z.g[3]=Z.g[3]+M&4294967295}s.prototype.v=function(Z,V){V===void 0&&(V=Z.length);const U=V-this.blockSize,K=this.C;let B=this.h,M=0;for(;M<V;){if(B==0)for(;M<=U;)o(this,Z,M),M+=this.blockSize;if(typeof Z=="string"){for(;M<V;)if(K[B++]=Z.charCodeAt(M++),B==this.blockSize){o(this,K),B=0;break}}else for(;M<V;)if(K[B++]=Z[M++],B==this.blockSize){o(this,K),B=0;break}}this.h=B,this.o+=V},s.prototype.A=function(){var Z=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);Z[0]=128;for(var V=1;V<Z.length-8;++V)Z[V]=0;V=this.o*8;for(var U=Z.length-8;U<Z.length;++U)Z[U]=V&255,V/=256;for(this.v(Z),Z=Array(16),V=0,U=0;U<4;++U)for(let K=0;K<32;K+=8)Z[V++]=this.g[U]>>>K&255;return Z};function c(Z,V){var U=y;return Object.prototype.hasOwnProperty.call(U,Z)?U[Z]:U[Z]=V(Z)}function f(Z,V){this.h=V;const U=[];let K=!0;for(let B=Z.length-1;B>=0;B--){const M=Z[B]|0;K&&M==V||(U[B]=M,K=!1)}this.g=U}var y={};function v(Z){return-128<=Z&&Z<128?c(Z,function(V){return new f([V|0],V<0?-1:0)}):new f([Z|0],Z<0?-1:0)}function x(Z){if(isNaN(Z)||!isFinite(Z))return N;if(Z<0)return z(x(-Z));const V=[];let U=1;for(let K=0;Z>=U;K++)V[K]=Z/U|0,U*=4294967296;return new f(V,0)}function w(Z,V){if(Z.length==0)throw Error("number format error: empty string");if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(Z.charAt(0)=="-")return z(w(Z.substring(1),V));if(Z.indexOf("-")>=0)throw Error('number format error: interior "-" character');const U=x(Math.pow(V,8));let K=N;for(let M=0;M<Z.length;M+=8){var B=Math.min(8,Z.length-M);const D=parseInt(Z.substring(M,M+B),V);B<8?(B=x(Math.pow(V,B)),K=K.j(B).add(x(D))):(K=K.j(U),K=K.add(x(D)))}return K}var N=v(0),R=v(1),P=v(16777216);n=f.prototype,n.m=function(){if(F(this))return-z(this).m();let Z=0,V=1;for(let U=0;U<this.g.length;U++){const K=this.i(U);Z+=(K>=0?K:4294967296+K)*V,V*=4294967296}return Z},n.toString=function(Z){if(Z=Z||10,Z<2||36<Z)throw Error("radix out of range: "+Z);if(O(this))return"0";if(F(this))return"-"+z(this).toString(Z);const V=x(Math.pow(Z,6));var U=this;let K="";for(;;){const B=we(U,V).g;U=ce(U,B.j(V));let M=((U.g.length>0?U.g[0]:U.h)>>>0).toString(Z);if(U=B,O(U))return M+K;for(;M.length<6;)M="0"+M;K=M+K}},n.i=function(Z){return Z<0?0:Z<this.g.length?this.g[Z]:this.h};function O(Z){if(Z.h!=0)return!1;for(let V=0;V<Z.g.length;V++)if(Z.g[V]!=0)return!1;return!0}function F(Z){return Z.h==-1}n.l=function(Z){return Z=ce(this,Z),F(Z)?-1:O(Z)?0:1};function z(Z){const V=Z.g.length,U=[];for(let K=0;K<V;K++)U[K]=~Z.g[K];return new f(U,~Z.h).add(R)}n.abs=function(){return F(this)?z(this):this},n.add=function(Z){const V=Math.max(this.g.length,Z.g.length),U=[];let K=0;for(let B=0;B<=V;B++){let M=K+(this.i(B)&65535)+(Z.i(B)&65535),D=(M>>>16)+(this.i(B)>>>16)+(Z.i(B)>>>16);K=D>>>16,M&=65535,D&=65535,U[B]=D<<16|M}return new f(U,U[U.length-1]&-2147483648?-1:0)};function ce(Z,V){return Z.add(z(V))}n.j=function(Z){if(O(this)||O(Z))return N;if(F(this))return F(Z)?z(this).j(z(Z)):z(z(this).j(Z));if(F(Z))return z(this.j(z(Z)));if(this.l(P)<0&&Z.l(P)<0)return x(this.m()*Z.m());const V=this.g.length+Z.g.length,U=[];for(var K=0;K<2*V;K++)U[K]=0;for(K=0;K<this.g.length;K++)for(let B=0;B<Z.g.length;B++){const M=this.i(K)>>>16,D=this.i(K)&65535,de=Z.i(B)>>>16,Ae=Z.i(B)&65535;U[2*K+2*B]+=D*Ae,$(U,2*K+2*B),U[2*K+2*B+1]+=M*Ae,$(U,2*K+2*B+1),U[2*K+2*B+1]+=D*de,$(U,2*K+2*B+1),U[2*K+2*B+2]+=M*de,$(U,2*K+2*B+2)}for(Z=0;Z<V;Z++)U[Z]=U[2*Z+1]<<16|U[2*Z];for(Z=V;Z<2*V;Z++)U[Z]=0;return new f(U,0)};function $(Z,V){for(;(Z[V]&65535)!=Z[V];)Z[V+1]+=Z[V]>>>16,Z[V]&=65535,V++}function W(Z,V){this.g=Z,this.h=V}function we(Z,V){if(O(V))throw Error("division by zero");if(O(Z))return new W(N,N);if(F(Z))return V=we(z(Z),V),new W(z(V.g),z(V.h));if(F(V))return V=we(Z,z(V)),new W(z(V.g),V.h);if(Z.g.length>30){if(F(Z)||F(V))throw Error("slowDivide_ only works with positive integers.");for(var U=R,K=V;K.l(Z)<=0;)U=le(U),K=le(K);var B=Ee(U,1),M=Ee(K,1);for(K=Ee(K,2),U=Ee(U,2);!O(K);){var D=M.add(K);D.l(Z)<=0&&(B=B.add(U),M=D),K=Ee(K,1),U=Ee(U,1)}return V=ce(Z,B.j(V)),new W(B,V)}for(B=N;Z.l(V)>=0;){for(U=Math.max(1,Math.floor(Z.m()/V.m())),K=Math.ceil(Math.log(U)/Math.LN2),K=K<=48?1:Math.pow(2,K-48),M=x(U),D=M.j(V);F(D)||D.l(Z)>0;)U-=K,M=x(U),D=M.j(V);O(M)&&(M=R),B=B.add(M),Z=ce(Z,D)}return new W(B,Z)}n.B=function(Z){return we(this,Z).h},n.and=function(Z){const V=Math.max(this.g.length,Z.g.length),U=[];for(let K=0;K<V;K++)U[K]=this.i(K)&Z.i(K);return new f(U,this.h&Z.h)},n.or=function(Z){const V=Math.max(this.g.length,Z.g.length),U=[];for(let K=0;K<V;K++)U[K]=this.i(K)|Z.i(K);return new f(U,this.h|Z.h)},n.xor=function(Z){const V=Math.max(this.g.length,Z.g.length),U=[];for(let K=0;K<V;K++)U[K]=this.i(K)^Z.i(K);return new f(U,this.h^Z.h)};function le(Z){const V=Z.g.length+1,U=[];for(let K=0;K<V;K++)U[K]=Z.i(K)<<1|Z.i(K-1)>>>31;return new f(U,Z.h)}function Ee(Z,V){const U=V>>5;V%=32;const K=Z.g.length-U,B=[];for(let M=0;M<K;M++)B[M]=V>0?Z.i(M+U)>>>V|Z.i(M+U+1)<<32-V:Z.i(M+U);return new f(B,Z.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Y1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=x,f.fromString=w,mo=f}).apply(typeof rb<"u"?rb:typeof self<"u"?self:typeof window<"u"?window:{});var Md=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var W1,Fu,Q1,Wd,zg,X1,J1,eE;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Md=="object"&&Md];for(var E=0;E<m.length;++E){var S=m[E];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var s=t(this);function o(m,E){if(E)e:{var S=s;m=m.split(".");for(var j=0;j<m.length-1;j++){var ee=m[j];if(!(ee in S))break e;S=S[ee]}m=m[m.length-1],j=S[m],E=E(j),E!=j&&E!=null&&e(S,m,{configurable:!0,writable:!0,value:E})}}o("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(m){return m||function(E){var S=[],j;for(j in E)Object.prototype.hasOwnProperty.call(E,j)&&S.push([j,E[j]]);return S}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function y(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function v(m,E,S){return m.call.apply(m.bind,arguments)}function x(m,E,S){return x=v,x.apply(null,arguments)}function w(m,E){var S=Array.prototype.slice.call(arguments,1);return function(){var j=S.slice();return j.push.apply(j,arguments),m.apply(this,j)}}function N(m,E){function S(){}S.prototype=E.prototype,m.Z=E.prototype,m.prototype=new S,m.prototype.constructor=m,m.Ob=function(j,ee,se){for(var Se=Array(arguments.length-2),He=2;He<arguments.length;He++)Se[He-2]=arguments[He];return E.prototype[ee].apply(j,Se)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function P(m){const E=m.length;if(E>0){const S=Array(E);for(let j=0;j<E;j++)S[j]=m[j];return S}return[]}function O(m,E){for(let j=1;j<arguments.length;j++){const ee=arguments[j];var S=typeof ee;if(S=S!="object"?S:ee?Array.isArray(ee)?"array":S:"null",S=="array"||S=="object"&&typeof ee.length=="number"){S=m.length||0;const se=ee.length||0;m.length=S+se;for(let Se=0;Se<se;Se++)m[S+Se]=ee[Se]}else m.push(ee)}}class F{constructor(E,S){this.i=E,this.j=S,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function z(m){f.setTimeout(()=>{throw m},0)}function ce(){var m=Z;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class ${constructor(){this.h=this.g=null}add(E,S){const j=W.get();j.set(E,S),this.h?this.h.next=j:this.g=j,this.h=j}}var W=new F(()=>new we,m=>m.reset());class we{constructor(){this.next=this.g=this.h=null}set(E,S){this.h=E,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let le,Ee=!1,Z=new $,V=()=>{const m=Promise.resolve(void 0);le=()=>{m.then(U)}};function U(){for(var m;m=ce();){try{m.h.call(m.g)}catch(S){z(S)}var E=W;E.j(m),E.h<100&&(E.h++,m.next=E.g,E.g=m)}Ee=!1}function K(){this.u=this.u,this.C=this.C}K.prototype.u=!1,K.prototype.dispose=function(){this.u||(this.u=!0,this.N())},K.prototype[Symbol.dispose]=function(){this.dispose()},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const S=()=>{};f.addEventListener("test",S,E),f.removeEventListener("test",S,E)}catch{}return m})();function D(m){return/^[\s\xa0]*$/.test(m)}function de(m,E){B.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,E)}N(de,B),de.prototype.init=function(m,E){const S=this.type=m.type,j=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget,E||(S=="mouseover"?E=m.fromElement:S=="mouseout"&&(E=m.toElement)),this.relatedTarget=E,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ae="closure_listenable_"+(Math.random()*1e6|0),X=0;function _e(m,E,S,j,ee){this.listener=m,this.proxy=null,this.src=E,this.type=S,this.capture=!!j,this.ha=ee,this.key=++X,this.da=this.fa=!1}function re(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ke(m,E,S){for(const j in m)E.call(S,m[j],j,m)}function k(m,E){for(const S in m)E.call(void 0,m[S],S,m)}function ue(m){const E={};for(const S in m)E[S]=m[S];return E}const xe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function be(m,E){let S,j;for(let ee=1;ee<arguments.length;ee++){j=arguments[ee];for(S in j)m[S]=j[S];for(let se=0;se<xe.length;se++)S=xe[se],Object.prototype.hasOwnProperty.call(j,S)&&(m[S]=j[S])}}function Te(m){this.src=m,this.g={},this.h=0}Te.prototype.add=function(m,E,S,j,ee){const se=m.toString();m=this.g[se],m||(m=this.g[se]=[],this.h++);const Se=Ne(m,E,j,ee);return Se>-1?(E=m[Se],S||(E.fa=!1)):(E=new _e(E,this.src,se,!!j,ee),E.fa=S,m.push(E)),E};function Ce(m,E){const S=E.type;if(S in m.g){var j=m.g[S],ee=Array.prototype.indexOf.call(j,E,void 0),se;(se=ee>=0)&&Array.prototype.splice.call(j,ee,1),se&&(re(E),m.g[S].length==0&&(delete m.g[S],m.h--))}}function Ne(m,E,S,j){for(let ee=0;ee<m.length;++ee){const se=m[ee];if(!se.da&&se.listener==E&&se.capture==!!S&&se.ha==j)return ee}return-1}var Nt="closure_lm_"+(Math.random()*1e6|0),it={};function si(m,E,S,j,ee){if(Array.isArray(E)){for(let se=0;se<E.length;se++)si(m,E[se],S,j,ee);return null}return S=xr(S),m&&m[Ae]?m.J(E,S,y(j)?!!j.capture:!1,ee):vr(m,E,S,!1,j,ee)}function vr(m,E,S,j,ee,se){if(!E)throw Error("Invalid event type");const Se=y(ee)?!!ee.capture:!!ee;let He=ma(m);if(He||(m[Nt]=He=new Te(m)),S=He.add(E,S,j,Se,se),S.proxy)return S;if(j=ks(),S.proxy=j,j.src=m,j.listener=S,m.addEventListener)M||(ee=Se),ee===void 0&&(ee=!1),m.addEventListener(E.toString(),j,ee);else if(m.attachEvent)m.attachEvent(fa(E.toString()),j);else if(m.addListener&&m.removeListener)m.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return S}function ks(){function m(S){return E.call(m.src,m.listener,S)}const E=Rl;return m}function Hi(m,E,S,j,ee){if(Array.isArray(E))for(var se=0;se<E.length;se++)Hi(m,E[se],S,j,ee);else j=y(j)?!!j.capture:!!j,S=xr(S),m&&m[Ae]?(m=m.i,se=String(E).toString(),se in m.g&&(E=m.g[se],S=Ne(E,S,j,ee),S>-1&&(re(E[S]),Array.prototype.splice.call(E,S,1),E.length==0&&(delete m.g[se],m.h--)))):m&&(m=ma(m))&&(E=m.g[E.toString()],m=-1,E&&(m=Ne(E,S,j,ee)),(S=m>-1?E[m]:null)&&cs(S))}function cs(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[Ae])Ce(E.i,m);else{var S=m.type,j=m.proxy;E.removeEventListener?E.removeEventListener(S,j,m.capture):E.detachEvent?E.detachEvent(fa(S),j):E.addListener&&E.removeListener&&E.removeListener(j),(S=ma(E))?(Ce(S,m),S.h==0&&(S.src=null,E[Nt]=null)):re(m)}}}function fa(m){return m in it?it[m]:it[m]="on"+m}function Rl(m,E){if(m.da)m=!0;else{E=new de(E,this);const S=m.listener,j=m.ha||m.src;m.fa&&cs(m),m=S.call(j,E)}return m}function ma(m){return m=m[Nt],m instanceof Te?m:null}var fn="__closure_events_fn_"+(Math.random()*1e9>>>0);function xr(m){return typeof m=="function"?m:(m[fn]||(m[fn]=function(E){return m.handleEvent(E)}),m[fn])}function Zt(){K.call(this),this.i=new Te(this),this.M=this,this.G=null}N(Zt,K),Zt.prototype[Ae]=!0,Zt.prototype.removeEventListener=function(m,E,S,j){Hi(this,m,E,S,j)};function Kt(m,E){var S,j=m.G;if(j)for(S=[];j;j=j.G)S.push(j);if(m=m.M,j=E.type||E,typeof E=="string")E=new B(E,m);else if(E instanceof B)E.target=E.target||m;else{var ee=E;E=new B(j,m),be(E,ee)}ee=!0;let se,Se;if(S)for(Se=S.length-1;Se>=0;Se--)se=E.g=S[Se],ee=wi(se,j,!0,E)&&ee;if(se=E.g=m,ee=wi(se,j,!0,E)&&ee,ee=wi(se,j,!1,E)&&ee,S)for(Se=0;Se<S.length;Se++)se=E.g=S[Se],ee=wi(se,j,!1,E)&&ee}Zt.prototype.N=function(){if(Zt.Z.N.call(this),this.i){var m=this.i;for(const E in m.g){const S=m.g[E];for(let j=0;j<S.length;j++)re(S[j]);delete m.g[E],m.h--}}this.G=null},Zt.prototype.J=function(m,E,S,j){return this.i.add(String(m),E,!1,S,j)},Zt.prototype.K=function(m,E,S,j){return this.i.add(String(m),E,!0,S,j)};function wi(m,E,S,j){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();let ee=!0;for(let se=0;se<E.length;++se){const Se=E[se];if(Se&&!Se.da&&Se.capture==S){const He=Se.listener,tt=Se.ha||Se.src;Se.fa&&Ce(m.i,Se),ee=He.call(tt,j)!==!1&&ee}}return ee&&!j.defaultPrevented}function Cl(m,E){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=x(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:f.setTimeout(m,E||0)}function pa(m){m.g=Cl(()=>{m.g=null,m.i&&(m.i=!1,pa(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class $c extends K{constructor(E,S){super(),this.m=E,this.l=S,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:pa(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function br(m){K.call(this),this.h=m,this.g={}}N(br,K);var Fi=[];function rn(m){ke(m.g,function(E,S){this.g.hasOwnProperty(S)&&cs(E)},m),m.g={}}br.prototype.N=function(){br.Z.N.call(this),rn(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fn=f.JSON.stringify,Nn=f.JSON.parse,Il=class{stringify(m){return f.JSON.stringify(m,void 0)}parse(m){return f.JSON.parse(m,void 0)}};function Ro(){}function jl(){}var Ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qi(){B.call(this,"d")}N(qi,B);function ri(){B.call(this,"c")}N(ri,B);var ai={},oi=null;function ga(){return oi=oi||new Zt}ai.Ia="serverreachability";function Co(m){B.call(this,ai.Ia,m)}N(Co,B);function us(m){const E=ga();Kt(E,new Co(E))}ai.STAT_EVENT="statevent";function wr(m,E){B.call(this,ai.STAT_EVENT,m),this.stat=E}N(wr,B);function Mt(m){const E=ga();Kt(E,new wr(E,m))}ai.Ja="timingevent";function Ol(m,E){B.call(this,ai.Ja,m),this.size=E}N(Ol,B);function Ls(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){m()},E)}function Vs(){this.g=!0}Vs.prototype.ua=function(){this.g=!1};function Io(m,E,S,j,ee,se){m.info(function(){if(m.g)if(se){var Se="",He=se.split("&");for(let pt=0;pt<He.length;pt++){var tt=He[pt].split("=");if(tt.length>1){const Dt=tt[0];tt=tt[1];const Wn=Dt.split("_");Se=Wn.length>=2&&Wn[1]=="type"?Se+(Dt+"="+tt+"&"):Se+(Dt+"=redacted&")}}}else Se=null;else Se=se;return"XMLHTTP REQ ("+j+") [attempt "+ee+"]: "+E+`
`+S+`
`+Se})}function jo(m,E,S,j,ee,se,Se){m.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+ee+"]: "+E+`
`+S+`
`+se+" "+Se})}function hs(m,E,S,j){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+Gi(m,S)+(j?" "+j:"")})}function Oo(m,E){m.info(function(){return"TIMEOUT: "+E})}Vs.prototype.info=function(){};function Gi(m,E){if(!m.g)return E;if(!E)return null;try{const se=JSON.parse(E);if(se){for(m=0;m<se.length;m++)if(Array.isArray(se[m])){var S=se[m];if(!(S.length<2)){var j=S[1];if(Array.isArray(j)&&!(j.length<1)){var ee=j[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(let Se=1;Se<j.length;Se++)j[Se]=""}}}}return Fn(se)}catch{return E}}var Ut={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},an={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ds;function mn(){}N(mn,Ro),mn.prototype.g=function(){return new XMLHttpRequest},ds=new mn;function Me(m){return encodeURIComponent(String(m))}function Pl(m){var E=1;m=m.split(":");const S=[];for(;E>0&&m.length;)S.push(m.shift()),E--;return m.length&&S.push(m.join(":")),S}function li(m,E,S,j){this.j=m,this.i=E,this.l=S,this.S=j||1,this.V=new br(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fs}function fs(){this.i=null,this.g="",this.h=!1}var Er={},ci={};function Ti(m,E,S){m.M=1,m.A=yt(wt(E)),m.u=S,m.R=!0,qn(m,null)}function qn(m,E){m.F=Date.now(),Tr(m),m.B=wt(m.A);var S=m.B,j=m.S;Array.isArray(j)||(j=[String(j)]),_a(S.i,"t",j),m.C=0,S=m.j.L,m.h=new fs,m.g=Mr(m.j,S?E:null,!m.u),m.P>0&&(m.O=new $c(x(m.Y,m,m.g),m.P)),E=m.V,S=m.g,j=m.ba;var ee="readystatechange";Array.isArray(ee)||(ee&&(Fi[0]=ee.toString()),ee=Fi);for(let se=0;se<ee.length;se++){const Se=si(S,ee[se],j||E.handleEvent,!1,E.h||E);if(!Se)break;E.g[Se.key]=Se}E=m.J?ue(m.J):{},m.u?(m.v||(m.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,E)):(m.v="GET",m.g.ea(m.B,m.v,null,E)),us(),Io(m.i,m.v,m.B,m.l,m.S,m.u)}li.prototype.ba=function(m){m=m.target;const E=this.O;E&&vn(m)==3?E.j():this.Y(m)},li.prototype.Y=function(m){try{if(m==this.g)e:{const He=vn(this.g),tt=this.g.ya(),pt=this.g.ca();if(!(He<3)&&(He!=3||this.g&&(this.h.h||this.g.la()||qs(this.g)))){this.K||He!=4||tt==7||(tt==8||pt<=0?us(3):us(2)),Si(this);var E=this.g.ca();this.X=E;var S=ms(this);if(this.o=E==200,jo(this.i,this.v,this.B,this.l,this.S,He,E),this.o){if(this.U&&!this.L){t:{if(this.g){var j,ee=this.g;if((j=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(j)){var se=j;break t}}se=null}if(m=se)hs(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ya(this,m);else{this.o=!1,this.m=3,Mt(12),Gn(this),Sr(this);break e}}if(this.R){m=!0;let Dt;for(;!this.K&&this.C<S.length;)if(Dt=Ml(this,S),Dt==ci){He==4&&(this.m=4,Mt(14),m=!1),hs(this.i,this.l,null,"[Incomplete Response]");break}else if(Dt==Er){this.m=4,Mt(15),hs(this.i,this.l,S,"[Invalid Chunk]"),m=!1;break}else hs(this.i,this.l,Dt,null),ya(this,Dt);if(zt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),He!=4||S.length!=0||this.h.h||(this.m=1,Mt(16),m=!1),this.o=this.o&&m,!m)hs(this.i,this.l,S,"[Invalid Chunked Response]"),Gn(this),Sr(this);else if(S.length>0&&!this.W){this.W=!0;var Se=this.j;Se.g==this&&Se.aa&&!Se.P&&(Se.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),ko(Se),Se.P=!0,Mt(11))}}else hs(this.i,this.l,S,null),ya(this,S);He==4&&Gn(this),this.o&&!this.K&&(He==4?Dn(this.j,this):(this.o=!1,Tr(this)))}else vs(this.g),E==400&&S.indexOf("Unknown SID")>0?(this.m=3,Mt(12)):(this.m=0,Mt(13)),Gn(this),Sr(this)}}}catch{}finally{}};function ms(m){if(!zt(m))return m.g.la();const E=qs(m.g);if(E==="")return"";let S="";const j=E.length,ee=vn(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Gn(m),Sr(m),"";m.h.i=new f.TextDecoder}for(let se=0;se<j;se++)m.h.h=!0,S+=m.h.i.decode(E[se],{stream:!(ee&&se==j-1)});return E.length=0,m.h.g+=S,m.C=0,m.h.g}function zt(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function Ml(m,E){var S=m.C,j=E.indexOf(`
`,S);return j==-1?ci:(S=Number(E.substring(S,j)),isNaN(S)?Er:(j+=1,j+S>E.length?ci:(E=E.slice(j,j+S),m.C=j+S,E)))}li.prototype.cancel=function(){this.K=!0,Gn(this)};function Tr(m){m.T=Date.now()+m.H,$i(m,m.H)}function $i(m,E){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Ls(x(m.aa,m),E)}function Si(m){m.D&&(f.clearTimeout(m.D),m.D=null)}li.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Oo(this.i,this.B),this.M!=2&&(us(),Mt(17)),Gn(this),this.m=2,Sr(this)):$i(this,this.T-m)};function Sr(m){m.j.I==0||m.K||Dn(m.j,m)}function Gn(m){Si(m);var E=m.O;E&&typeof E.dispose=="function"&&E.dispose(),m.O=null,rn(m.V),m.g&&(E=m.g,m.g=null,E.abort(),E.dispose())}function ya(m,E){try{var S=m.j;if(S.I!=0&&(S.g==m||ps(S.h,m))){if(!m.L&&ps(S.h,m)&&S.I==3){try{var j=S.Ba.g.parse(E)}catch{j=null}if(Array.isArray(j)&&j.length==3){var ee=j;if(ee[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<m.F)wa(S),Ji(S);else break e;Do(S),Mt(18)}}else S.xa=ee[1],0<S.xa-S.K&&ee[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Ls(x(S.Va,S),6e3));ui(S.h)<=1&&S.ta&&(S.ta=void 0)}else es(S,11)}else if((m.L||S.g==m)&&wa(S),!D(E))for(ee=S.Ba.g.parse(E),E=0;E<ee.length;E++){let pt=ee[E];const Dt=pt[0];if(!(Dt<=S.K))if(S.K=Dt,pt=pt[1],S.I==2)if(pt[0]=="c"){S.M=pt[1],S.ba=pt[2];const Wn=pt[3];Wn!=null&&(S.ka=Wn,S.j.info("VER="+S.ka));const di=pt[4];di!=null&&(S.za=di,S.j.info("SVER="+S.za));const Qn=pt[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(j=1.5*Qn,S.O=j,S.j.info("backChannelRequestTimeoutMs_="+j)),j=S;const Ci=m.g;if(Ci){const Ii=Ci.g?Ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ii){var se=j.h;se.g||Ii.indexOf("spdy")==-1&&Ii.indexOf("quic")==-1&&Ii.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Zi(se,se.h),se.h=null))}if(j.G){const Na=Ci.g?Ci.g.getResponseHeader("X-HTTP-Session-Id"):null;Na&&(j.wa=Na,je(j.J,j.G,Na))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-m.F,S.j.info("Handshake RTT: "+S.T+"ms")),j=S;var Se=m;if(j.na=Lo(j,j.L?j.ba:null,j.W),Se.L){Ki(j.h,Se);var He=Se,tt=j.O;tt&&(He.H=tt),He.D&&(Si(He),Tr(He)),j.g=Se}else Mo(j);S.i.length>0&&Ai(S)}else pt[0]!="stop"&&pt[0]!="close"||es(S,7);else S.I==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?es(S,7):Qe(S):pt[0]!="noop"&&S.l&&S.l.qa(pt),S.A=0)}}us(4)}catch{}}var Zc=class{constructor(m,E){this.g=m,this.map=E}};function Nr(m){this.l=m||10,f.PerformanceNavigationTiming?(m=f.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ar(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ui(m){return m.h?1:m.g?m.g.size:0}function ps(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function Zi(m,E){m.g?m.g.add(E):m.h=E}function Ki(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}Nr.prototype.cancel=function(){if(this.i=Rr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Rr(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const S of m.g.values())E=E.concat(S.G);return E}return P(m.i)}var Yi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function at(m,E){if(m){m=m.split("&");for(let S=0;S<m.length;S++){const j=m[S].indexOf("=");let ee,se=null;j>=0?(ee=m[S].substring(0,j),se=m[S].substring(j+1)):ee=m[S],E(ee,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function ut(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;m instanceof ut?(this.l=m.l,$n(this,m.j),this.o=m.o,this.g=m.g,hi(this,m.u),this.h=m.h,Wi(this,Ir(m.i)),this.m=m.m):m&&(E=String(m).match(Yi))?(this.l=!1,$n(this,E[1]||"",!0),this.o=gs(E[2]||""),this.g=gs(E[3]||"",!0),hi(this,E[4]),this.h=gs(E[5]||"",!0),Wi(this,E[6]||"",!0),this.m=gs(E[7]||"")):(this.l=!1,this.i=new gn(null,this.l))}ut.prototype.toString=function(){const m=[];var E=this.j;E&&m.push(Bt(E,Po,!0),":");var S=this.g;return(S||E=="file")&&(m.push("//"),(E=this.o)&&m.push(Bt(E,Po,!0),"@"),m.push(Me(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&m.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&m.push("/"),m.push(Bt(S,S.charAt(0)=="/"?Pn:Us,!0))),(S=this.i.toString())&&m.push("?",S),(S=this.m)&&m.push("#",Bt(S,Qi)),m.join("")},ut.prototype.resolve=function(m){const E=wt(this);let S=!!m.j;S?$n(E,m.j):S=!!m.o,S?E.o=m.o:S=!!m.g,S?E.g=m.g:S=m.u!=null;var j=m.h;if(S)hi(E,m.u);else if(S=!!m.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var ee=E.h.lastIndexOf("/");ee!=-1&&(j=E.h.slice(0,ee+1)+j)}if(ee=j,ee==".."||ee==".")j="";else if(ee.indexOf("./")!=-1||ee.indexOf("/.")!=-1){j=ee.lastIndexOf("/",0)==0,ee=ee.split("/");const se=[];for(let Se=0;Se<ee.length;){const He=ee[Se++];He=="."?j&&Se==ee.length&&se.push(""):He==".."?((se.length>1||se.length==1&&se[0]!="")&&se.pop(),j&&Se==ee.length&&se.push("")):(se.push(He),j=!0)}j=se.join("/")}else j=ee}return S?E.h=j:S=m.i.toString()!=="",S?Wi(E,Ir(m.i)):S=!!m.m,S&&(E.m=m.m),E};function wt(m){return new ut(m)}function $n(m,E,S){m.j=S?gs(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function hi(m,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);m.u=E}else m.u=null}function Wi(m,E,S){E instanceof gn?(m.i=E,jr(m.i,m.l)):(S||(E=Bt(E,jt)),m.i=new gn(E,m.l))}function je(m,E,S){m.i.set(E,S)}function yt(m){return je(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function gs(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Bt(m,E,S){return typeof m=="string"?(m=encodeURI(m).replace(E,pn),S&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function pn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Po=/[#\/\?@]/g,Us=/[#\?:]/g,Pn=/[#\?]/g,jt=/[#\?@]/g,Qi=/#/g;function gn(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function Zn(m){m.g||(m.g=new Map,m.h=0,m.i&&at(m.i,function(E,S){m.add(decodeURIComponent(E.replace(/\+/g," ")),S)}))}n=gn.prototype,n.add=function(m,E){Zn(this),this.i=null,m=Kn(this,m);let S=this.g.get(m);return S||this.g.set(m,S=[]),S.push(E),this.h+=1,this};function Cr(m,E){Zn(m),E=Kn(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function ys(m,E){return Zn(m),E=Kn(m,E),m.g.has(E)}n.forEach=function(m,E){Zn(this),this.g.forEach(function(S,j){S.forEach(function(ee){m.call(E,ee,j,this)},this)},this)};function zs(m,E){Zn(m);let S=[];if(typeof E=="string")ys(m,E)&&(S=S.concat(m.g.get(Kn(m,E))));else for(m=Array.from(m.g.values()),E=0;E<m.length;E++)S=S.concat(m[E]);return S}n.set=function(m,E){return Zn(this),this.i=null,m=Kn(this,m),ys(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},n.get=function(m,E){return m?(m=zs(this,m),m.length>0?String(m[0]):E):E};function _a(m,E,S){Cr(m,E),S.length>0&&(m.i=null,m.g.set(Kn(m,E),P(S)),m.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(let j=0;j<E.length;j++){var S=E[j];const ee=Me(S);S=zs(this,S);for(let se=0;se<S.length;se++){let Se=ee;S[se]!==""&&(Se+="="+Me(S[se])),m.push(Se)}}return this.i=m.join("&")};function Ir(m){const E=new gn;return E.i=m.i,m.g&&(E.g=new Map(m.g),E.h=m.h),E}function Kn(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function jr(m,E){E&&!m.j&&(Zn(m),m.i=null,m.g.forEach(function(S,j){const ee=j.toLowerCase();j!=ee&&(Cr(this,j),_a(this,ee,S))},m)),m.j=E}function Bs(m,E){const S=new Vs;if(f.Image){const j=new Image;j.onload=w(on,S,"TestLoadImage: loaded",!0,E,j),j.onerror=w(on,S,"TestLoadImage: error",!1,E,j),j.onabort=w(on,S,"TestLoadImage: abort",!1,E,j),j.ontimeout=w(on,S,"TestLoadImage: timeout",!1,E,j),f.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=m}else E(!1)}function _s(m,E){const S=new Vs,j=new AbortController,ee=setTimeout(()=>{j.abort(),on(S,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:j.signal}).then(se=>{clearTimeout(ee),se.ok?on(S,"TestPingServer: ok",!0,E):on(S,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(ee),on(S,"TestPingServer: error",!1,E)})}function on(m,E,S,j,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),j(S)}catch{}}function Dl(){this.g=new Il}function Be(m){this.i=m.Sb||null,this.h=m.ab||!1}N(Be,Ro),Be.prototype.g=function(){return new yn(this.i,this.h)};function yn(m,E){Zt.call(this),this.H=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}N(yn,Zt),n=yn.prototype,n.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=E,this.readyState=1,Ni(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(E.body=m),(this.H||f).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_n(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ni(this)),this.g&&(this.readyState=3,Ni(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ht(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function ht(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?_n(this):Ni(this),this.readyState==3&&ht(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,_n(this))},n.Na=function(m){this.g&&(this.response=m,_n(this))},n.ga=function(){this.g&&_n(this)};function _n(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Ni(m)}n.setRequestHeader=function(m,E){this.A.append(m,E)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var S=E.next();!S.done;)S=S.value,m.push(S[0]+": "+S[1]),S=E.next();return m.join(`\r
`)};function Ni(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(yn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Xi(m){let E="";return ke(m,function(S,j){E+=j,E+=":",E+=S,E+=`\r
`}),E}function Mn(m,E,S){e:{for(j in S){var j=!1;break e}j=!0}j||(S=Xi(S),typeof m=="string"?S!=null&&Me(S):je(m,E,S))}function dt(m){Zt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}N(dt,Zt);var Hs=/^https?$/i,Fs=["POST","PUT"];n=dt.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,E,S,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ds.g(),this.g.onreadystatechange=R(x(this.Ca,this));try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(se){Ot(this,se);return}if(m=S||"",S=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var ee in j)S.set(ee,j[ee]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const se of j.keys())S.set(se,j.get(se));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(S.keys()).find(se=>se.toLowerCase()=="content-type"),ee=f.FormData&&m instanceof f.FormData,!(Array.prototype.indexOf.call(Fs,E,void 0)>=0)||j||ee||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,Se]of S)this.g.setRequestHeader(se,Se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(se){Ot(this,se)}};function Ot(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.o=5,Yn(m),Gt(m)}function Yn(m){m.A||(m.A=!0,Kt(m,"complete"),Kt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Kt(this,"complete"),Kt(this,"abort"),Gt(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gt(this,!0)),dt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?va(this):this.Xa())},n.Xa=function(){va(this)};function va(m){if(m.h&&typeof c<"u"){if(m.v&&vn(m)==4)setTimeout(m.Ca.bind(m),0);else if(Kt(m,"readystatechange"),vn(m)==4){m.h=!1;try{const se=m.ca();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var S;if(!(S=E)){var j;if(j=se===0){let Se=String(m.D).match(Yi)[1]||null;!Se&&f.self&&f.self.location&&(Se=f.self.location.protocol.slice(0,-1)),j=!Hs.test(Se?Se.toLowerCase():"")}S=j}if(S)Kt(m,"complete"),Kt(m,"success");else{m.o=6;try{var ee=vn(m)>2?m.g.statusText:""}catch{ee=""}m.l=ee+" ["+m.ca()+"]",Yn(m)}}finally{Gt(m)}}}}function Gt(m,E){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const S=m.g;m.g=null,E||Kt(m,"ready");try{S.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function vn(m){return m.g?m.g.readyState:0}n.ca=function(){try{return vn(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),Nn(E)}};function qs(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function vs(m){const E={};m=(m.g&&vn(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<m.length;j++){if(D(m[j]))continue;var S=Pl(m[j]);const ee=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const se=E[ee]||[];E[ee]=se,se.push(S)}k(E,function(j){return j.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Or(m,E,S){return S&&S.internalChannelParams&&S.internalChannelParams[m]||E}function Pr(m){this.za=0,this.i=[],this.j=new Vs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Or("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Or("baseRetryDelayMs",5e3,m),this.Za=Or("retryDelaySeedMs",1e4,m),this.Ta=Or("forwardChannelMaxRetries",2,m),this.va=Or("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Nr(m&&m.concurrentRequestLimit),this.Ba=new Dl,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Pr.prototype,n.ka=8,n.I=1,n.connect=function(m,E,S,j){Mt(0),this.W=m,this.H=E||{},S&&j!==void 0&&(this.H.OSID=S,this.H.OAID=j),this.F=this.X,this.J=Lo(this,null,this.W),Ai(this)};function Qe(m){if(ln(m),m.I==3){var E=m.V++,S=wt(m.J);if(je(S,"SID",m.M),je(S,"RID",E),je(S,"TYPE","terminate"),xs(m,S),E=new li(m,m.j,E),E.M=2,E.A=yt(wt(S)),S=!1,f.navigator&&f.navigator.sendBeacon)try{S=f.navigator.sendBeacon(E.A.toString(),"")}catch{}!S&&f.Image&&(new Image().src=E.A,S=!0),S||(E.g=Mr(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Tr(E)}Ri(m)}function Ji(m){m.g&&(ko(m),m.g.cancel(),m.g=null)}function ln(m){Ji(m),m.v&&(f.clearTimeout(m.v),m.v=null),wa(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&f.clearTimeout(m.m),m.m=null)}function Ai(m){if(!Ar(m.h)&&!m.m){m.m=!0;var E=m.Ea;le||V(),Ee||(le(),Ee=!0),Z.add(E,m),m.D=0}}function kl(m,E){return ui(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=E.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Ls(x(m.Ea,m,E),Vl(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const ee=new li(this,this.j,m);let se=this.o;if(this.U&&(se?(se=ue(se),be(se,this.U)):se=this.U),this.u!==null||this.R||(ee.J=se,se=null),this.S)e:{for(var E=0,S=0;S<this.i.length;S++){t:{var j=this.i[S];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(E+=j,E>4096){E=S;break e}if(E===4096||S===this.i.length-1){E=S+1;break e}}E=1e3}else E=1e3;E=xa(this,ee,E),S=wt(this.J),je(S,"RID",m),je(S,"CVER",22),this.G&&je(S,"X-HTTP-Session-Id",this.G),xs(this,S),se&&(this.R?E="headers="+Me(Xi(se))+"&"+E:this.u&&Mn(S,this.u,se)),Zi(this.h,ee),this.Ra&&je(S,"TYPE","init"),this.S?(je(S,"$req",E),je(S,"SID","null"),ee.U=!0,Ti(ee,S,null)):Ti(ee,S,E),this.I=2}}else this.I==3&&(m?Ll(this,m):this.i.length==0||Ar(this.h)||Ll(this))};function Ll(m,E){var S;E?S=E.l:S=m.V++;const j=wt(m.J);je(j,"SID",m.M),je(j,"RID",S),je(j,"AID",m.K),xs(m,j),m.u&&m.o&&Mn(j,m.u,m.o),S=new li(m,m.j,S,m.D+1),m.u===null&&(S.J=m.o),E&&(m.i=E.G.concat(m.i)),E=xa(m,S,1e3),S.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Zi(m.h,S),Ti(S,j,E)}function xs(m,E){m.H&&ke(m.H,function(S,j){je(E,j,S)}),m.l&&ke({},function(S,j){je(E,j,S)})}function xa(m,E,S){S=Math.min(m.i.length,S);const j=m.l?x(m.l.Ka,m.l,m):null;e:{var ee=m.i;let He=-1;for(;;){const tt=["count="+S];He==-1?S>0?(He=ee[0].g,tt.push("ofs="+He)):He=0:tt.push("ofs="+He);let pt=!0;for(let Dt=0;Dt<S;Dt++){var se=ee[Dt].g;const Wn=ee[Dt].map;if(se-=He,se<0)He=Math.max(0,ee[Dt].g-100),pt=!1;else try{se="req"+se+"_"||"";try{var Se=Wn instanceof Map?Wn:Object.entries(Wn);for(const[di,Qn]of Se){let Ci=Qn;y(Qn)&&(Ci=Fn(Qn)),tt.push(se+di+"="+encodeURIComponent(Ci))}}catch(di){throw tt.push(se+"type="+encodeURIComponent("_badmap")),di}}catch{j&&j(Wn)}}if(pt){Se=tt.join("&");break e}}Se=void 0}return m=m.i.splice(0,S),E.G=m,Se}function Mo(m){if(!m.g&&!m.v){m.Y=1;var E=m.Da;le||V(),Ee||(le(),Ee=!0),Z.add(E,m),m.A=0}}function Do(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Ls(x(m.Da,m),Vl(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,ba(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Ls(x(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Mt(10),Ji(this),ba(this))};function ko(m){m.B!=null&&(f.clearTimeout(m.B),m.B=null)}function ba(m){m.g=new li(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var E=wt(m.na);je(E,"RID","rpc"),je(E,"SID",m.M),je(E,"AID",m.K),je(E,"CI",m.F?"0":"1"),!m.F&&m.ia&&je(E,"TO",m.ia),je(E,"TYPE","xmlhttp"),xs(m,E),m.u&&m.o&&Mn(E,m.u,m.o),m.O&&(m.g.H=m.O);var S=m.g;m=m.ba,S.M=1,S.A=yt(wt(E)),S.u=null,S.R=!0,qn(S,m)}n.Va=function(){this.C!=null&&(this.C=null,Ji(this),Do(this),Mt(19))};function wa(m){m.C!=null&&(f.clearTimeout(m.C),m.C=null)}function Dn(m,E){var S=null;if(m.g==E){wa(m),ko(m),m.g=null;var j=2}else if(ps(m.h,E))S=E.G,Ki(m.h,E),j=1;else return;if(m.I!=0){if(E.o)if(j==1){S=E.u?E.u.length:0,E=Date.now()-E.F;var ee=m.D;j=ga(),Kt(j,new Ol(j,S)),Ai(m)}else Mo(m);else if(ee=E.m,ee==3||ee==0&&E.X>0||!(j==1&&kl(m,E)||j==2&&Do(m)))switch(S&&S.length>0&&(E=m.h,E.i=E.i.concat(S)),ee){case 1:es(m,5);break;case 4:es(m,10);break;case 3:es(m,6);break;default:es(m,2)}}}function Vl(m,E){let S=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(S*=2),S*E}function es(m,E){if(m.j.info("Error code "+E),E==2){var S=x(m.bb,m),j=m.Ua;const ee=!j;j=new ut(j||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||$n(j,"https"),yt(j),ee?Bs(j.toString(),S):_s(j.toString(),S)}else Mt(2);m.I=0,m.l&&m.l.pa(E),Ri(m),ln(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function Ri(m){if(m.I=0,m.ja=[],m.l){const E=Rr(m.h);(E.length!=0||m.i.length!=0)&&(O(m.ja,E),O(m.ja,m.i),m.h.i.length=0,P(m.i),m.i.length=0),m.l.oa()}}function Lo(m,E,S){var j=S instanceof ut?wt(S):new ut(S);if(j.g!="")E&&(j.g=E+"."+j.g),hi(j,j.u);else{var ee=f.location;j=ee.protocol,E=E?E+"."+ee.hostname:ee.hostname,ee=+ee.port;const se=new ut(null);j&&$n(se,j),E&&(se.g=E),ee&&hi(se,ee),S&&(se.h=S),j=se}return S=m.G,E=m.wa,S&&E&&je(j,S,E),je(j,"VER",m.ka),xs(m,j),j}function Mr(m,E,S){if(E&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Aa&&!m.ma?new dt(new Be({ab:S})):new dt(m.ma),E.Fa(m.L),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ea(){}n=Ea.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ta(){}Ta.prototype.g=function(m,E){return new xn(m,E)};function xn(m,E){Zt.call(this),this.g=new Pr(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(m?m["X-WebChannel-Client-Profile"]=E.sa:m={"X-WebChannel-Client-Profile":E.sa}),this.g.U=m,(m=E&&E.Qb)&&!D(m)&&(this.g.u=m),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!D(E)&&(this.g.G=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new Gs(this)}N(xn,Zt),xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){Qe(this.g)},xn.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var S={};S.__data__=m,m=S}else this.v&&(S={},S.__data__=Fn(m),m=S);E.i.push(new Zc(E.Ya++,m)),E.I==3&&Ai(E)},xn.prototype.N=function(){this.g.l=null,delete this.j,Qe(this.g),delete this.g,xn.Z.N.call(this)};function Sa(m){qi.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const S in E){m=S;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}N(Sa,qi);function Ul(){ri.call(this),this.status=1}N(Ul,ri);function Gs(m){this.g=m}N(Gs,Ea),Gs.prototype.ra=function(){Kt(this.g,"a")},Gs.prototype.qa=function(m){Kt(this.g,new Sa(m))},Gs.prototype.pa=function(m){Kt(this.g,new Ul)},Gs.prototype.oa=function(){Kt(this.g,"b")},Ta.prototype.createWebChannel=Ta.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,eE=function(){return new Ta},J1=function(){return ga()},X1=ai,zg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ut.NO_ERROR=0,Ut.TIMEOUT=8,Ut.HTTP_ERROR=6,Wd=Ut,an.COMPLETE="complete",Q1=an,jl.EventType=Ei,Ei.OPEN="a",Ei.CLOSE="b",Ei.ERROR="c",Ei.MESSAGE="d",Zt.prototype.listen=Zt.prototype.J,Fu=jl,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,W1=dt}).apply(typeof Md<"u"?Md:typeof self<"u"?self:typeof window<"u"?window:{});const ab="@firebase/firestore",ob="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=new Sy("@firebase/firestore");function yc(){return vl.logLevel}function Oe(n,...e){if(vl.logLevel<=ot.DEBUG){const t=e.map(Ry);vl.debug(`Firestore (${zc}): ${n}`,...t)}}function la(n,...e){if(vl.logLevel<=ot.ERROR){const t=e.map(Ry);vl.error(`Firestore (${zc}): ${n}`,...t)}}function Ac(n,...e){if(vl.logLevel<=ot.WARN){const t=e.map(Ry);vl.warn(`Firestore (${zc}): ${n}`,...t)}}function Ry(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,tE(n,s,t)}function tE(n,e,t){let s=`FIRESTORE (${zc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw la(s),new Error(s)}function _t(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||tE(e,o,s)}function We(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends yr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Un.UNAUTHENTICATED)))}shutdown(){}}class $O{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ZO{constructor(e){this.t=e,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){_t(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,t(v)):Promise.resolve();let c=new po;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new po,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const v=c;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new po)}}),0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(_t(typeof s.accessToken=="string",31837,{l:s}),new nE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string",2055,{h:e}),new Un(e)}}class KO{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YO{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new KO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,As(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){_t(this.o===void 0,3512);const s=c=>{c.error!=null&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,Oe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new lb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(_t(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new lb(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=QO(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<t&&(s+=e.charAt(o[c]%62))}return s}}function lt(n,e){return n<e?-1:n>e?1:0}function Bg(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const o=n.charAt(s),c=e.charAt(s);if(o!==c)return dg(o)===dg(c)?lt(o,c):dg(o)?1:-1}return lt(n.length,e.length)}const XO=55296,JO=57343;function dg(n){const e=n.charCodeAt(0);return e>=XO&&e<=JO}function Rc(n,e,t){return n.length===e.length&&n.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="__name__";class ir{constructor(e,t,s){t===void 0?t=0:t>e.length&&qe(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&qe(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return ir.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ir?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const c=ir.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return lt(e.length,t.length)}static compareSegments(e,t){const s=ir.isNumericId(e),o=ir.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?ir.extractNumericId(e).compare(ir.extractNumericId(t)):Bg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mo.fromString(e.substring(4,e.length-2))}}class It extends ir{construct(e,t,s){return new It(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ie(pe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new It(t)}static emptyPath(){return new It([])}}const eP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jn extends ir{construct(e,t,s){return new jn(e,t,s)}static isValidIdentifier(e){return eP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cb}static keyField(){return new jn([cb])}static fromServerFormat(e){const t=[];let s="",o=0;const c=()=>{if(s.length===0)throw new Ie(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new Ie(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new Ie(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else y==="`"?(f=!f,o++):y!=="."||f?(s+=y,o++):(c(),o++)}if(c(),f)throw new Ie(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jn(t)}static emptyPath(){return new jn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(It.fromString(e))}static fromName(e){return new Ue(It.fromString(e).popFirst(5))}static empty(){return new Ue(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return It.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new It(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(n,e,t){if(!t)throw new Ie(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function tP(n,e,t,s){if(e===!0&&s===!0)throw new Ie(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ub(n){if(!Ue.isDocumentKey(n))throw new Ie(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function hb(n){if(Ue.isDocumentKey(n))throw new Ie(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function sE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Jf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":qe(12329,{type:typeof n})}function sa(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ie(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Jf(n);throw new Ie(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function nP(n,e){if(e<=0)throw new Ie(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(n,e){const t={typeString:n};return e&&(t.value=e),t}function xh(n,e){if(!sE(n))throw new Ie(pe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const f=n[s];if(o&&typeof f!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){t=`Expected '${s}' field to equal '${c.value}'`;break}}if(t)throw new Ie(pe.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=-62135596800,fb=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*fb);return new Pt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ie(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ie(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<db)throw new Ie(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fb}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xh(e,Pt._jsonSchema))return new Pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-db;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pt._jsonSchemaVersion="firestore/timestamp/1.0",Pt._jsonSchema={type:nn("string",Pt._jsonSchemaVersion),seconds:nn("number"),nanoseconds:nn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new Pt(0,0))}static max(){return new Ye(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=-1;function iP(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Ye.fromTimestamp(s===1e9?new Pt(t+1,0):new Pt(t,s));return new xo(o,Ue.empty(),e)}function sP(n){return new xo(n.readTime,n.key,nh)}class xo{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new xo(Ye.min(),Ue.empty(),nh)}static max(){return new xo(Ye.max(),Ue.empty(),nh)}}function rP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ue.comparator(n.documentKey,e.documentKey),t!==0?t:lt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==aP)throw n;Oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ye(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ye?t:ye.resolve(t)}catch(t){return ye.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ye.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ye.reject(t)}static resolve(e){return new ye(((t,s)=>{t(e)}))}static reject(e){return new ye(((t,s)=>{s(e)}))}static waitFor(e){return new ye(((t,s)=>{let o=0,c=0,f=!1;e.forEach((y=>{++o,y.next((()=>{++c,f&&c===o&&t()}),(v=>s(v)))})),f=!0,c===o&&t()}))}static or(e){let t=ye.resolve(!1);for(const s of e)t=t.next((o=>o?ye.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,c)=>{s.push(t.call(this,o,c))})),this.waitFor(s)}static mapArray(e,t){return new ye(((s,o)=>{const c=e.length,f=new Array(c);let y=0;for(let v=0;v<c;v++){const x=v;t(e[x]).next((w=>{f[x]=w,++y,y===c&&s(f)}),(w=>o(w)))}}))}static doWhile(e,t){return new ye(((s,o)=>{const c=()=>{e()===!0?t().next((()=>{c()}),o):s()};c()}))}}function lP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Hc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}em.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=-1;function tm(n){return n==null}function yf(n){return n===0&&1/n==-1/0}function cP(n){return typeof n=="number"&&Number.isInteger(n)&&!yf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="";function uP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=mb(e)),e=hP(n.get(t),e);return mb(e)}function hP(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const c=n.charAt(o);switch(c){case"\0":t+="";break;case rE:t+="";break;default:t+=c}}return t}function mb(n){return n+rE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Tl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function aE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,t){this.comparator=e,this.root=t||In.EMPTY}insert(e,t){return new qt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dd(this.root,e,this.comparator,!0)}}class Dd{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,t,s,o,c){this.key=e,this.value=t,this.color=s??In.RED,this.left=o??In.EMPTY,this.right=c??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,c){return new In(e??this.key,t??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,s),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return In.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,t,s,o,c){return this}insert(e,t,s){return new In(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gb(this.data.getIterator())}getIteratorFrom(e){return new gb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new dn(this.comparator);return t.data=e,t}}class gb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.fields=e,e.sort(jn.comparator)}static empty(){return new Rs([])}unionWith(e){let t=new dn(jn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Rs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rc(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new oE("Invalid base64 string: "+c):c}})(e);return new On(t)}static fromUint8Array(e){const t=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new On(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}On.EMPTY_BYTE_STRING=new On("");const dP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bo(n){if(_t(!!n,39018),typeof n=="string"){let e=0;const t=dP.exec(n);if(_t(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Qt(n.seconds),nanos:Qt(n.nanos)}}function Qt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function wo(n){return typeof n=="string"?On.fromBase64String(n):On.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="server_timestamp",cE="__type__",uE="__previous_value__",hE="__local_write_time__";function jy(n){var t,s;return((s=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[cE])==null?void 0:s.stringValue)===lE}function nm(n){const e=n.mapValue.fields[uE];return jy(e)?nm(e):e}function ih(n){const e=bo(n.mapValue.fields[hE].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,t,s,o,c,f,y,v,x,w){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=x,this.isUsingEmulator=w}}const _f="(default)";class sh{constructor(e,t){this.projectId=e,this.database=t||_f}static empty(){return new sh("","")}get isDefaultDatabase(){return this.database===_f}isEqual(e){return e instanceof sh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="__type__",mP="__max__",kd={mapValue:{}},fE="__vector__",vf="value";function Eo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jy(n)?4:gP(n)?9007199254740991:pP(n)?10:11:qe(28295,{value:n})}function mr(n,e){if(n===e)return!0;const t=Eo(n);if(t!==Eo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ih(n).isEqual(ih(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=bo(o.timestampValue),y=bo(c.timestampValue);return f.seconds===y.seconds&&f.nanos===y.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,c){return wo(o.bytesValue).isEqual(wo(c.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,c){return Qt(o.geoPointValue.latitude)===Qt(c.geoPointValue.latitude)&&Qt(o.geoPointValue.longitude)===Qt(c.geoPointValue.longitude)})(n,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Qt(o.integerValue)===Qt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=Qt(o.doubleValue),y=Qt(c.doubleValue);return f===y?yf(f)===yf(y):isNaN(f)&&isNaN(y)}return!1})(n,e);case 9:return Rc(n.arrayValue.values||[],e.arrayValue.values||[],mr);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},y=c.mapValue.fields||{};if(pb(f)!==pb(y))return!1;for(const v in f)if(f.hasOwnProperty(v)&&(y[v]===void 0||!mr(f[v],y[v])))return!1;return!0})(n,e);default:return qe(52216,{left:n})}}function rh(n,e){return(n.values||[]).find((t=>mr(t,e)))!==void 0}function Cc(n,e){if(n===e)return 0;const t=Eo(n),s=Eo(e);if(t!==s)return lt(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return lt(n.booleanValue,e.booleanValue);case 2:return(function(c,f){const y=Qt(c.integerValue||c.doubleValue),v=Qt(f.integerValue||f.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(n,e);case 3:return yb(n.timestampValue,e.timestampValue);case 4:return yb(ih(n),ih(e));case 5:return Bg(n.stringValue,e.stringValue);case 6:return(function(c,f){const y=wo(c),v=wo(f);return y.compareTo(v)})(n.bytesValue,e.bytesValue);case 7:return(function(c,f){const y=c.split("/"),v=f.split("/");for(let x=0;x<y.length&&x<v.length;x++){const w=lt(y[x],v[x]);if(w!==0)return w}return lt(y.length,v.length)})(n.referenceValue,e.referenceValue);case 8:return(function(c,f){const y=lt(Qt(c.latitude),Qt(f.latitude));return y!==0?y:lt(Qt(c.longitude),Qt(f.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return _b(n.arrayValue,e.arrayValue);case 10:return(function(c,f){var R,P,O,F;const y=c.fields||{},v=f.fields||{},x=(R=y[vf])==null?void 0:R.arrayValue,w=(P=v[vf])==null?void 0:P.arrayValue,N=lt(((O=x==null?void 0:x.values)==null?void 0:O.length)||0,((F=w==null?void 0:w.values)==null?void 0:F.length)||0);return N!==0?N:_b(x,w)})(n.mapValue,e.mapValue);case 11:return(function(c,f){if(c===kd.mapValue&&f===kd.mapValue)return 0;if(c===kd.mapValue)return 1;if(f===kd.mapValue)return-1;const y=c.fields||{},v=Object.keys(y),x=f.fields||{},w=Object.keys(x);v.sort(),w.sort();for(let N=0;N<v.length&&N<w.length;++N){const R=Bg(v[N],w[N]);if(R!==0)return R;const P=Cc(y[v[N]],x[w[N]]);if(P!==0)return P}return lt(v.length,w.length)})(n.mapValue,e.mapValue);default:throw qe(23264,{he:t})}}function yb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return lt(n,e);const t=bo(n),s=bo(e),o=lt(t.seconds,s.seconds);return o!==0?o:lt(t.nanos,s.nanos)}function _b(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const c=Cc(t[o],s[o]);if(c)return c}return lt(t.length,s.length)}function Ic(n){return Hg(n)}function Hg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=bo(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return wo(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ue.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",o=!0;for(const c of t.values||[])o?o=!1:s+=",",s+=Hg(c);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const f of s)c?c=!1:o+=",",o+=`${f}:${Hg(t.fields[f])}`;return o+"}"})(n.mapValue):qe(61005,{value:n})}function Qd(n){switch(Eo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nm(n);return e?16+Qd(e):16;case 5:return 2*n.stringValue.length;case 6:return wo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Qd(c)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return Tl(s.fields,((c,f)=>{o+=c.length+Qd(f)})),o})(n.mapValue);default:throw qe(13486,{value:n})}}function vb(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Fg(n){return!!n&&"integerValue"in n}function Oy(n){return!!n&&"arrayValue"in n}function xb(n){return!!n&&"nullValue"in n}function bb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xd(n){return!!n&&"mapValue"in n}function pP(n){var t,s;return((s=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[dE])==null?void 0:s.stringValue)===fE}function Ku(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Tl(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Ku(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ku(n.arrayValue.values[t]);return e}return{...n}}function gP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===mP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.value=e}static empty(){return new os({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Xd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ku(t)}setAll(e){let t=jn.emptyPath(),s={},o=[];e.forEach(((f,y)=>{if(!t.isImmediateParentOf(y)){const v=this.getFieldsMap(t);this.applyChanges(v,s,o),s={},o=[],t=y.popLast()}f?s[y.lastSegment()]=Ku(f):o.push(y.lastSegment())}));const c=this.getFieldsMap(t);this.applyChanges(c,s,o)}delete(e){const t=this.field(e.popLast());Xd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Xd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Tl(t,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new os(Ku(this.value))}}function mE(n){const e=[];return Tl(n.fields,((t,s)=>{const o=new jn([t]);if(Xd(s)){const c=mE(s.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new Rs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,t,s,o,c,f,y){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=c,this.data=f,this.documentState=y}static newInvalidDocument(e){return new zn(e,0,Ye.min(),Ye.min(),Ye.min(),os.empty(),0)}static newFoundDocument(e,t,s,o){return new zn(e,1,t,Ye.min(),s,o,0)}static newNoDocument(e,t){return new zn(e,2,t,Ye.min(),Ye.min(),os.empty(),0)}static newUnknownDocument(e,t){return new zn(e,3,t,Ye.min(),Ye.min(),os.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=os.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=os.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,t){this.position=e,this.inclusive=t}}function wb(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const c=e[o],f=n.position[o];if(c.field.isKeyField()?s=Ue.comparator(Ue.fromName(f.referenceValue),t.key):s=Cc(f,t.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Eb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!mr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,t="asc"){this.field=e,this.dir=t}}function yP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{}class tn extends pE{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new vP(e,t,s):t==="array-contains"?new wP(e,s):t==="in"?new EP(e,s):t==="not-in"?new TP(e,s):t==="array-contains-any"?new SP(e,s):new tn(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new xP(e,s):new bP(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Cc(t,this.value)):t!==null&&Eo(this.value)===Eo(t)&&this.matchesComparison(Cc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ps extends pE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ps(e,t)}matches(e){return gE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gE(n){return n.op==="and"}function yE(n){return _P(n)&&gE(n)}function _P(n){for(const e of n.filters)if(e instanceof Ps)return!1;return!0}function qg(n){if(n instanceof tn)return n.field.canonicalString()+n.op.toString()+Ic(n.value);if(yE(n))return n.filters.map((e=>qg(e))).join(",");{const e=n.filters.map((t=>qg(t))).join(",");return`${n.op}(${e})`}}function _E(n,e){return n instanceof tn?(function(s,o){return o instanceof tn&&s.op===o.op&&s.field.isEqual(o.field)&&mr(s.value,o.value)})(n,e):n instanceof Ps?(function(s,o){return o instanceof Ps&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,f,y)=>c&&_E(f,o.filters[y])),!0):!1})(n,e):void qe(19439)}function vE(n){return n instanceof tn?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ic(t.value)}`})(n):n instanceof Ps?(function(t){return t.op.toString()+" {"+t.getFilters().map(vE).join(" ,")+"}"})(n):"Filter"}class vP extends tn{constructor(e,t,s){super(e,t,s),this.key=Ue.fromName(s.referenceValue)}matches(e){const t=Ue.comparator(e.key,this.key);return this.matchesComparison(t)}}class xP extends tn{constructor(e,t){super(e,"in",t),this.keys=xE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class bP extends tn{constructor(e,t){super(e,"not-in",t),this.keys=xE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function xE(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((s=>Ue.fromName(s.referenceValue)))}class wP extends tn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Oy(t)&&rh(t.arrayValue,this.value)}}class EP extends tn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&rh(this.value.arrayValue,t)}}class TP extends tn{constructor(e,t){super(e,"not-in",t)}matches(e){if(rh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!rh(this.value.arrayValue,t)}}class SP extends tn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Oy(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>rh(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,t=null,s=[],o=[],c=null,f=null,y=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=f,this.endAt=y,this.Te=null}}function Tb(n,e=null,t=[],s=[],o=null,c=null,f=null){return new NP(n,e,t,s,o,c,f)}function Py(n){const e=We(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>qg(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),tm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Ic(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Ic(s))).join(",")),e.Te=t}return e.Te}function My(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!yP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!_E(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Eb(n.startAt,e.startAt)&&Eb(n.endAt,e.endAt)}function Gg(n){return Ue.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t=null,s=[],o=[],c=null,f="F",y=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=f,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function AP(n,e,t,s,o,c,f,y){return new Fc(n,e,t,s,o,c,f,y)}function Dy(n){return new Fc(n)}function Sb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function bE(n){return n.collectionGroup!==null}function Yu(n){const e=We(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let y=new dn(jn.comparator);return f.filters.forEach((v=>{v.getFlattenedFilters().forEach((x=>{x.isInequality()&&(y=y.add(x.field))}))})),y})(e).forEach((c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ah(c,s))})),t.has(jn.keyField().canonicalString())||e.Ie.push(new ah(jn.keyField(),s))}return e.Ie}function ar(n){const e=We(n);return e.Ee||(e.Ee=RP(e,Yu(n))),e.Ee}function RP(n,e){if(n.limitType==="F")return Tb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new ah(o.field,c)}));const t=n.endAt?new xf(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new xf(n.startAt.position,n.startAt.inclusive):null;return Tb(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function $g(n,e){const t=n.filters.concat([e]);return new Fc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function bf(n,e,t){return new Fc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function im(n,e){return My(ar(n),ar(e))&&n.limitType===e.limitType}function wE(n){return`${Py(ar(n))}|lt:${n.limitType}`}function _c(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>vE(o))).join(", ")}]`),tm(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Ic(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Ic(o))).join(",")),`Target(${s})`})(ar(n))}; limitType=${n.limitType})`}function sm(n,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Ue.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(n,e)&&(function(s,o){for(const c of Yu(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(n,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(n,e)&&(function(s,o){return!(s.startAt&&!(function(f,y,v){const x=wb(f,y,v);return f.inclusive?x<=0:x<0})(s.startAt,Yu(s),o)||s.endAt&&!(function(f,y,v){const x=wb(f,y,v);return f.inclusive?x>=0:x>0})(s.endAt,Yu(s),o))})(n,e)}function CP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function EE(n){return(e,t)=>{let s=!1;for(const o of Yu(n)){const c=IP(o,e,t);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function IP(n,e,t){const s=n.field.isKeyField()?Ue.comparator(e.key,t.key):(function(c,f,y){const v=f.data.field(c),x=y.data.field(c);return v!==null&&x!==null?Cc(v,x):qe(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return qe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Tl(this.inner,((t,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return aE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=new qt(Ue.comparator);function ca(){return jP}const TE=new qt(Ue.comparator);function qu(...n){let e=TE;for(const t of n)e=e.insert(t.key,t);return e}function SE(n){let e=TE;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function cl(){return Wu()}function NE(){return Wu()}function Wu(){return new Sl((n=>n.toString()),((n,e)=>n.isEqual(e)))}const OP=new qt(Ue.comparator),PP=new dn(Ue.comparator);function ct(...n){let e=PP;for(const t of n)e=e.add(t);return e}const MP=new dn(lt);function DP(){return MP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yf(e)?"-0":e}}function AE(n){return{integerValue:""+n}}function kP(n,e){return cP(e)?AE(e):ky(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(){this._=void 0}}function LP(n,e,t){return n instanceof wf?(function(o,c){const f={fields:{[cE]:{stringValue:lE},[hE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&jy(c)&&(c=nm(c)),c&&(f.fields[uE]=c),{mapValue:f}})(t,e):n instanceof oh?CE(n,e):n instanceof lh?IE(n,e):(function(o,c){const f=RE(o,c),y=Nb(f)+Nb(o.Ae);return Fg(f)&&Fg(o.Ae)?AE(y):ky(o.serializer,y)})(n,e)}function VP(n,e,t){return n instanceof oh?CE(n,e):n instanceof lh?IE(n,e):t}function RE(n,e){return n instanceof Ef?(function(s){return Fg(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class wf extends rm{}class oh extends rm{constructor(e){super(),this.elements=e}}function CE(n,e){const t=jE(e);for(const s of n.elements)t.some((o=>mr(o,s)))||t.push(s);return{arrayValue:{values:t}}}class lh extends rm{constructor(e){super(),this.elements=e}}function IE(n,e){let t=jE(e);for(const s of n.elements)t=t.filter((o=>!mr(o,s)));return{arrayValue:{values:t}}}class Ef extends rm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Nb(n){return Qt(n.integerValue||n.doubleValue)}function jE(n){return Oy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function UP(n,e){return n.field.isEqual(e.field)&&(function(s,o){return s instanceof oh&&o instanceof oh||s instanceof lh&&o instanceof lh?Rc(s.elements,o.elements,mr):s instanceof Ef&&o instanceof Ef?mr(s.Ae,o.Ae):s instanceof wf&&o instanceof wf})(n.transform,e.transform)}class zP{constructor(e,t){this.version=e,this.transformResults=t}}class or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class am{}function OE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ly(n.key,or.none()):new bh(n.key,n.data,or.none());{const t=n.data,s=os.empty();let o=new dn(jn.comparator);for(let c of e.fields)if(!o.has(c)){let f=t.field(c);f===null&&c.length>1&&(c=c.popLast(),f=t.field(c)),f===null?s.delete(c):s.set(c,f),o=o.add(c)}return new Nl(n.key,s,new Rs(o.toArray()),or.none())}}function BP(n,e,t){n instanceof bh?(function(o,c,f){const y=o.value.clone(),v=Rb(o.fieldTransforms,c,f.transformResults);y.setAll(v),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(n,e,t):n instanceof Nl?(function(o,c,f){if(!Jd(o.precondition,c))return void c.convertToUnknownDocument(f.version);const y=Rb(o.fieldTransforms,c,f.transformResults),v=c.data;v.setAll(PE(o)),v.setAll(y),c.convertToFoundDocument(f.version,v).setHasCommittedMutations()})(n,e,t):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,t)}function Qu(n,e,t,s){return n instanceof bh?(function(c,f,y,v){if(!Jd(c.precondition,f))return y;const x=c.value.clone(),w=Cb(c.fieldTransforms,v,f);return x.setAll(w),f.convertToFoundDocument(f.version,x).setHasLocalMutations(),null})(n,e,t,s):n instanceof Nl?(function(c,f,y,v){if(!Jd(c.precondition,f))return y;const x=Cb(c.fieldTransforms,v,f),w=f.data;return w.setAll(PE(c)),w.setAll(x),f.convertToFoundDocument(f.version,w).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((N=>N.field)))})(n,e,t,s):(function(c,f,y){return Jd(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):y})(n,e,t)}function HP(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),c=RE(s.transform,o||null);c!=null&&(t===null&&(t=os.empty()),t.set(s.field,c))}return t||null}function Ab(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Rc(s,o,((c,f)=>UP(c,f)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class bh extends am{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Nl extends am{constructor(e,t,s,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function PE(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function Rb(n,e,t){const s=new Map;_t(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const c=n[o],f=c.transform,y=e.data.field(c.field);s.set(c.field,VP(f,y,t[o]))}return s}function Cb(n,e,t){const s=new Map;for(const o of n){const c=o.transform,f=t.data.field(o.field);s.set(o.field,LP(c,f,e))}return s}class Ly extends am{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FP extends am{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&BP(c,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Qu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Qu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=NE();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let y=this.applyToLocalView(f,c.mutatedFields);y=t.has(o.key)?null:y;const v=OE(f,y);v!==null&&s.set(o.key,v),f.isValidDocument()||f.convertToNoDocument(Ye.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ct())}isEqual(e){return this.batchId===e.batchId&&Rc(this.mutations,e.mutations,((t,s)=>Ab(t,s)))&&Rc(this.baseMutations,e.baseMutations,((t,s)=>Ab(t,s)))}}class Vy{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){_t(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return OP})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,s[f].version);return new Vy(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,mt;function ZP(n){switch(n){case pe.OK:return qe(64938);case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0;default:return qe(15467,{code:n})}}function ME(n){if(n===void 0)return la("GRPC error has no .code"),pe.UNKNOWN;switch(n){case en.OK:return pe.OK;case en.CANCELLED:return pe.CANCELLED;case en.UNKNOWN:return pe.UNKNOWN;case en.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case en.INTERNAL:return pe.INTERNAL;case en.UNAVAILABLE:return pe.UNAVAILABLE;case en.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case en.NOT_FOUND:return pe.NOT_FOUND;case en.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case en.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case en.ABORTED:return pe.ABORTED;case en.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case en.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case en.DATA_LOSS:return pe.DATA_LOSS;default:return qe(39323,{code:n})}}(mt=en||(en={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=new mo([4294967295,4294967295],0);function Ib(n){const e=KP().encode(n),t=new Y1;return t.update(e),new Uint8Array(t.digest())}function jb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new mo([t,s],0),new mo([o,c],0)]}class Uy{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Gu(`Invalid padding: ${t}`);if(s<0)throw new Gu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Gu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Gu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=mo.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(mo.fromNumber(s)));return o.compare(YP)===1&&(o=new mo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Ib(e),[s,o]=jb(t);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,o,c);if(!this.we(f))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Uy(c,o,t);return s.forEach((y=>f.insert(y))),f}insert(e){if(this.ge===0)return;const t=Ib(e),[s,o]=jb(t);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,o,c);this.Se(f)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Gu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,t,s,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,wh.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new om(Ye.min(),o,new qt(lt),ca(),ct())}}class wh{constructor(e,t,s,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new wh(s,t,ct(),ct(),ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class DE{constructor(e,t){this.targetId=e,this.Ce=t}}class kE{constructor(e,t,s=On.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Ob{constructor(){this.ve=0,this.Fe=Pb(),this.Me=On.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ct(),t=ct(),s=ct();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:qe(38017,{changeType:c})}})),new wh(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=Pb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,_t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class WP{constructor(e){this.Ge=e,this.ze=new Map,this.je=ca(),this.Je=Ld(),this.He=Ld(),this.Ye=new qt(lt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:qe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const c=o.target;if(Gg(c))if(s===0){const f=new Ue(c.path);this.et(t,f,zn.newNoDocument(f,Ye.min()))}else _t(s===1,20013,{expectedCount:s});else{const f=this._t(t);if(f!==s){const y=this.ut(e),v=y?this.ct(y,e,f):1;if(v!==0){this.it(t);const x=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,x)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=t;let f,y;try{f=wo(s).toUint8Array()}catch(v){if(v instanceof oE)return Ac("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Uy(f,o,c)}catch(v){return Ac(v instanceof Gu?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((c=>{const f=this.Ge.ht(),y=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(t,c,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((c,f)=>{const y=this.ot(f);if(y){if(c.current&&Gg(y.target)){const v=new Ue(y.target.path);this.It(v).has(f)||this.Et(f,v)||this.et(f,v,zn.newNoDocument(v,e))}c.Be&&(t.set(f,c.ke()),c.qe())}}));let s=ct();this.He.forEach(((c,f)=>{let y=!0;f.forEachWhile((v=>{const x=this.ot(v);return!x||x.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(s=s.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new om(e,t,this.Ye,this.je,s);return this.je=ca(),this.Je=Ld(),this.He=Ld(),this.Ye=new qt(lt),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Ob,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new dn(lt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new dn(lt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Oe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ob),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ld(){return new qt(Ue.comparator)}function Pb(){return new qt(Ue.comparator)}const QP={asc:"ASCENDING",desc:"DESCENDING"},XP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JP={and:"AND",or:"OR"};class eM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zg(n,e){return n.useProto3Json||tm(e)?e:{value:e}}function Tf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function tM(n,e){return Tf(n,e.toTimestamp())}function lr(n){return _t(!!n,49232),Ye.fromTimestamp((function(t){const s=bo(t);return new Pt(s.seconds,s.nanos)})(n))}function zy(n,e){return Kg(n,e).canonicalString()}function Kg(n,e){const t=(function(o){return new It(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function VE(n){const e=It.fromString(n);return _t(FE(e),10190,{key:e.toString()}),e}function Yg(n,e){return zy(n.databaseId,e.path)}function fg(n,e){const t=VE(e);if(t.get(1)!==n.databaseId.projectId)throw new Ie(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ie(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ue(zE(t))}function UE(n,e){return zy(n.databaseId,e)}function nM(n){const e=VE(n);return e.length===4?It.emptyPath():zE(e)}function Wg(n){return new It(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zE(n){return _t(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Mb(n,e,t){return{name:Yg(n,e),fields:t.value.mapValue.fields}}function iM(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(x){return x==="NO_CHANGE"?0:x==="ADD"?1:x==="REMOVE"?2:x==="CURRENT"?3:x==="RESET"?4:qe(39313,{state:x})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(x,w){return x.useProto3Json?(_t(w===void 0||typeof w=="string",58123),On.fromBase64String(w||"")):(_t(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),On.fromUint8Array(w||new Uint8Array))})(n,e.targetChange.resumeToken),f=e.targetChange.cause,y=f&&(function(x){const w=x.code===void 0?pe.UNKNOWN:ME(x.code);return new Ie(w,x.message||"")})(f);t=new kE(s,o,c,y||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=fg(n,s.document.name),c=lr(s.document.updateTime),f=s.document.createTime?lr(s.document.createTime):Ye.min(),y=new os({mapValue:{fields:s.document.fields}}),v=zn.newFoundDocument(o,c,f,y),x=s.targetIds||[],w=s.removedTargetIds||[];t=new ef(x,w,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=fg(n,s.document),c=s.readTime?lr(s.readTime):Ye.min(),f=zn.newNoDocument(o,c),y=s.removedTargetIds||[];t=new ef([],y,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=fg(n,s.document),c=s.removedTargetIds||[];t=new ef([],c,o,null)}else{if(!("filter"in e))return qe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,f=new $P(o,c),y=s.targetId;t=new DE(y,f)}}return t}function sM(n,e){let t;if(e instanceof bh)t={update:Mb(n,e.key,e.value)};else if(e instanceof Ly)t={delete:Yg(n,e.key)};else if(e instanceof Nl)t={update:Mb(n,e.key,e.data),updateMask:fM(e.fieldMask)};else{if(!(e instanceof FP))return qe(16599,{Vt:e.type});t={verify:Yg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(c,f){const y=f.transform;if(y instanceof wf)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof oh)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof lh)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Ef)return{fieldPath:f.field.canonicalString(),increment:y.Ae};throw qe(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:tM(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:qe(27497)})(n,e.precondition)),t}function rM(n,e){return n&&n.length>0?(_t(e!==void 0,14353),n.map((t=>(function(o,c){let f=o.updateTime?lr(o.updateTime):lr(c);return f.isEqual(Ye.min())&&(f=lr(c)),new zP(f,o.transformResults||[])})(t,e)))):[]}function aM(n,e){return{documents:[UE(n,e.path)]}}function oM(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=UE(n,o);const c=(function(x){if(x.length!==0)return HE(Ps.create(x,"and"))})(e.filters);c&&(t.structuredQuery.where=c);const f=(function(x){if(x.length!==0)return x.map((w=>(function(R){return{field:vc(R.field),direction:uM(R.dir)}})(w)))})(e.orderBy);f&&(t.structuredQuery.orderBy=f);const y=Zg(n,e.limit);return y!==null&&(t.structuredQuery.limit=y),e.startAt&&(t.structuredQuery.startAt=(function(x){return{before:x.inclusive,values:x.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(x){return{before:!x.inclusive,values:x.position}})(e.endAt)),{ft:t,parent:o}}function lM(n){let e=nM(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){_t(s===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let c=[];t.where&&(c=(function(N){const R=BE(N);return R instanceof Ps&&yE(R)?R.getFilters():[R]})(t.where));let f=[];t.orderBy&&(f=(function(N){return N.map((R=>(function(O){return new ah(xc(O.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(R)))})(t.orderBy));let y=null;t.limit&&(y=(function(N){let R;return R=typeof N=="object"?N.value:N,tm(R)?null:R})(t.limit));let v=null;t.startAt&&(v=(function(N){const R=!!N.before,P=N.values||[];return new xf(P,R)})(t.startAt));let x=null;return t.endAt&&(x=(function(N){const R=!N.before,P=N.values||[];return new xf(P,R)})(t.endAt)),AP(e,o,f,c,y,"F",v,x)}function cM(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function BE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=xc(t.unaryFilter.field);return tn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=xc(t.unaryFilter.field);return tn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=xc(t.unaryFilter.field);return tn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=xc(t.unaryFilter.field);return tn.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return tn.create(xc(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Ps.create(t.compositeFilter.filters.map((s=>BE(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return qe(1026)}})(t.compositeFilter.op))})(n):qe(30097,{filter:n})}function uM(n){return QP[n]}function hM(n){return XP[n]}function dM(n){return JP[n]}function vc(n){return{fieldPath:n.canonicalString()}}function xc(n){return jn.fromServerFormat(n.fieldPath)}function HE(n){return n instanceof tn?(function(t){if(t.op==="=="){if(bb(t.value))return{unaryFilter:{field:vc(t.field),op:"IS_NAN"}};if(xb(t.value))return{unaryFilter:{field:vc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(bb(t.value))return{unaryFilter:{field:vc(t.field),op:"IS_NOT_NAN"}};if(xb(t.value))return{unaryFilter:{field:vc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vc(t.field),op:hM(t.op),value:t.value}}})(n):n instanceof Ps?(function(t){const s=t.getFilters().map((o=>HE(o)));return s.length===1?s[0]:{compositeFilter:{op:dM(t.op),filters:s}}})(n):qe(54877,{filter:n})}function fM(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function FE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,t,s,o,c=Ye.min(),f=Ye.min(),y=On.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new uo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.yt=e}}function pM(n){const e=lM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?bf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(){this.Cn=new yM}addToCollectionParentIndex(e,t){return this.Cn.add(t),ye.resolve()}getCollectionParents(e,t){return ye.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ye.resolve()}deleteFieldIndex(e,t){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,t){return ye.resolve()}getDocumentsMatchingTarget(e,t){return ye.resolve(null)}getIndexType(e,t){return ye.resolve(0)}getFieldIndexes(e,t){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,t){return ye.resolve(xo.min())}getMinOffsetFromCollectionGroup(e,t){return ye.resolve(xo.min())}updateCollectionGroup(e,t,s){return ye.resolve()}updateIndexEntries(e,t){return ye.resolve()}}class yM{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new dn(It.comparator),c=!o.has(s);return this.index[t]=o.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new dn(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qE=41943040;class _i{static withCacheSize(e){return new _i(e,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i.DEFAULT_COLLECTION_PERCENTILE=10,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_i.DEFAULT=new _i(qE,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_i.DISABLED=new _i(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new jc(0)}static cr(){return new jc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="LruGarbageCollector",_M=1048576;function Lb([n,e],[t,s]){const o=lt(n,t);return o===0?lt(e,s):o}class vM{constructor(e){this.Ir=e,this.buffer=new dn(Lb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Lb(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class xM{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Oe(kb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Hc(t)?Oe(kb,"Ignoring IndexedDB error during garbage collection: ",t):await Bc(t)}await this.Vr(3e5)}))}}class bM{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return ye.resolve(em.ce);const s=new vM(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(Db)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Db):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,c,f,y,v,x;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((N=>(N>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,f=Date.now(),this.nthSequenceNumber(e,o)))).next((N=>(s=N,y=Date.now(),this.removeTargets(e,s,t)))).next((N=>(c=N,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((N=>(x=Date.now(),yc()<=ot.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-w}ms
	Determined least recently used ${o} in `+(y-f)+`ms
	Removed ${c} targets in `+(v-y)+`ms
	Removed ${N} documents in `+(x-v)+`ms
Total Duration: ${x-w}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:N}))))}}function wM(n,e){return new bM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this.changes=new Sl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ye.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&Qu(s.mutation,o,Rs.empty(),Pt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,ct()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=ct()){const o=cl();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((c=>{let f=qu();return c.forEach(((y,v)=>{f=f.insert(y,v.overlayedDocument)})),f}))))}getOverlayedDocuments(e,t){const s=cl();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,ct())))}populateOverlays(e,t,s){const o=[];return s.forEach((c=>{t.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,y)=>{t.set(f,y)}))}))}computeViews(e,t,s,o){let c=ca();const f=Wu(),y=(function(){return Wu()})();return t.forEach(((v,x)=>{const w=s.get(x.key);o.has(x.key)&&(w===void 0||w.mutation instanceof Nl)?c=c.insert(x.key,x):w!==void 0?(f.set(x.key,w.mutation.getFieldMask()),Qu(w.mutation,x,w.mutation.getFieldMask(),Pt.now())):f.set(x.key,Rs.empty())})),this.recalculateAndSaveOverlays(e,c).next((v=>(v.forEach(((x,w)=>f.set(x,w))),t.forEach(((x,w)=>y.set(x,new TM(w,f.get(x)??null)))),y)))}recalculateAndSaveOverlays(e,t){const s=Wu();let o=new qt(((f,y)=>f-y)),c=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((f=>{for(const y of f)y.keys().forEach((v=>{const x=t.get(v);if(x===null)return;let w=s.get(v)||Rs.empty();w=y.applyToLocalView(x,w),s.set(v,w);const N=(o.get(y.batchId)||ct()).add(v);o=o.insert(y.batchId,N)}))})).next((()=>{const f=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),x=v.key,w=v.value,N=NE();w.forEach((R=>{if(!c.has(R)){const P=OE(t.get(R),s.get(R));P!==null&&N.set(R,P),c=c.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,x,N))}return ye.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(f){return Ue.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):bE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-c.size):ye.resolve(cl());let y=nh,v=c;return f.next((x=>ye.forEach(x,((w,N)=>(y<N.largestBatchId&&(y=N.largestBatchId),c.get(w)?ye.resolve():this.remoteDocumentCache.getEntry(e,w).next((R=>{v=v.insert(w,R)}))))).next((()=>this.populateOverlays(e,x,c))).next((()=>this.computeViews(e,v,x,ct()))).next((w=>({batchId:y,changes:SE(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ue(t)).next((s=>{let o=qu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const c=t.collectionGroup;let f=qu();return this.indexManager.getCollectionParents(e,c).next((y=>ye.forEach(y,(v=>{const x=(function(N,R){return new Fc(R,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)})(t,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,x,s,o).next((w=>{w.forEach(((N,R)=>{f=f.insert(N,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c,o)))).next((f=>{c.forEach(((v,x)=>{const w=x.getKey();f.get(w)===null&&(f=f.insert(w,zn.newInvalidDocument(w)))}));let y=qu();return f.forEach(((v,x)=>{const w=c.get(v);w!==void 0&&Qu(w.mutation,x,Rs.empty(),Pt.now()),sm(t,x)&&(y=y.insert(v,x))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ye.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:lr(o.createTime)}})(t)),ye.resolve()}getNamedQuery(e,t){return ye.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:pM(o.bundledQuery),readTime:lr(o.readTime)}})(t)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.overlays=new qt(Ue.comparator),this.qr=new Map}getOverlay(e,t){return ye.resolve(this.overlays.get(t))}getOverlays(e,t){const s=cl();return ye.forEach(t,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,c)=>{this.St(e,t,c)})),ye.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),ye.resolve()}getOverlaysForCollection(e,t,s){const o=cl(),c=t.length+1,f=new Ue(t.child("")),y=this.overlays.getIteratorFrom(f);for(;y.hasNext();){const v=y.getNext().value,x=v.getKey();if(!t.isPrefixOf(x.path))break;x.path.length===c&&v.largestBatchId>s&&o.set(v.getKey(),v)}return ye.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let c=new qt(((x,w)=>x-w));const f=this.overlays.getIterator();for(;f.hasNext();){const x=f.getNext().value;if(x.getKey().getCollectionGroup()===t&&x.largestBatchId>s){let w=c.get(x.largestBatchId);w===null&&(w=cl(),c=c.insert(x.largestBatchId,w)),w.set(x.getKey(),x)}}const y=cl(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((x,w)=>y.set(x,w))),!(y.size()>=o)););return ye.resolve(y)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new GP(t,s));let c=this.qr.get(t);c===void 0&&(c=ct(),this.qr.set(t,c)),this.qr.set(t,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(){this.sessionToken=On.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(){this.Qr=new dn(Sn.$r),this.Ur=new dn(Sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Sn(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Sn(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new Ue(new It([])),s=new Sn(t,e),o=new Sn(t,e+1),c=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ue(new It([])),s=new Sn(t,e),o=new Sn(t,e+1);let c=ct();return this.Ur.forEachInRange([s,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const t=new Sn(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Sn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ue.comparator(e.key,t.key)||lt(e.Yr,t.Yr)}static Kr(e,t){return lt(e.Yr,t.Yr)||Ue.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new dn(Sn.$r)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new qP(c,t,s,o);this.mutationQueue.push(f);for(const y of o)this.Zr=this.Zr.add(new Sn(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return ye.resolve(f)}lookupMutationBatch(e,t){return ye.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),c=o<0?0:o;return ye.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?Iy:this.tr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Sn(t,0),o=new Sn(t,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(f=>{const y=this.Xr(f.Yr);c.push(y)})),ye.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new dn(lt);return t.forEach((o=>{const c=new Sn(o,0),f=new Sn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(y=>{s=s.add(y.Yr)}))})),ye.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let c=s;Ue.isDocumentKey(c)||(c=c.child(""));const f=new Sn(new Ue(c),0);let y=new dn(lt);return this.Zr.forEachWhile((v=>{const x=v.key.path;return!!s.isPrefixOf(x)&&(x.length===o&&(y=y.add(v.Yr)),!0)}),f),ye.resolve(this.ti(y))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){_t(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ye.forEach(t.mutations,(o=>{const c=new Sn(o.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Sn(t,0),o=this.Zr.firstAfterOrEqual(s);return ye.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.ri=e,this.docs=(function(){return new qt(Ue.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),c=o?o.size:0,f=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ye.resolve(s?s.document.mutableCopy():zn.newInvalidDocument(t))}getEntries(e,t){let s=ca();return t.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():zn.newInvalidDocument(o))})),ye.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let c=ca();const f=t.path,y=new Ue(f.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:x,value:{document:w}}=v.getNext();if(!f.isPrefixOf(x.path))break;x.path.length>f.length+1||rP(sP(w),s)<=0||(o.has(w.key)||sm(t,w))&&(c=c.insert(w.key,w.mutableCopy()))}return ye.resolve(c)}getAllFromCollectionGroup(e,t,s,o){qe(9500)}ii(e,t){return ye.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new jM(this)}getSize(e){return ye.resolve(this.size)}}class jM extends EM{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ye.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.persistence=e,this.si=new Sl((t=>Py(t)),My),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.oi=0,this._i=new By,this.targetCount=0,this.ai=jc.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),ye.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new jc(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ye.resolve()}updateTargetData(e,t){return this.Pr(t),ye.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,t,s){let o=0;const c=[];return this.si.forEach(((f,y)=>{y.sequenceNumber<=t&&s.get(y.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),ye.waitFor(c).next((()=>o))}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return ye.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),ye.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),ye.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ye.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return ye.resolve(s)}containsKey(e,t){return ye.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,t){this.ui={},this.overlays={},this.ci=new em(0),this.li=!1,this.li=!0,this.hi=new RM,this.referenceDelegate=e(this),this.Pi=new OM(this),this.indexManager=new gM,this.remoteDocumentCache=(function(o){return new IM(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new mM(t),this.Ii=new NM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new AM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new CM(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){Oe("MemoryPersistence","Starting transaction:",e);const o=new PM(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,t){return ye.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class PM extends oP{constructor(e){super(),this.currentSequenceNumber=e}}class Hy{constructor(e){this.persistence=e,this.Ri=new By,this.Vi=null}static mi(e){return new Hy(e)}get fi(){if(this.Vi)return this.Vi;throw qe(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),ye.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),ye.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ye.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.fi,(s=>{const o=Ue.fromPath(s);return this.gi(e,o).next((c=>{c||t.removeEntry(o,Ye.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ye.or([()=>ye.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Sf{constructor(e,t){this.persistence=e,this.pi=new Sl((s=>uP(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=wM(this,t)}static mi(e,t){return new Sf(e,t)}Ei(){}di(e){return ye.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return ye.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?ye.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,t).next((y=>{y||(s++,c.removeEntry(f,Ye.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ye.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ye.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ye.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Qd(e.data.value)),t}br(e,t,s){return ye.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ye.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=ct(),o=ct();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Fy(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Aj()?8:lP(Hn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const c={result:null};return this.ys(e,t).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(e,t,o,s).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new MM;return this.Ss(e,t,f).next((y=>{if(c.result=y,this.Vs)return this.bs(e,t,f,y.size)}))})).next((()=>c.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(yc()<=ot.DEBUG&&Oe("QueryEngine","SDK will not create cache indexes for query:",_c(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ye.resolve()):(yc()<=ot.DEBUG&&Oe("QueryEngine","Query:",_c(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(yc()<=ot.DEBUG&&Oe("QueryEngine","The SDK decides to create cache indexes for query:",_c(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ar(t))):ye.resolve())}ys(e,t){if(Sb(t))return ye.resolve(null);let s=ar(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=bf(t,null,"F"),s=ar(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const f=ct(...c);return this.ps.getDocuments(e,f).next((y=>this.indexManager.getMinOffset(e,s).next((v=>{const x=this.Ds(t,y);return this.Cs(t,x,f,v.readTime)?this.ys(e,bf(t,null,"F")):this.vs(e,x,t,v)}))))})))))}ws(e,t,s,o){return Sb(t)||o.isEqual(Ye.min())?ye.resolve(null):this.ps.getDocuments(e,s).next((c=>{const f=this.Ds(t,c);return this.Cs(t,f,s,o)?ye.resolve(null):(yc()<=ot.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_c(t)),this.vs(e,f,t,iP(o,nh)).next((y=>y)))}))}Ds(e,t){let s=new dn(EE(e));return t.forEach(((o,c)=>{sm(e,c)&&(s=s.add(c))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,t,s){return yc()<=ot.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",_c(t)),this.ps.getDocumentsMatchingQuery(e,t,xo.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(t.forEach((f=>{c=c.insert(f.key,f)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="LocalStore",kM=3e8;class LM{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new qt(lt),this.xs=new Sl((c=>Py(c)),My),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function VM(n,e,t,s){return new LM(n,e,t,s)}async function $E(n,e){const t=We(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((c=>{const f=[],y=[];let v=ct();for(const x of o){f.push(x.batchId);for(const w of x.mutations)v=v.add(w.key)}for(const x of c){y.push(x.batchId);for(const w of x.mutations)v=v.add(w.key)}return t.localDocuments.getDocuments(s,v).next((x=>({Ls:x,removedBatchIds:f,addedBatchIds:y})))}))}))}function UM(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,x,w){const N=x.batch,R=N.keys();let P=ye.resolve();return R.forEach((O=>{P=P.next((()=>w.getEntry(v,O))).next((F=>{const z=x.docVersions.get(O);_t(z!==null,48541),F.version.compareTo(z)<0&&(N.applyToRemoteDocument(F,x),F.isValidDocument()&&(F.setReadTime(x.commitVersion),w.addEntry(F)))}))})),P.next((()=>y.mutationQueue.removeMutationBatch(v,N)))})(t,s,e,c).next((()=>c.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(y){let v=ct();for(let x=0;x<y.mutationResults.length;++x)y.mutationResults[x].transformResults.length>0&&(v=v.add(y.batch.mutations[x].key));return v})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function ZE(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function zM(n,e){const t=We(n),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const y=[];e.targetChanges.forEach(((w,N)=>{const R=o.get(N);if(!R)return;y.push(t.Pi.removeMatchingKeys(c,w.removedDocuments,N).next((()=>t.Pi.addMatchingKeys(c,w.addedDocuments,N))));let P=R.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(N)!==null?P=P.withResumeToken(On.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):w.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(w.resumeToken,s)),o=o.insert(N,P),(function(F,z,ce){return F.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=kM?!0:ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0})(R,P,w)&&y.push(t.Pi.updateTargetData(c,P))}));let v=ca(),x=ct();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&y.push(t.persistence.referenceDelegate.updateLimboDocument(c,w))})),y.push(BM(c,f,e.documentUpdates).next((w=>{v=w.ks,x=w.qs}))),!s.isEqual(Ye.min())){const w=t.Pi.getLastRemoteSnapshotVersion(c).next((N=>t.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));y.push(w)}return ye.waitFor(y).next((()=>f.apply(c))).next((()=>t.localDocuments.getLocalViewOfDocuments(c,v,x))).next((()=>v))})).then((c=>(t.Ms=o,c)))}function BM(n,e,t){let s=ct(),o=ct();return t.forEach((c=>s=s.add(c))),e.getEntries(n,s).next((c=>{let f=ca();return t.forEach(((y,v)=>{const x=c.get(y);v.isFoundDocument()!==x.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(Ye.min())?(e.removeEntry(y,v.readTime),f=f.insert(y,v)):!x.isValidDocument()||v.version.compareTo(x.version)>0||v.version.compareTo(x.version)===0&&x.hasPendingWrites?(e.addEntry(v),f=f.insert(y,v)):Oe(qy,"Ignoring outdated watch update for ",y,". Current version:",x.version," Watch version:",v.version)})),{ks:f,qs:o}}))}function HM(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Iy),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function FM(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((c=>c?(o=c,ye.resolve(o)):t.Pi.allocateTargetId(s).next((f=>(o=new uo(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Qg(n,e,t){const s=We(n),o=s.Ms.get(e),c=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",c,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Hc(f))throw f;Oe(qy,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Vb(n,e,t){const s=We(n);let o=Ye.min(),c=ct();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(v,x,w){const N=We(v),R=N.xs.get(w);return R!==void 0?ye.resolve(N.Ms.get(R)):N.Pi.getTargetData(x,w)})(s,f,ar(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,y.targetId).next((v=>{c=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,t?o:Ye.min(),t?c:ct()))).next((y=>(qM(s,CP(e),y),{documents:y,Qs:c})))))}function qM(n,e,t){let s=n.Os.get(e)||Ye.min();t.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),n.Os.set(e,s)}class Ub{constructor(){this.activeTargetIds=DP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GM{constructor(){this.Mo=new Ub,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ub,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="ConnectivityMonitor";class Bb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Oe(zb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Oe(zb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vd=null;function Xg(){return Vd===null?Vd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vd++,"0x"+Vd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="RestConnection",ZM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===_f?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,c){const f=Xg(),y=this.zo(e,t.toUriEncodedString());Oe(mg,`Sending RPC '${e}' ${f}:`,y,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,c);const{host:x}=new URL(y),w=wl(x);return this.Jo(e,y,v,s,w).then((N=>(Oe(mg,`Received RPC '${e}' ${f}: `,N),N)),(N=>{throw Ac(mg,`RPC '${e}' ${f} failed with error: `,N,"url: ",y,"request:",s),N}))}Ho(e,t,s,o,c,f){return this.Go(e,t,s,o,c)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,t){const s=ZM[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn="WebChannelConnection";class WM extends KM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,c){const f=Xg();return new Promise(((y,v)=>{const x=new W1;x.setWithCredentials(!0),x.listenOnce(Q1.COMPLETE,(()=>{try{switch(x.getLastErrorCode()){case Wd.NO_ERROR:const N=x.getResponseJson();Oe(Vn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(N)),y(N);break;case Wd.TIMEOUT:Oe(Vn,`RPC '${e}' ${f} timed out`),v(new Ie(pe.DEADLINE_EXCEEDED,"Request time out"));break;case Wd.HTTP_ERROR:const R=x.getStatus();if(Oe(Vn,`RPC '${e}' ${f} failed with status:`,R,"response text:",x.getResponseText()),R>0){let P=x.getResponseJson();Array.isArray(P)&&(P=P[0]);const O=P==null?void 0:P.error;if(O&&O.status&&O.message){const F=(function(ce){const $=ce.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf($)>=0?$:pe.UNKNOWN})(O.status);v(new Ie(F,O.message))}else v(new Ie(pe.UNKNOWN,"Server responded with status "+x.getStatus()))}else v(new Ie(pe.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{l_:e,streamId:f,h_:x.getLastErrorCode(),P_:x.getLastError()})}}finally{Oe(Vn,`RPC '${e}' ${f} completed.`)}}));const w=JSON.stringify(o);Oe(Vn,`RPC '${e}' ${f} sending request:`,o),x.send(t,"POST",w,s,15)}))}T_(e,t,s){const o=Xg(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=eE(),y=J1(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},x=this.longPollingOptions.timeoutSeconds;x!==void 0&&(v.longPollingTimeout=Math.round(1e3*x)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,t,s),v.encodeInitMessageHeaders=!0;const w=c.join("");Oe(Vn,`Creating RPC '${e}' stream ${o}: ${w}`,v);const N=f.createWebChannel(w,v);this.I_(N);let R=!1,P=!1;const O=new YM({Yo:z=>{P?Oe(Vn,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(R||(Oe(Vn,`Opening RPC '${e}' stream ${o} transport.`),N.open(),R=!0),Oe(Vn,`RPC '${e}' stream ${o} sending:`,z),N.send(z))},Zo:()=>N.close()}),F=(z,ce,$)=>{z.listen(ce,(W=>{try{$(W)}catch(we){setTimeout((()=>{throw we}),0)}}))};return F(N,Fu.EventType.OPEN,(()=>{P||(Oe(Vn,`RPC '${e}' stream ${o} transport opened.`),O.o_())})),F(N,Fu.EventType.CLOSE,(()=>{P||(P=!0,Oe(Vn,`RPC '${e}' stream ${o} transport closed`),O.a_(),this.E_(N))})),F(N,Fu.EventType.ERROR,(z=>{P||(P=!0,Ac(Vn,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),O.a_(new Ie(pe.UNAVAILABLE,"The operation could not be completed")))})),F(N,Fu.EventType.MESSAGE,(z=>{var ce;if(!P){const $=z.data[0];_t(!!$,16349);const W=$,we=(W==null?void 0:W.error)||((ce=W[0])==null?void 0:ce.error);if(we){Oe(Vn,`RPC '${e}' stream ${o} received error:`,we);const le=we.status;let Ee=(function(U){const K=en[U];if(K!==void 0)return ME(K)})(le),Z=we.message;Ee===void 0&&(Ee=pe.INTERNAL,Z="Unknown error status: "+le+" with message "+we.message),P=!0,O.a_(new Ie(Ee,Z)),N.close()}else Oe(Vn,`RPC '${e}' stream ${o} received:`,$),O.u_($)}})),F(y,X1.STAT_EVENT,(z=>{z.stat===zg.PROXY?Oe(Vn,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===zg.NOPROXY&&Oe(Vn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function pg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(n){return new eM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,t,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&Oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="PersistentStream";class YE{constructor(e,t,s,o,c,f,y,v){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(la(t.toString()),la("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new Ie(pe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Oe(Hb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Oe(Hb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QM extends YE{constructor(e,t,s,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,f),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=iM(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Ye.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Ye.min():f.readTime?lr(f.readTime):Ye.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Wg(this.serializer),t.addTarget=(function(c,f){let y;const v=f.target;if(y=Gg(v)?{documents:aM(c,v)}:{query:oM(c,v).ft},y.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){y.resumeToken=LE(c,f.resumeToken);const x=Zg(c,f.expectedCount);x!==null&&(y.expectedCount=x)}else if(f.snapshotVersion.compareTo(Ye.min())>0){y.readTime=Tf(c,f.snapshotVersion.toTimestamp());const x=Zg(c,f.expectedCount);x!==null&&(y.expectedCount=x)}return y})(this.serializer,e);const s=cM(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Wg(this.serializer),t.removeTarget=e,this.q_(t)}}class XM extends YE{constructor(e,t,s,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return _t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=rM(e.writeResults,e.commitTime),s=lr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Wg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>sM(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{}class eD extends JM{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ie(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(e,Kg(t,s),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ie(pe.UNKNOWN,c.toString())}))}Ho(e,t,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,y])=>this.connection.Ho(e,Kg(t,s),o,f,y,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Ie(pe.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class tD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(la(t),this.aa=!1):Oe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl="RemoteStore";class nD{constructor(e,t,s,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Al(this)&&(Oe(xl,"Restarting streams for network reachability change."),await(async function(v){const x=We(v);x.Ea.add(4),await Eh(x),x.Ra.set("Unknown"),x.Ea.delete(4),await cm(x)})(this))}))})),this.Ra=new tD(s,o)}}async function cm(n){if(Al(n))for(const e of n.da)await e(!0)}async function Eh(n){for(const e of n.da)await e(!1)}function WE(n,e){const t=We(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ky(t)?Zy(t):qc(t).O_()&&$y(t,e))}function Gy(n,e){const t=We(n),s=qc(t);t.Ia.delete(e),s.O_()&&QE(t,e),t.Ia.size===0&&(s.O_()?s.L_():Al(t)&&t.Ra.set("Unknown"))}function $y(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}qc(n).Y_(e)}function QE(n,e){n.Va.Ue(e),qc(n).Z_(e)}function Zy(n){n.Va=new WP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),qc(n).start(),n.Ra.ua()}function Ky(n){return Al(n)&&!qc(n).x_()&&n.Ia.size>0}function Al(n){return We(n).Ea.size===0}function XE(n){n.Va=void 0}async function iD(n){n.Ra.set("Online")}async function sD(n){n.Ia.forEach(((e,t)=>{$y(n,e)}))}async function rD(n,e){XE(n),Ky(n)?(n.Ra.ha(e),Zy(n)):n.Ra.set("Unknown")}async function aD(n,e,t){if(n.Ra.set("Online"),e instanceof kE&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const y of c.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,f),o.Ia.delete(y),o.Va.removeTarget(y))})(n,e)}catch(s){Oe(xl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Nf(n,s)}else if(e instanceof ef?n.Va.Ze(e):e instanceof DE?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ye.min()))try{const s=await ZE(n.localStore);t.compareTo(s)>=0&&await(function(c,f){const y=c.Va.Tt(f);return y.targetChanges.forEach(((v,x)=>{if(v.resumeToken.approximateByteSize()>0){const w=c.Ia.get(x);w&&c.Ia.set(x,w.withResumeToken(v.resumeToken,f))}})),y.targetMismatches.forEach(((v,x)=>{const w=c.Ia.get(v);if(!w)return;c.Ia.set(v,w.withResumeToken(On.EMPTY_BYTE_STRING,w.snapshotVersion)),QE(c,v);const N=new uo(w.target,v,x,w.sequenceNumber);$y(c,N)})),c.remoteSyncer.applyRemoteEvent(y)})(n,t)}catch(s){Oe(xl,"Failed to raise snapshot:",s),await Nf(n,s)}}async function Nf(n,e,t){if(!Hc(e))throw e;n.Ea.add(1),await Eh(n),n.Ra.set("Offline"),t||(t=()=>ZE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Oe(xl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await cm(n)}))}function JE(n,e){return e().catch((t=>Nf(n,t,e)))}async function um(n){const e=We(n),t=To(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Iy;for(;oD(e);)try{const o=await HM(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,lD(e,o)}catch(o){await Nf(e,o)}eT(e)&&tT(e)}function oD(n){return Al(n)&&n.Ta.length<10}function lD(n,e){n.Ta.push(e);const t=To(n);t.O_()&&t.X_&&t.ea(e.mutations)}function eT(n){return Al(n)&&!To(n).x_()&&n.Ta.length>0}function tT(n){To(n).start()}async function cD(n){To(n).ra()}async function uD(n){const e=To(n);for(const t of n.Ta)e.ea(t.mutations)}async function hD(n,e,t){const s=n.Ta.shift(),o=Vy.from(s,e,t);await JE(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await um(n)}async function dD(n,e){e&&To(n).X_&&await(async function(s,o){if((function(f){return ZP(f)&&f!==pe.ABORTED})(o.code)){const c=s.Ta.shift();To(s).B_(),await JE(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await um(s)}})(n,e),eT(n)&&tT(n)}async function Fb(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Oe(xl,"RemoteStore received new credentials");const s=Al(t);t.Ea.add(3),await Eh(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await cm(t)}async function fD(n,e){const t=We(n);e?(t.Ea.delete(2),await cm(t)):e||(t.Ea.add(2),await Eh(t),t.Ra.set("Unknown"))}function qc(n){return n.ma||(n.ma=(function(t,s,o){const c=We(t);return c.sa(),new QM(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Xo:iD.bind(null,n),t_:sD.bind(null,n),r_:rD.bind(null,n),H_:aD.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Ky(n)?Zy(n):n.Ra.set("Unknown")):(await n.ma.stop(),XE(n))}))),n.ma}function To(n){return n.fa||(n.fa=(function(t,s,o){const c=We(t);return c.sa(),new XM(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:cD.bind(null,n),r_:dD.bind(null,n),ta:uD.bind(null,n),na:hD.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await um(n)):(await n.fa.stop(),n.Ta.length>0&&(Oe(xl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,t,s,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new po,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,c){const f=Date.now()+s,y=new Yy(e,t,f,o,c);return y.start(s),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wy(n,e){if(la("AsyncQueue",`${e}: ${n}`),Hc(n))return new Ie(pe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{static emptySet(e){return new wc(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ue.comparator(t.key,s.key):(t,s)=>Ue.comparator(t.key,s.key),this.keyedMap=qu(),this.sortedSet=new qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new wc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(){this.ga=new qt(Ue.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):qe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Oc{constructor(e,t,s,o,c,f,y,v,x){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=x}static fromInitialDocuments(e,t,s,o,c){const f=[];return t.forEach((y=>{f.push({type:0,doc:y})})),new Oc(e,t,wc.emptySet(t),f,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&im(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class pD{constructor(){this.queries=Gb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=We(t),c=o.queries;o.queries=Gb(),c.forEach(((f,y)=>{for(const v of y.Sa)v.onError(s)}))})(this,new Ie(pe.ABORTED,"Firestore shutting down"))}}function Gb(){return new Sl((n=>wE(n)),im)}async function nT(n,e){const t=We(n);let s=3;const o=e.query;let c=t.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new mD,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await t.onListen(o,!0);break;case 1:c.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(f){const y=Wy(f,`Initialization of query '${_c(e.query)}' failed`);return void e.onError(y)}t.queries.set(o,c),c.Sa.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&Qy(t)}async function iT(n,e){const t=We(n),s=e.query;let o=3;const c=t.queries.get(s);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function gD(n,e){const t=We(n);let s=!1;for(const o of e){const c=o.query,f=t.queries.get(c);if(f){for(const y of f.Sa)y.Fa(o)&&(s=!0);f.wa=o}}s&&Qy(t)}function yD(n,e,t){const s=We(n),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(t);s.queries.delete(e)}function Qy(n){n.Ca.forEach((e=>{e.next()}))}var Jg,$b;($b=Jg||(Jg={})).Ma="default",$b.Cache="cache";class sT{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Oc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Oc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Jg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this.key=e}}class aT{constructor(e){this.key=e}}class _D{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ct(),this.mutatedKeys=ct(),this.eu=EE(e),this.tu=new wc(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new qb,o=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,f=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,x=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,N)=>{const R=o.get(w),P=sm(this.query,N)?N:null,O=!!R&&this.mutatedKeys.has(R.key),F=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let z=!1;R&&P?R.data.isEqual(P.data)?O!==F&&(s.track({type:3,doc:P}),z=!0):this.su(R,P)||(s.track({type:2,doc:P}),z=!0,(v&&this.eu(P,v)>0||x&&this.eu(P,x)<0)&&(y=!0)):!R&&P?(s.track({type:0,doc:P}),z=!0):R&&!P&&(s.track({type:1,doc:R}),z=!0,(v||x)&&(y=!0)),z&&(P?(f=f.add(P),c=F?c.add(w):c.delete(w)):(f=f.delete(w),c=c.delete(w)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const w=this.query.limitType==="F"?f.last():f.first();f=f.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{tu:f,iu:s,Cs:y,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((w,N)=>(function(P,O){const F=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{Rt:z})}};return F(P)-F(O)})(w.type,N.type)||this.eu(w.doc,N.doc))),this.ou(s),o=o??!1;const y=t&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,x=v!==this.Za;return this.Za=v,f.length!==0||x?{snapshot:new Oc(this.query,e.tu,c,f,e.mutatedKeys,v===0,x,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ct(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new aT(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new rT(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=ct();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Oc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xy="SyncEngine";class vD{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class xD{constructor(e){this.key=e,this.hu=!1}}class bD{constructor(e,t,s,o,c,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Sl((y=>wE(y)),im),this.Iu=new Map,this.Eu=new Set,this.du=new qt(Ue.comparator),this.Au=new Map,this.Ru=new By,this.Vu={},this.mu=new Map,this.fu=jc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wD(n,e,t=!0){const s=dT(n);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await oT(s,e,t,!0),o}async function ED(n,e){const t=dT(n);await oT(t,e,!0,!1)}async function oT(n,e,t,s){const o=await FM(n.localStore,ar(e)),c=o.targetId,f=n.sharedClientState.addLocalQueryTarget(c,t);let y;return s&&(y=await TD(n,e,c,f==="current",o.resumeToken)),n.isPrimaryClient&&t&&WE(n.remoteStore,o),y}async function TD(n,e,t,s,o){n.pu=(N,R,P)=>(async function(F,z,ce,$){let W=z.view.ru(ce);W.Cs&&(W=await Vb(F.localStore,z.query,!1).then((({documents:Z})=>z.view.ru(Z,W))));const we=$&&$.targetChanges.get(z.targetId),le=$&&$.targetMismatches.get(z.targetId)!=null,Ee=z.view.applyChanges(W,F.isPrimaryClient,we,le);return Kb(F,z.targetId,Ee.au),Ee.snapshot})(n,N,R,P);const c=await Vb(n.localStore,e,!0),f=new _D(e,c.Qs),y=f.ru(c.documents),v=wh.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),x=f.applyChanges(y,n.isPrimaryClient,v);Kb(n,t,x.au);const w=new vD(e,t,f);return n.Tu.set(e,w),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),x.snapshot}async function SD(n,e,t){const s=We(n),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((f=>!im(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Qg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Gy(s.remoteStore,o.targetId),ey(s,o.targetId)})).catch(Bc)):(ey(s,o.targetId),await Qg(s.localStore,o.targetId,!0))}async function ND(n,e){const t=We(n),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Gy(t.remoteStore,s.targetId))}async function AD(n,e,t){const s=MD(n);try{const o=await(function(f,y){const v=We(f),x=Pt.now(),w=y.reduce(((P,O)=>P.add(O.key)),ct());let N,R;return v.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let O=ca(),F=ct();return v.Ns.getEntries(P,w).next((z=>{O=z,O.forEach(((ce,$)=>{$.isValidDocument()||(F=F.add(ce))}))})).next((()=>v.localDocuments.getOverlayedDocuments(P,O))).next((z=>{N=z;const ce=[];for(const $ of y){const W=HP($,N.get($.key).overlayedDocument);W!=null&&ce.push(new Nl($.key,W,mE(W.value.mapValue),or.exists(!0)))}return v.mutationQueue.addMutationBatch(P,x,ce,y)})).next((z=>{R=z;const ce=z.applyToLocalDocumentSet(N,F);return v.documentOverlayCache.saveOverlays(P,z.batchId,ce)}))})).then((()=>({batchId:R.batchId,changes:SE(N)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,y,v){let x=f.Vu[f.currentUser.toKey()];x||(x=new qt(lt)),x=x.insert(y,v),f.Vu[f.currentUser.toKey()]=x})(s,o.batchId,t),await Th(s,o.changes),await um(s.remoteStore)}catch(o){const c=Wy(o,"Failed to persist write");t.reject(c)}}async function lT(n,e){const t=We(n);try{const s=await zM(t.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=t.Au.get(c);f&&(_t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?_t(f.hu,14607):o.removedDocuments.size>0&&(_t(f.hu,42227),f.hu=!1))})),await Th(t,s,e)}catch(s){await Bc(s)}}function Zb(n,e,t){const s=We(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((c,f)=>{const y=f.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(f,y){const v=We(f);v.onlineState=y;let x=!1;v.queries.forEach(((w,N)=>{for(const R of N.Sa)R.va(y)&&(x=!0)})),x&&Qy(v)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function RD(n,e,t){const s=We(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),c=o&&o.key;if(c){let f=new qt(Ue.comparator);f=f.insert(c,zn.newNoDocument(c,Ye.min()));const y=ct().add(c),v=new om(Ye.min(),new Map,new qt(lt),f,y);await lT(s,v),s.du=s.du.remove(c),s.Au.delete(e),Jy(s)}else await Qg(s.localStore,e,!1).then((()=>ey(s,e,t))).catch(Bc)}async function CD(n,e){const t=We(n),s=e.batch.batchId;try{const o=await UM(t.localStore,e);uT(t,s,null),cT(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Th(t,o)}catch(o){await Bc(o)}}async function ID(n,e,t){const s=We(n);try{const o=await(function(f,y){const v=We(f);return v.persistence.runTransaction("Reject batch","readwrite-primary",(x=>{let w;return v.mutationQueue.lookupMutationBatch(x,y).next((N=>(_t(N!==null,37113),w=N.keys(),v.mutationQueue.removeMutationBatch(x,N)))).next((()=>v.mutationQueue.performConsistencyCheck(x))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(x,w,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,w))).next((()=>v.localDocuments.getDocuments(x,w)))}))})(s.localStore,e);uT(s,e,t),cT(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Th(s,o)}catch(o){await Bc(o)}}function cT(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function uT(n,e,t){const s=We(n);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function ey(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((s=>{n.Ru.containsKey(s)||hT(n,s)}))}function hT(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Gy(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Jy(n))}function Kb(n,e,t){for(const s of t)s instanceof rT?(n.Ru.addReference(s.key,e),jD(n,s)):s instanceof aT?(Oe(Xy,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||hT(n,s.key)):qe(19791,{wu:s})}function jD(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(Oe(Xy,"New document in limbo: "+t),n.Eu.add(s),Jy(n))}function Jy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ue(It.fromString(e)),s=n.fu.next();n.Au.set(s,new xD(t)),n.du=n.du.insert(t,s),WE(n.remoteStore,new uo(ar(Dy(t.path)),s,"TargetPurposeLimboResolution",em.ce))}}async function Th(n,e,t){const s=We(n),o=[],c=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((y,v)=>{f.push(s.pu(v,e,t).then((x=>{var w;if((x||t)&&s.isPrimaryClient){const N=x?!x.fromCache:(w=t==null?void 0:t.targetChanges.get(v.targetId))==null?void 0:w.current;s.sharedClientState.updateQueryState(v.targetId,N?"current":"not-current")}if(x){o.push(x);const N=Fy.As(v.targetId,x);c.push(N)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(v,x){const w=We(v);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(N=>ye.forEach(x,(R=>ye.forEach(R.Es,(P=>w.persistence.referenceDelegate.addReference(N,R.targetId,P))).next((()=>ye.forEach(R.ds,(P=>w.persistence.referenceDelegate.removeReference(N,R.targetId,P)))))))))}catch(N){if(!Hc(N))throw N;Oe(qy,"Failed to update sequence numbers: "+N)}for(const N of x){const R=N.targetId;if(!N.fromCache){const P=w.Ms.get(R),O=P.snapshotVersion,F=P.withLastLimboFreeSnapshotVersion(O);w.Ms=w.Ms.insert(R,F)}}})(s.localStore,c))}async function OD(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Oe(Xy,"User change. New user:",e.toKey());const s=await $E(t.localStore,e);t.currentUser=e,(function(c,f){c.mu.forEach((y=>{y.forEach((v=>{v.reject(new Ie(pe.CANCELLED,f))}))})),c.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Th(t,s.Ls)}}function PD(n,e){const t=We(n),s=t.Au.get(e);if(s&&s.hu)return ct().add(s.key);{let o=ct();const c=t.Iu.get(e);if(!c)return o;for(const f of c){const y=t.Tu.get(f);o=o.unionWith(y.view.nu)}return o}}function dT(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RD.bind(null,e),e.Pu.H_=gD.bind(null,e.eventManager),e.Pu.yu=yD.bind(null,e.eventManager),e}function MD(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ID.bind(null,e),e}class Af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return VM(this.persistence,new DM,e.initialUser,this.serializer)}Cu(e){return new GE(Hy.mi,this.serializer)}Du(e){return new GM}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Af.provider={build:()=>new Af};class DD extends Af{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){_t(this.persistence.referenceDelegate instanceof Sf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new xM(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?_i.withCacheSize(this.cacheSizeBytes):_i.DEFAULT;return new GE((s=>Sf.mi(s,t)),this.serializer)}}class ty{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Zb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=OD.bind(null,this.syncEngine),await fD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new pD})()}createDatastore(e){const t=lm(e.databaseInfo.databaseId),s=(function(c){return new WM(c)})(e.databaseInfo);return(function(c,f,y,v){return new eD(c,f,y,v)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,c,f,y){return new nD(s,o,c,f,y)})(this.localStore,this.datastore,e.asyncQueue,(t=>Zb(this.syncEngine,t,0)),(function(){return Bb.v()?new Bb:new $M})())}createSyncEngine(e,t){return(function(o,c,f,y,v,x,w){const N=new bD(o,c,f,y,v,x);return w&&(N.gu=!0),N})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const c=We(o);Oe(xl,"RemoteStore shutting down."),c.Ea.add(5),await Eh(c),c.Aa.shutdown(),c.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}ty.provider={build:()=>new ty};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):la("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="FirestoreClient";class kD{constructor(e,t,s,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Un.UNAUTHENTICATED,this.clientId=Cy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async f=>{Oe(So,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(Oe(So,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new po;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Wy(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function gg(n,e){n.asyncQueue.verifyOperationInProgress(),Oe(So,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await $E(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Yb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await LD(n);Oe(So,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>Fb(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>Fb(e.remoteStore,o))),n._onlineComponents=e}async function LD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Oe(So,"Using user provided OfflineComponentProvider");try{await gg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===pe.FAILED_PRECONDITION||o.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Ac("Error using user provided cache. Falling back to memory cache: "+t),await gg(n,new Af)}}else Oe(So,"Using default OfflineComponentProvider"),await gg(n,new DD(void 0));return n._offlineComponents}async function mT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Oe(So,"Using user provided OnlineComponentProvider"),await Yb(n,n._uninitializedComponentsProvider._online)):(Oe(So,"Using default OnlineComponentProvider"),await Yb(n,new ty))),n._onlineComponents}function VD(n){return mT(n).then((e=>e.syncEngine))}async function ny(n){const e=await mT(n),t=e.eventManager;return t.onListen=wD.bind(null,e.syncEngine),t.onUnlisten=SD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ED.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ND.bind(null,e.syncEngine),t}function UD(n,e,t={}){const s=new po;return n.asyncQueue.enqueueAndForget((async()=>(function(c,f,y,v,x){const w=new fT({next:R=>{w.Nu(),f.enqueueAndForget((()=>iT(c,N))),R.fromCache&&v.source==="server"?x.reject(new Ie(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(R)},error:R=>x.reject(R)}),N=new sT(y,w,{includeMetadataChanges:!0,qa:!0});return nT(c,N)})(await ny(n),n.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="firestore.googleapis.com",Qb=!0;class Xb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gT,this.ssl=Qb}else this.host=e.host,this.ssl=e.ssl??Qb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_M)throw new Ie(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ie(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ie(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ie(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hm{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new GO;switch(s.type){case"firstParty":return new YO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ie(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=Wb.get(t);s&&(Oe("ComponentProvider","Removing Datastore"),Wb.delete(t),s.terminate())})(this),Promise.resolve()}}function zD(n,e,t,s={}){var x;n=sa(n,hm);const o=wl(e),c=n._getSettings(),f={...c,emulatorOptions:n._getEmulatorOptions()},y=`${e}:${t}`;o&&(Ey(`https://${y}`),Ty("Firestore",!0)),c.host!==gT&&c.host!==y&&Ac("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:y,ssl:o,emulatorOptions:s};if(!yl(v,f)&&(n._setSettings(v),s.mockUserToken)){let w,N;if(typeof s.mockUserToken=="string")w=s.mockUserToken,N=Un.MOCK_USER;else{w=F1(s.mockUserToken,(x=n._app)==null?void 0:x.options.projectId);const R=s.mockUserToken.sub||s.mockUserToken.user_id;if(!R)throw new Ie(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Un(R)}n._authCredentials=new $O(new nE(w,N))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new da(this.firestore,e,this._query)}}class sn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}toJSON(){return{type:sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(xh(t,sn._jsonSchema))return new sn(e,s||null,new Ue(It.fromString(t.referencePath)))}}sn._jsonSchemaVersion="firestore/documentReference/1.0",sn._jsonSchema={type:nn("string",sn._jsonSchemaVersion),referencePath:nn("string")};class go extends da{constructor(e,t,s){super(e,t,Dy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new Ue(e))}withConverter(e){return new go(this.firestore,e,this._path)}}function Vu(n,e,...t){if(n=bi(n),iE("collection","path",e),n instanceof hm){const s=It.fromString(e,...t);return hb(s),new go(n,null,s)}{if(!(n instanceof sn||n instanceof go))throw new Ie(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(It.fromString(e,...t));return hb(s),new go(n.firestore,null,s)}}function Ud(n,e,...t){if(n=bi(n),arguments.length===1&&(e=Cy.newId()),iE("doc","path",e),n instanceof hm){const s=It.fromString(e,...t);return ub(s),new sn(n,null,new Ue(s))}{if(!(n instanceof sn||n instanceof go))throw new Ie(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(It.fromString(e,...t));return ub(s),new sn(n.firestore,n instanceof go?n.converter:null,new Ue(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="AsyncQueue";class ew{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KE(this,"async_queue_retry"),this._c=()=>{const s=pg();s&&Oe(Jb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=pg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=pg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new po;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Hc(e))throw e;Oe(Jb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,la("INTERNAL UNHANDLED ERROR: ",tw(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Yy.createAndSchedule(this,e,t,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&qe(47125,{Pc:tw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function tw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(n,["next","error","complete"])}class Pc extends hm{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new ew,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ew(e),this._firestoreClient=void 0,await e}}}function BD(n,e){const t=typeof n=="object"?n:Ay(),s=typeof n=="string"?n:_f,o=Xf(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=z1("firestore");c&&zD(o,...c)}return o}function e_(n){if(n._terminated)throw new Ie(pe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||HD(n),n._firestoreClient}function HD(n){var s,o,c;const e=n._freezeSettings(),t=(function(y,v,x,w){return new fP(y,v,x,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,pT(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)})(n._databaseId,((s=n._app)==null?void 0:s.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new kD(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(y){const v=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(v),_online:v}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ls(On.fromBase64String(e))}catch(t){throw new Ie(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ls(On.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ls._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xh(e,ls._jsonSchema))return ls.fromBase64String(e.bytes)}}ls._jsonSchemaVersion="firestore/bytes/1.0",ls._jsonSchema={type:nn("string",ls._jsonSchemaVersion),bytes:nn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ie(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ie(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ie(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cr._jsonSchemaVersion}}static fromJSON(e){if(xh(e,cr._jsonSchema))return new cr(e.latitude,e.longitude)}}cr._jsonSchemaVersion="firestore/geoPoint/1.0",cr._jsonSchema={type:nn("string",cr._jsonSchemaVersion),latitude:nn("number"),longitude:nn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ur._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xh(e,ur._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ur(e.vectorValues);throw new Ie(pe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ur._jsonSchemaVersion="firestore/vectorValue/1.0",ur._jsonSchema={type:nn("string",ur._jsonSchemaVersion),vectorValues:nn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=/^__.*__$/;class qD{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Nl(e,this.data,this.fieldMask,t,this.fieldTransforms):new bh(e,this.data,t,this.fieldTransforms)}}function _T(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe(40011,{Ac:n})}}class n_{constructor(e,t,s,o,c,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new n_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Rf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_T(this.Ac)&&FD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class GD{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||lm(e)}Cc(e,t,s,o=!1){return new n_({Ac:e,methodName:t,Dc:s,path:jn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vT(n){const e=n._freezeSettings(),t=lm(n._databaseId);return new GD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function $D(n,e,t,s,o,c={}){const f=n.Cc(c.merge||c.mergeFields?2:0,e,t,o);wT("Data must be an object, but it was:",f,s);const y=xT(s,f);let v,x;if(c.merge)v=new Rs(f.fieldMask),x=f.fieldTransforms;else if(c.mergeFields){const w=[];for(const N of c.mergeFields){const R=KD(e,N,t);if(!f.contains(R))throw new Ie(pe.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);WD(w,R)||w.push(R)}v=new Rs(w),x=f.fieldTransforms.filter((N=>v.covers(N.field)))}else v=null,x=f.fieldTransforms;return new qD(new os(y),v,x)}function ZD(n,e,t,s=!1){return i_(t,n.Cc(s?4:3,e))}function i_(n,e){if(bT(n=bi(n)))return wT("Unsupported field value:",e,n),xT(n,e);if(n instanceof yT)return(function(s,o){if(!_T(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let f=0;for(const y of s){let v=i_(y,o.wc(f));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),f++}return{arrayValue:{values:c}}})(n,e)}return(function(s,o){if((s=bi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return kP(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Pt.fromDate(s);return{timestampValue:Tf(o.serializer,c)}}if(s instanceof Pt){const c=new Pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Tf(o.serializer,c)}}if(s instanceof cr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ls)return{bytesValue:LE(o.serializer,s._byteString)};if(s instanceof sn){const c=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:zy(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ur)return(function(f,y){return{mapValue:{fields:{[dE]:{stringValue:fE},[vf]:{arrayValue:{values:f.toArray().map((x=>{if(typeof x!="number")throw y.Sc("VectorValues must only contain numeric values.");return ky(y.serializer,x)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Jf(s)}`)})(n,e)}function xT(n,e){const t={};return aE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tl(n,((s,o)=>{const c=i_(o,e.mc(s));c!=null&&(t[s]=c)})),{mapValue:{fields:t}}}function bT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof cr||n instanceof ls||n instanceof sn||n instanceof yT||n instanceof ur)}function wT(n,e,t){if(!bT(t)||!sE(t)){const s=Jf(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function KD(n,e,t){if((e=bi(e))instanceof t_)return e._internalPath;if(typeof e=="string")return ET(n,e);throw Rf("Field path arguments must be of type string or ",n,!1,void 0,t)}const YD=new RegExp("[~\\*/\\[\\]]");function ET(n,e,t){if(e.search(YD)>=0)throw Rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new t_(...e.split("."))._internalPath}catch{throw Rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rf(n,e,t,s,o){const c=s&&!s.isEmpty(),f=o!==void 0;let y=`Function ${e}() called with invalid data`;t&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(c||f)&&(v+=" (found",c&&(v+=` in field ${s}`),f&&(v+=` in document ${o}`),v+=")"),new Ie(pe.INVALID_ARGUMENT,y+n+v)}function WD(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,t,s,o,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class QD extends TT{data(){return super.data()}}function dm(n,e){return typeof e=="string"?ET(n,e):e instanceof t_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ie(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class s_{}class r_ extends s_{}function Uu(n,e,...t){let s=[];e instanceof s_&&s.push(e),s=s.concat(t),(function(c){const f=c.filter((v=>v instanceof a_)).length,y=c.filter((v=>v instanceof fm)).length;if(f>1||f>0&&y>0)throw new Ie(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)n=o._apply(n);return n}class fm extends r_{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new fm(e,t,s)}_apply(e){const t=this._parse(e);return NT(e._query,t),new da(e.firestore,e.converter,$g(e._query,t))}_parse(e){const t=vT(e.firestore);return(function(c,f,y,v,x,w,N){let R;if(x.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new Ie(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){sw(N,w);const O=[];for(const F of N)O.push(iw(v,c,F));R={arrayValue:{values:O}}}else R=iw(v,c,N)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||sw(N,w),R=ZD(y,f,N,w==="in"||w==="not-in");return tn.create(x,w,R)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function tr(n,e,t){const s=e,o=dm("where",n);return fm._create(o,s,t)}class a_ extends s_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new a_(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Ps.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,c){let f=o;const y=c.getFlattenedFilters();for(const v of y)NT(f,v),f=$g(f,v)})(e._query,t),new da(e.firestore,e.converter,$g(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class o_ extends r_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new o_(e,t)}_apply(e){const t=(function(o,c,f){if(o.startAt!==null)throw new Ie(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Ie(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ah(c,f)})(e._query,this._field,this._direction);return new da(e.firestore,e.converter,(function(o,c){const f=o.explicitOrderBy.concat([c]);return new Fc(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function yg(n,e="asc"){const t=e,s=dm("orderBy",n);return o_._create(s,t)}class l_ extends r_{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new l_(e,t,s)}_apply(e){return new da(e.firestore,e.converter,bf(e._query,this._limit,this._limitType))}}function _g(n){return nP("limit",n),l_._create("limit",n,"F")}function iw(n,e,t){if(typeof(t=bi(t))=="string"){if(t==="")throw new Ie(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bE(e)&&t.indexOf("/")!==-1)throw new Ie(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(It.fromString(t));if(!Ue.isDocumentKey(s))throw new Ie(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return vb(n,new Ue(s))}if(t instanceof sn)return vb(n,t._key);throw new Ie(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jf(t)}.`)}function sw(n,e){if(!Array.isArray(n)||n.length===0)throw new Ie(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NT(n,e){const t=(function(o,c){for(const f of o)for(const y of f.getFlattenedFilters())if(c.indexOf(y.op)>=0)return y.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ie(pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ie(pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class XD{convertValue(e,t="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Tl(e,((o,c)=>{s[o]=this.convertValue(c,t)})),s}convertVectorValue(e){var s,o,c;const t=(c=(o=(s=e.fields)==null?void 0:s[vf].arrayValue)==null?void 0:o.values)==null?void 0:c.map((f=>Qt(f.doubleValue)));return new ur(t)}convertGeoPoint(e){return new cr(Qt(e.latitude),Qt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=nm(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ih(e));default:return null}}convertTimestamp(e){const t=bo(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=It.fromString(e);_t(FE(s),9688,{name:e});const o=new sh(s.get(1),s.get(3)),c=new Ue(s.popFirst(5));return o.isEqual(t)||la(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(n,e,t){let s;return s=n?n.toFirestore(e):e,s}class $u{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fl extends TT{constructor(e,t,s,o,c,f){super(e,t,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(dm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(pe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=fl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}fl._jsonSchemaVersion="firestore/documentSnapshot/1.0",fl._jsonSchema={type:nn("string",fl._jsonSchemaVersion),bundleSource:nn("string","DocumentSnapshot"),bundleName:nn("string"),bundle:nn("string")};class tf extends fl{data(e={}){return super.data(e)}}class ml{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new $u(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new tf(this._firestore,this._userDataWriter,s.key,s,new $u(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ie(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((y=>{const v=new tf(o._firestore,o._userDataWriter,y.doc.key,y.doc,new $u(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const v=new tf(o._firestore,o._userDataWriter,y.doc.key,y.doc,new $u(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let x=-1,w=-1;return y.type!==0&&(x=f.indexOf(y.doc.key),f=f.delete(y.doc.key)),y.type!==1&&(f=f.add(y.doc),w=f.indexOf(y.doc.key)),{type:ek(y.type),doc:v,oldIndex:x,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(pe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ml._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(t.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ek(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe(61501,{type:n})}}ml._jsonSchemaVersion="firestore/querySnapshot/1.0",ml._jsonSchema={type:nn("string",ml._jsonSchemaVersion),bundleSource:nn("string","QuerySnapshot"),bundleName:nn("string"),bundle:nn("string")};class c_ extends XD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ls(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,t)}}function zd(n){n=sa(n,da);const e=sa(n.firestore,Pc),t=e_(e),s=new c_(e);return ST(n._query),UD(t,n._query).then((o=>new ml(e,s,n,o)))}function rw(n,e,t){n=sa(n,sn);const s=sa(n.firestore,Pc),o=JD(n.converter,e);return AT(s,[$D(vT(s),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,or.none())])}function aw(n){return AT(sa(n.firestore,Pc),[new Ly(n._key,or.none())])}function tk(n,...e){var v,x,w;n=bi(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||nw(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(nw(e[s])){const N=e[s];e[s]=(v=N.next)==null?void 0:v.bind(N),e[s+1]=(x=N.error)==null?void 0:x.bind(N),e[s+2]=(w=N.complete)==null?void 0:w.bind(N)}let c,f,y;if(n instanceof sn)f=sa(n.firestore,Pc),y=Dy(n._key.path),c={next:N=>{e[s]&&e[s](nk(f,n,N))},error:e[s+1],complete:e[s+2]};else{const N=sa(n,da);f=sa(N.firestore,Pc),y=N._query;const R=new c_(f);c={next:P=>{e[s]&&e[s](new ml(f,R,N,P))},error:e[s+1],complete:e[s+2]},ST(n._query)}return(function(R,P,O,F){const z=new fT(F),ce=new sT(P,z,O);return R.asyncQueue.enqueueAndForget((async()=>nT(await ny(R),ce))),()=>{z.Nu(),R.asyncQueue.enqueueAndForget((async()=>iT(await ny(R),ce)))}})(e_(f),y,o,c)}function AT(n,e){return(function(s,o){const c=new po;return s.asyncQueue.enqueueAndForget((async()=>AD(await VD(s),o,c))),c.promise})(e_(n),e)}function nk(n,e,t){const s=t.docs.get(e._key),o=new c_(n);return new fl(n,o,e._key,s,new $u(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){zc=o})(El),_l(new vo("firestore",((s,{instanceIdentifier:o,options:c})=>{const f=s.getProvider("app").getImmediate(),y=new Pc(new ZO(s.getProvider("auth-internal")),new WO(f,s.getProvider("app-check-internal")),(function(x,w){if(!Object.prototype.hasOwnProperty.apply(x.options,["projectId"]))throw new Ie(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sh(x.options.projectId,w)})(f,o),f);return c={useFetchStreams:t,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),rr(ab,ob,e),rr(ab,ob,"esm2020")})();var ik="firebase",sk="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr(ik,sk,"app");function RT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rk=RT,CT=new _h("auth","Firebase",RT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf=new Sy("@firebase/auth");function ak(n,...e){Cf.logLevel<=ot.WARN&&Cf.warn(`Auth (${El}): ${n}`,...e)}function nf(n,...e){Cf.logLevel<=ot.ERROR&&Cf.error(`Auth (${El}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(n,...e){throw u_(n,...e)}function hr(n,...e){return u_(n,...e)}function IT(n,e,t){const s={...rk(),[e]:t};return new _h("auth","Firebase",s).create(e,{appName:n.name})}function pl(n){return IT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function u_(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return CT.create(n,...e)}function Ze(n,e,...t){if(!n)throw u_(e,...t)}function ea(n){const e="INTERNAL ASSERTION FAILED: "+n;throw nf(e),new Error(e)}function ha(n,e){n||ea(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function ok(){return ow()==="http:"||ow()==="https:"}function ow(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ok()||Tj()||"connection"in navigator)?navigator.onLine:!0}function ck(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,t){this.shortDelay=e,this.longDelay=t,ha(t>e,"Short delay should be less than long delay!"),this.isMobile=bj()||Sj()}get(){return lk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(n,e){ha(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ea("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ea("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ea("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dk=new Sh(3e4,6e4);function d_(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Gc(n,e,t,s,o={}){return OT(n,o,async()=>{let c={},f={};s&&(e==="GET"?f=s:c={body:JSON.stringify(s)});const y=vh({key:n.config.apiKey,...f}).slice(1),v=await n._getAdditionalHeaders();v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode);const x={method:e,headers:v,...c};return Ej()||(x.referrerPolicy="no-referrer"),n.emulatorConfig&&wl(n.emulatorConfig.host)&&(x.credentials="include"),jT.fetch()(await PT(n,n.config.apiHost,t,y),x)})}async function OT(n,e,t){n._canInitEmulator=!1;const s={...uk,...e};try{const o=new mk(n),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw Bd(n,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const y=c.ok?f.errorMessage:f.error.message,[v,x]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bd(n,"credential-already-in-use",f);if(v==="EMAIL_EXISTS")throw Bd(n,"email-already-in-use",f);if(v==="USER_DISABLED")throw Bd(n,"user-disabled",f);const w=s[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(x)throw IT(n,w,x);ua(n,w)}}catch(o){if(o instanceof yr)throw o;ua(n,"network-request-failed",{message:String(o)})}}async function fk(n,e,t,s,o={}){const c=await Gc(n,e,t,s,o);return"mfaPendingCredential"in c&&ua(n,"multi-factor-auth-required",{_serverResponse:c}),c}async function PT(n,e,t,s){const o=`${e}${t}?${s}`,c=n,f=c.config.emulator?h_(n.config,o):`${n.config.apiScheme}://${o}`;return hk.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}class mk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(hr(this.auth,"network-request-failed")),dk.get())})}}function Bd(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=hr(n,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pk(n,e){return Gc(n,"POST","/v1/accounts:delete",e)}async function If(n,e){return Gc(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gk(n,e=!1){const t=bi(n),s=await t.getIdToken(e),o=f_(s);Ze(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c==null?void 0:c.sign_in_provider;return{claims:o,token:s,authTime:Xu(vg(o.auth_time)),issuedAtTime:Xu(vg(o.iat)),expirationTime:Xu(vg(o.exp)),signInProvider:f||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function vg(n){return Number(n)*1e3}function f_(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return nf("JWT malformed, contained fewer than 3 sections"),null;try{const o=V1(t);return o?JSON.parse(o):(nf("Failed to decode base64 JWT payload"),null)}catch(o){return nf("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function lw(n){const e=f_(n);return Ze(e,"internal-error"),Ze(typeof e.exp<"u","internal-error"),Ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof yr&&yk(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function yk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xu(this.lastLoginAt),this.creationTime=Xu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jf(n){var N;const e=n.auth,t=await n.getIdToken(),s=await ch(n,If(e,{idToken:t}));Ze(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const c=(N=o.providerUserInfo)!=null&&N.length?MT(o.providerUserInfo):[],f=xk(n.providerData,c),y=n.isAnonymous,v=!(n.email&&o.passwordHash)&&!(f!=null&&f.length),x=y?v:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new sy(o.createdAt,o.lastLoginAt),isAnonymous:x};Object.assign(n,w)}async function vk(n){const e=bi(n);await jf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xk(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function MT(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bk(n,e){const t=await OT(n,{},async()=>{const s=vh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=n.config,f=await PT(n,o,"/v1/token",`key=${c}`),y=await n._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:s};return n.emulatorConfig&&wl(n.emulatorConfig.host)&&(v.credentials="include"),jT.fetch()(f,v)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wk(n,e){return Gc(n,"POST","/v2/accounts:revokeToken",d_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ze(e.idToken,"internal-error"),Ze(typeof e.idToken<"u","internal-error"),Ze(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ze(e.length!==0,"internal-error");const t=lw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:c}=await bk(e,t);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:c}=t,f=new Ec;return s&&(Ze(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ze(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(Ze(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ec,this.toJSON())}_performRefresh(){return ea("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(n,e){Ze(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Cs{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new _k(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new sy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ch(this,this.stsTokenManager.getToken(this.auth,e));return Ze(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return gk(this,e)}reload(){return vk(this)}_assign(e){this!==e&&(Ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Cs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await jf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(As(this.auth.app))return Promise.reject(pl(this.auth));const e=await this.getIdToken();return await ch(this,pk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,f=t.photoURL??void 0,y=t.tenantId??void 0,v=t._redirectEventId??void 0,x=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:N,emailVerified:R,isAnonymous:P,providerData:O,stsTokenManager:F}=t;Ze(N&&F,e,"internal-error");const z=Ec.fromJSON(this.name,F);Ze(typeof N=="string",e,"internal-error"),so(s,e.name),so(o,e.name),Ze(typeof R=="boolean",e,"internal-error"),Ze(typeof P=="boolean",e,"internal-error"),so(c,e.name),so(f,e.name),so(y,e.name),so(v,e.name),so(x,e.name),so(w,e.name);const ce=new Cs({uid:N,auth:e,email:o,emailVerified:R,displayName:s,isAnonymous:P,photoURL:f,phoneNumber:c,tenantId:y,stsTokenManager:z,createdAt:x,lastLoginAt:w});return O&&Array.isArray(O)&&(ce.providerData=O.map($=>({...$}))),v&&(ce._redirectEventId=v),ce}static async _fromIdTokenResponse(e,t,s=!1){const o=new Ec;o.updateFromServerResponse(t);const c=new Cs({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await jf(c),c}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ze(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?MT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),y=new Ec;y.updateFromIdToken(s);const v=new Cs({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:f}),x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new sy(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(v,x),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=new Map;function ta(n){ha(n instanceof Function,"Expected a class definition");let e=cw.get(n);return e?(ha(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,cw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}DT.type="NONE";const uw=DT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(n,e,t){return`firebase:${n}:${e}:${t}`}class Tc{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=sf(this.userKey,o.apiKey,c),this.fullPersistenceKey=sf("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await If(this.auth,{idToken:e}).catch(()=>{});return t?Cs._fromGetAccountInfoResponse(this.auth,t,e):null}return Cs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Tc(ta(uw),e,s);const o=(await Promise.all(t.map(async x=>{if(await x._isAvailable())return x}))).filter(x=>x);let c=o[0]||ta(uw);const f=sf(s,e.config.apiKey,e.name);let y=null;for(const x of t)try{const w=await x._get(f);if(w){let N;if(typeof w=="string"){const R=await If(e,{idToken:w}).catch(()=>{});if(!R)break;N=await Cs._fromGetAccountInfoResponse(e,R,w)}else N=Cs._fromJSON(e,w);x!==c&&(y=N),c=x;break}}catch{}const v=o.filter(x=>x._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Tc(c,e,s):(c=v[0],y&&await c._set(f,y.toJSON()),await Promise.all(t.map(async x=>{if(x!==c)try{await x._remove(f)}catch{}})),new Tc(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BT(e))return"Blackberry";if(HT(e))return"Webos";if(LT(e))return"Safari";if((e.includes("chrome/")||VT(e))&&!e.includes("edge/"))return"Chrome";if(zT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function kT(n=Hn()){return/firefox\//i.test(n)}function LT(n=Hn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VT(n=Hn()){return/crios\//i.test(n)}function UT(n=Hn()){return/iemobile/i.test(n)}function zT(n=Hn()){return/android/i.test(n)}function BT(n=Hn()){return/blackberry/i.test(n)}function HT(n=Hn()){return/webos/i.test(n)}function m_(n=Hn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Ek(n=Hn()){var e;return m_(n)&&!!((e=window.navigator)!=null&&e.standalone)}function Tk(){return Nj()&&document.documentMode===10}function FT(n=Hn()){return m_(n)||zT(n)||HT(n)||BT(n)||/windows phone/i.test(n)||UT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(n,e=[]){let t;switch(n){case"Browser":t=hw(Hn());break;case"Worker":t=`${hw(Hn())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${El}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=c=>new Promise((f,y)=>{try{const v=e(c);f(v)}catch(v){y(v)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(n,e={}){return Gc(n,"GET","/v2/passwordPolicy",d_(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=6;class Rk{constructor(e){var s;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Ak,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dw(this),this.idTokenSubscription=new dw(this),this.beforeStateQueue=new Sk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ta(t)),this._initializationPromise=this.queue(async()=>{var s,o,c;if(!this._deleted&&(this.persistenceManager=await Tc.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await If(this,{idToken:e}),s=await Cs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(As(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(y=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(y,y))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(c=this.redirectUser)==null?void 0:c._redirectEventId,y=s==null?void 0:s._redirectEventId,v=await this.tryRedirectSignIn(e);(!f||f===y)&&(v!=null&&v.user)&&(s=v.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await jf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ck()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(As(this.app))return Promise.reject(pl(this));const t=e?bi(e):null;return t&&Ze(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return As(this.app)?Promise.reject(pl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return As(this.app)?Promise.reject(pl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ta(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Nk(this),t=new Rk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _h("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await wk(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ta(e)||this._popupRedirectResolver;Ze(t,this,"argument-error"),this.redirectPersistenceManager=await Tc.create(this,[ta(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let f=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ze(y,this,"internal-error"),y.then(()=>{f||c(this.currentUser)}),typeof t=="function"){const v=e.addObserver(t,s,o);return()=>{f=!0,v()}}else{const v=e.addObserver(t);return()=>{f=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(As(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&ak(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function p_(n){return bi(n)}class dw{constructor(e){this.auth=e,this.observer=null,this.addObserver=Mj(t=>this.observer=t)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ik(n){g_=n}function jk(n){return g_.loadJS(n)}function Ok(){return g_.gapiScript}function Pk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(n,e){const t=Xf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(yl(c,e??{}))return o;ua(o,"already-initialized")}return t.initialize({options:e})}function Dk(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(ta);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function kk(n,e,t){const s=p_(n);Ze(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=GT(e),{host:f,port:y}=Lk(e),v=y===null?"":`:${y}`,x={url:`${c}//${f}${v}/`},w=Object.freeze({host:f,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ze(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ze(yl(x,s.config.emulator)&&yl(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=x,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,wl(f)?(Ey(`${c}//${f}${v}`),Ty("Auth",!0)):Vk()}function GT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Lk(n){const e=GT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:fw(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:fw(f)}}}function fw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Vk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ea("not implemented")}_getIdTokenResponse(e){return ea("not implemented")}_linkToIdToken(e,t){return ea("not implemented")}_getReauthenticationResolver(e){return ea("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sc(n,e){return fk(n,"POST","/v1/accounts:signInWithIdp",d_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk="http://localhost";class bl extends $T{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new bl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ua("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=t;if(!s||!o)return null;const f=new bl(s,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return Sc(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Sc(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Sc(e,t)}buildRequest(){const e={requestUri:Uk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vh(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends ZT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends Nh{constructor(){super("facebook.com")}static credential(e){return bl._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.FACEBOOK_SIGN_IN_METHOD="facebook.com";ao.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Nh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return bl._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return oo.credential(t,s)}catch{return null}}}oo.GOOGLE_SIGN_IN_METHOD="google.com";oo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends Nh{constructor(){super("github.com")}static credential(e){return bl._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lo.credential(e.oauthAccessToken)}catch{return null}}}lo.GITHUB_SIGN_IN_METHOD="github.com";lo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends Nh{constructor(){super("twitter.com")}static credential(e,t){return bl._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return co.credential(t,s)}catch{return null}}}co.TWITTER_SIGN_IN_METHOD="twitter.com";co.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const c=await Cs._fromIdTokenResponse(e,s,o),f=mw(s);return new Mc({user:c,providerId:f,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=mw(s);return new Mc({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function mw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of extends yr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Of.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Of(e,t,s,o)}}function KT(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Of._fromErrorAndOperation(n,c,e,s):c})}async function zk(n,e,t=!1){const s=await ch(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Mc._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bk(n,e,t=!1){const{auth:s}=n;if(As(s.app))return Promise.reject(pl(s));const o="reauthenticate";try{const c=await ch(n,KT(s,o,e,n),t);Ze(c.idToken,s,"internal-error");const f=f_(c.idToken);Ze(f,s,"internal-error");const{sub:y}=f;return Ze(n.uid===y,s,"user-mismatch"),Mc._forOperation(n,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&ua(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hk(n,e,t=!1){if(As(n.app))return Promise.reject(pl(n));const s="signIn",o=await KT(n,s,e),c=await Mc._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(c.user),c}function Fk(n,e,t,s){return bi(n).onIdTokenChanged(e,t,s)}function qk(n,e,t){return bi(n).beforeAuthStateChanged(e,t)}const Pf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Pf,"1"),this.storage.removeItem(Pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=1e3,$k=10;class WT extends YT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,y,v)=>{this.notifyListeners(f,v)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!t&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);Tk()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,$k):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},Gk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}WT.type="LOCAL";const Zk=WT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT extends YT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}QT.type="SESSION";const XT=QT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new mm(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:c}=t.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const y=Array.from(f).map(async x=>x(t.origin,c)),v=await Kk(y);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:v})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((y,v)=>{const x=y_("",20);o.port1.start();const w=setTimeout(()=>{v(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(N){const R=N;if(R.data.eventId===x)switch(R.data.status){case"ack":clearTimeout(w),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(R.data.response);break;default:clearTimeout(w),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:x,data:t},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return window}function Wk(n){dr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function Qk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Xk(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function Jk(){return JT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="firebaseLocalStorageDb",e4=1,Mf="firebaseLocalStorage",tS="fbase_key";class Ah{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pm(n,e){return n.transaction([Mf],e?"readwrite":"readonly").objectStore(Mf)}function t4(){const n=indexedDB.deleteDatabase(eS);return new Ah(n).toPromise()}function ry(){const n=indexedDB.open(eS,e4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Mf,{keyPath:tS})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Mf)?e(s):(s.close(),await t4(),e(await ry()))})})}async function pw(n,e,t){const s=pm(n,!0).put({[tS]:e,value:t});return new Ah(s).toPromise()}async function n4(n,e){const t=pm(n,!1).get(e),s=await new Ah(t).toPromise();return s===void 0?null:s.value}function gw(n,e){const t=pm(n,!0).delete(e);return new Ah(t).toPromise()}const i4=800,s4=3;class nS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ry(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>s4)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mm._getInstance(Jk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,s;if(this.activeServiceWorker=await Qk(),!this.activeServiceWorker)return;this.sender=new Yk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Xk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ry();return await pw(e,Pf,"1"),await gw(e,Pf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>pw(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>n4(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>gw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=pm(o,!1).getAll();return new Ah(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),i4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nS.type="LOCAL";const r4=nS;new Sh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(n,e){return e?ta(e):(Ze(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __ extends $T{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Sc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Sc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function o4(n){return Hk(n.auth,new __(n),n.bypassAuthState)}function l4(n){const{auth:e,user:t}=n;return Ze(t,e,"internal-error"),Bk(t,new __(n),n.bypassAuthState)}async function c4(n){const{auth:e,user:t}=n;return Ze(t,e,"internal-error"),zk(t,new __(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,t,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:c,error:f,type:y}=e;if(f){this.reject(f);return}const v={auth:this.auth,requestUri:t,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(x){this.reject(x)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return o4;case"linkViaPopup":case"linkViaRedirect":return c4;case"reauthViaPopup":case"reauthViaRedirect":return l4;default:ua(this.auth,"internal-error")}}resolve(e){ha(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ha(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=new Sh(2e3,1e4);class bc extends iS{constructor(e,t,s,o,c){super(e,t,o,c),this.provider=s,this.authWindow=null,this.pollId=null,bc.currentPopupAction&&bc.currentPopupAction.cancel(),bc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ze(e,this.auth,"internal-error"),e}async onExecution(){ha(this.filter.length===1,"Popup operations only handle one event");const e=y_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if((s=(t=this.authWindow)==null?void 0:t.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,u4.get())};e()}}bc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="pendingRedirect",rf=new Map;class d4 extends iS{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=rf.get(this.auth._key());if(!e){try{const s=await f4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}rf.set(this.auth._key(),e)}return this.bypassAuthState||rf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function f4(n,e){const t=g4(e),s=p4(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function m4(n,e){rf.set(n._key(),e)}function p4(n){return ta(n._redirectPersistence)}function g4(n){return sf(h4,n.config.apiKey,n.name)}async function y4(n,e,t=!1){if(As(n.app))return Promise.reject(pl(n));const s=p_(n),o=a4(s,e),f=await new d4(s,o,t).execute();return f&&!t&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=600*1e3;class v4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!x4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!sS(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";t.onError(hr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_4&&this.cachedEventUids.clear(),this.cachedEventUids.has(yw(e))}saveEventToCache(e){this.cachedEventUids.add(yw(e)),this.lastProcessedEventTime=Date.now()}}function yw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function sS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function x4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(n,e={}){return Gc(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E4=/^https?/;async function T4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await b4(n);for(const t of e)try{if(S4(t))return}catch{}ua(n,"unauthorized-domain")}function S4(n){const e=iy(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const f=new URL(n);return f.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===s}if(!E4.test(t))return!1;if(w4.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=new Sh(3e4,6e4);function _w(){const n=dr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function A4(n){return new Promise((e,t)=>{var o,c,f;function s(){_w(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_w(),t(hr(n,"network-request-failed"))},timeout:N4.get()})}if((c=(o=dr().gapi)==null?void 0:o.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((f=dr().gapi)!=null&&f.load)s();else{const y=Pk("iframefcb");return dr()[y]=()=>{gapi.load?s():t(hr(n,"network-request-failed"))},jk(`${Ok()}?onload=${y}`).catch(v=>t(v))}}).catch(e=>{throw af=null,e})}let af=null;function R4(n){return af=af||A4(n),af}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=new Sh(5e3,15e3),I4="__/auth/iframe",j4="emulator/auth/iframe",O4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},P4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M4(n){const e=n.config;Ze(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?h_(e,j4):`https://${n.config.authDomain}/${I4}`,s={apiKey:e.apiKey,appName:n.name,v:El},o=P4.get(n.config.apiHost);o&&(s.eid=o);const c=n._getFrameworks();return c.length&&(s.fw=c.join(",")),`${t}?${vh(s).slice(1)}`}async function D4(n){const e=await R4(n),t=dr().gapi;return Ze(t,n,"internal-error"),e.open({where:document.body,url:M4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O4,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const f=hr(n,"network-request-failed"),y=dr().setTimeout(()=>{c(f)},C4.get());function v(){dr().clearTimeout(y),o(s)}s.ping(v).then(v,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},L4=500,V4=600,U4="_blank",z4="http://localhost";class vw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function B4(n,e,t,s=L4,o=V4){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let y="";const v={...k4,width:s.toString(),height:o.toString(),top:c,left:f},x=Hn().toLowerCase();t&&(y=VT(x)?U4:t),kT(x)&&(e=e||z4,v.scrollbars="yes");const w=Object.entries(v).reduce((R,[P,O])=>`${R}${P}=${O},`,"");if(Ek(x)&&y!=="_self")return H4(e||"",y),new vw(null);const N=window.open(e||"",y,w);Ze(N,n,"popup-blocked");try{N.focus()}catch{}return new vw(N)}function H4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4="__/auth/handler",q4="emulator/auth/handler",G4=encodeURIComponent("fac");async function xw(n,e,t,s,o,c){Ze(n.config.authDomain,n,"auth-domain-config-required"),Ze(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:El,eventId:o};if(e instanceof ZT){e.setDefaultLanguage(n.languageCode),f.providerId=e.providerId||"",Pj(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,N]of Object.entries({}))f[w]=N}if(e instanceof Nh){const w=e.getScopes().filter(N=>N!=="");w.length>0&&(f.scopes=w.join(","))}n.tenantId&&(f.tid=n.tenantId);const y=f;for(const w of Object.keys(y))y[w]===void 0&&delete y[w];const v=await n._getAppCheckToken(),x=v?`#${G4}=${encodeURIComponent(v)}`:"";return`${$4(n)}?${vh(y).slice(1)}${x}`}function $4({config:n}){return n.emulator?h_(n,q4):`https://${n.authDomain}/${F4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="webStorageSupport";class Z4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XT,this._completeRedirectFn=y4,this._overrideRedirectResult=m4}async _openPopup(e,t,s,o){var f;ha((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const c=await xw(e,t,s,iy(),o);return B4(e,c,y_())}async _openRedirect(e,t,s,o){await this._originValidation(e);const c=await xw(e,t,s,iy(),o);return Wk(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(ha(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await D4(e),s=new v4(e);return t.register("authEvent",o=>(Ze(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xg,{type:xg},o=>{var f;const c=(f=o==null?void 0:o[0])==null?void 0:f[xg];c!==void 0&&t(!!c),ua(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=T4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return FT()||LT()||m_()}}const K4=Z4;var bw="@firebase/auth",ww="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Q4(n){_l(new vo("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:y}=s.options;Ze(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const v={apiKey:f,authDomain:y,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qT(n)},x=new Ck(s,o,c,v);return Dk(x,t),x},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),_l(new vo("auth-internal",e=>{const t=p_(e.getProvider("auth").getImmediate());return(s=>new Y4(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(bw,ww,W4(n)),rr(bw,ww,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=300,J4=H1("authIdTokenMaxAge")||X4;let Ew=null;const eL=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>J4)return;const o=t==null?void 0:t.token;Ew!==o&&(Ew=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function tL(n=Ay()){const e=Xf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Mk(n,{popupRedirectResolver:K4,persistence:[r4,Zk,XT]}),s=H1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=eL(c.toString());qk(t,f,()=>f(t.currentUser)),Fk(t,y=>f(y))}}const o=U1("auth");return o&&kk(t,`http://${o}`),t}function nL(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}Ik({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const c=hr("internal-error");c.customData=o,t(c)},s.type="text/javascript",s.charset="UTF-8",nL().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Q4("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="firebasestorage.googleapis.com",iL="storageBucket",sL=120*1e3,rL=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends yr{constructor(e,t,s=0){super(bg(e),`Firebase Storage: ${t} (${bg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_r.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return bg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pr||(pr={}));function bg(n){return"storage/"+n}function aL(){const n="An unknown error occurred, please check the error payload for server response.";return new _r(pr.UNKNOWN,n)}function oL(){return new _r(pr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lL(){return new _r(pr.CANCELED,"User canceled the upload/download.")}function cL(n){return new _r(pr.INVALID_URL,"Invalid URL '"+n+"'.")}function uL(n){return new _r(pr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Tw(n){return new _r(pr.INVALID_ARGUMENT,n)}function aS(){return new _r(pr.APP_DELETED,"The Firebase app was deleted.")}function hL(n){return new _r(pr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Is.makeFromUrl(e,t)}catch{return new Is(e,"")}if(s.path==="")return s;throw uL(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(we){we.path.charAt(we.path.length-1)==="/"&&(we.path_=we.path_.slice(0,-1))}const f="(/(.*))?$",y=new RegExp("^gs://"+o+f,"i"),v={bucket:1,path:3};function x(we){we.path_=decodeURIComponent(we.path)}const w="v[A-Za-z0-9_]+",N=t.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",P=new RegExp(`^https?://${N}/${w}/b/${o}/o${R}`,"i"),O={bucket:1,path:3},F=t===rS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,z="([^?#]*)",ce=new RegExp(`^https?://${F}/${o}/${z}`,"i"),W=[{regex:y,indices:v,postModify:c},{regex:P,indices:O,postModify:x},{regex:ce,indices:{bucket:1,path:2},postModify:x}];for(let we=0;we<W.length;we++){const le=W[we],Ee=le.regex.exec(e);if(Ee){const Z=Ee[le.indices.bucket];let V=Ee[le.indices.path];V||(V=""),s=new Is(Z,V),le.postModify(s);break}}if(s==null)throw cL(e);return s}}class dL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(n,e,t){let s=1,o=null,c=null,f=!1,y=0;function v(){return y===2}let x=!1;function w(...z){x||(x=!0,e.apply(null,z))}function N(z){o=setTimeout(()=>{o=null,n(P,v())},z)}function R(){c&&clearTimeout(c)}function P(z,...ce){if(x){R();return}if(z){R(),w.call(null,z,...ce);return}if(v()||f){R(),w.call(null,z,...ce);return}s<64&&(s*=2);let W;y===1?(y=2,W=0):W=(s+Math.random())*1e3,N(W)}let O=!1;function F(z){O||(O=!0,R(),!x&&(o!==null?(z||(y=2),clearTimeout(o),N(0)):z||(y=1)))}return N(0),c=setTimeout(()=>{f=!0,F(!0)},t),F}function mL(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(n){return n!==void 0}function Sw(n,e,t,s){if(s<e)throw Tw(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw Tw(`Invalid value for '${n}'. Expected ${t} or less.`)}function gL(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const o=e(s)+"="+e(n[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Df;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Df||(Df={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,c=e.indexOf(n)!==-1;return t||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,t,s,o,c,f,y,v,x,w,N,R=!0,P=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=f,this.callback_=y,this.errorCallback_=v,this.timeout_=x,this.progressCallback_=w,this.connectionFactory_=N,this.retry=R,this.isUsingEmulator=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,F)=>{this.resolve_=O,this.reject_=F,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Hd(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const f=y=>{const v=y.loaded,x=y.lengthComputable?y.total:-1;this.progressCallback_!==null&&this.progressCallback_(v,x)};this.progressCallback_!==null&&c.addUploadProgressListener(f),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(f),this.pendingConnection_=null;const y=c.getErrorCode()===Df.NO_ERROR,v=c.getStatus();if(!y||yL(v,this.additionalRetryCodes_)&&this.retry){const w=c.getErrorCode()===Df.ABORT;s(!1,new Hd(!1,null,w));return}const x=this.successCodes_.indexOf(v)!==-1;s(!0,new Hd(x,c))})},t=(s,o)=>{const c=this.resolve_,f=this.reject_,y=o.connection;if(o.wasSuccessCode)try{const v=this.callback_(y,y.getResponse());pL(v)?c(v):c()}catch(v){f(v)}else if(y!==null){const v=aL();v.serverResponse=y.getErrorText(),this.errorCallback_?f(this.errorCallback_(y,v)):f(v)}else if(o.canceled){const v=this.appDelete_?aS():lL();f(v)}else{const v=oL();f(v)}};this.canceled_?t(!1,new Hd(!1,null,!0)):this.backoffId_=fL(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&mL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hd{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function vL(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function xL(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function bL(n,e){e&&(n["X-Firebase-GMPID"]=e)}function wL(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function EL(n,e,t,s,o,c,f=!0,y=!1){const v=gL(n.urlParams),x=n.url+v,w=Object.assign({},n.headers);return bL(w,e),vL(w,t),xL(w,c),wL(w,s),new _L(x,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,f,y)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function SL(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,t){this._service=e,t instanceof Is?this._location=t:this._location=Is.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new kf(e,t)}get root(){const e=new Is(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return SL(this._location.path)}get storage(){return this._service}get parent(){const e=TL(this._location.path);if(e===null)return null;const t=new Is(this._location.bucket,e);return new kf(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw hL(e)}}function Nw(n,e){const t=e==null?void 0:e[iL];return t==null?null:Is.makeFromBucketSpec(t,n)}function NL(n,e,t,s={}){n.host=`${e}:${t}`;const o=wl(e);o&&(Ey(`https://${n.host}/b`),Ty("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(n._overrideAuthToken=typeof c=="string"?c:F1(c,n.app.options.projectId))}class AL{constructor(e,t,s,o,c,f=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=f,this._bucket=null,this._host=rS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sL,this._maxUploadRetryTime=rL,this._requests=new Set,o!=null?this._bucket=Is.makeFromBucketSpec(o,this._host):this._bucket=Nw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Is.makeFromBucketSpec(this._url,e):this._bucket=Nw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Sw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Sw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(As(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new kf(this,e)}_makeRequest(e,t,s,o,c=!0){if(this._deleted)return new dL(aS());{const f=EL(e,this._appId,s,o,t,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const Aw="@firebase/storage",Rw="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="storage";function RL(n=Ay(),e){n=bi(n);const s=Xf(n,oS).getImmediate({identifier:e}),o=z1("storage");return o&&CL(s,...o),s}function CL(n,e,t,s={}){NL(n,e,t,s)}function IL(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new AL(t,s,o,e,El)}function jL(){_l(new vo(oS,IL,"PUBLIC").setMultipleInstances(!0)),rr(Aw,Rw,""),rr(Aw,Rw,"esm2020")}jL();var nr={exports:{}};const OL={},PL=Object.freeze(Object.defineProperty({__proto__:null,default:OL},Symbol.toStringTag,{value:"Module"})),Fd=TN(PL),ML="17.2.2",DL={version:ML};var Cw;function kL(){if(Cw)return nr.exports;Cw=1;var n={};const e=Fd,t=Fd,s=Fd,o=Fd,f=DL.version,y=[" encrypt with Dotenvx: https://dotenvx.com"," prevent committing .env to code: https://dotenvx.com/precommit"," prevent building .env in docker: https://dotenvx.com/prebuild"," observe env with Radar: https://dotenvx.com/radar"," auto-backup env with Radar: https://dotenvx.com/radar"," version env with Radar: https://dotenvx.com/radar","  run anywhere with `dotenvx run -- yourcommand`","  specify custom .env file path with { path: '/custom/path/.env' }","  enable debug logging with { debug: true }","  override existing env vars with { override: true }","  suppress all logs with { quiet: true }","  write to custom object with { processEnv: myObject }","  load multiple .env files with { path: ['.env.local', '.env'] }"];function v(){return y[Math.floor(Math.random()*y.length)]}function x(M){return typeof M=="string"?!["false","0","no","off",""].includes(M.toLowerCase()):!!M}function w(){return process.stdout.isTTY}function N(M){return w()?`\x1B[2m${M}\x1B[0m`:M}const R=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function P(M){const D={};let de=M.toString();de=de.replace(/\r\n?/mg,`
`);let Ae;for(;(Ae=R.exec(de))!=null;){const X=Ae[1];let _e=Ae[2]||"";_e=_e.trim();const re=_e[0];_e=_e.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),re==='"'&&(_e=_e.replace(/\\n/g,`
`),_e=_e.replace(/\\r/g,"\r")),D[X]=_e}return D}function O(M){M=M||{};const D=we(M);M.path=D;const de=B.configDotenv(M);if(!de.parsed){const re=new Error(`MISSING_DATA: Cannot parse ${D} for an unknown reason`);throw re.code="MISSING_DATA",re}const Ae=$(M).split(","),X=Ae.length;let _e;for(let re=0;re<X;re++)try{const ke=Ae[re].trim(),k=W(de,ke);_e=B.decrypt(k.ciphertext,k.key);break}catch(ke){if(re+1>=X)throw ke}return B.parse(_e)}function F(M){console.error(`[dotenv@${f}][WARN] ${M}`)}function z(M){console.log(`[dotenv@${f}][DEBUG] ${M}`)}function ce(M){console.log(`[dotenv@${f}] ${M}`)}function $(M){return M&&M.DOTENV_KEY&&M.DOTENV_KEY.length>0?M.DOTENV_KEY:n.DOTENV_KEY&&n.DOTENV_KEY.length>0?n.DOTENV_KEY:""}function W(M,D){let de;try{de=new URL(D)}catch(ke){if(ke.code==="ERR_INVALID_URL"){const k=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw k.code="INVALID_DOTENV_KEY",k}throw ke}const Ae=de.password;if(!Ae){const ke=new Error("INVALID_DOTENV_KEY: Missing key part");throw ke.code="INVALID_DOTENV_KEY",ke}const X=de.searchParams.get("environment");if(!X){const ke=new Error("INVALID_DOTENV_KEY: Missing environment part");throw ke.code="INVALID_DOTENV_KEY",ke}const _e=`DOTENV_VAULT_${X.toUpperCase()}`,re=M.parsed[_e];if(!re){const ke=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${_e} in your .env.vault file.`);throw ke.code="NOT_FOUND_DOTENV_ENVIRONMENT",ke}return{ciphertext:re,key:Ae}}function we(M){let D=null;if(M&&M.path&&M.path.length>0)if(Array.isArray(M.path))for(const de of M.path)e.existsSync(de)&&(D=de.endsWith(".vault")?de:`${de}.vault`);else D=M.path.endsWith(".vault")?M.path:`${M.path}.vault`;else D=t.resolve(process.cwd(),".env.vault");return e.existsSync(D)?D:null}function le(M){return M[0]==="~"?t.join(s.homedir(),M.slice(1)):M}function Ee(M){const D=x(n.DOTENV_CONFIG_DEBUG||M&&M.debug),de=x(n.DOTENV_CONFIG_QUIET||M&&M.quiet);(D||!de)&&ce("Loading env from encrypted .env.vault");const Ae=B._parseVault(M);let X=n;return M&&M.processEnv!=null&&(X=M.processEnv),B.populate(X,Ae,M),{parsed:Ae}}function Z(M){const D=t.resolve(process.cwd(),".env");let de="utf8",Ae=n;M&&M.processEnv!=null&&(Ae=M.processEnv);let X=x(Ae.DOTENV_CONFIG_DEBUG||M&&M.debug),_e=x(Ae.DOTENV_CONFIG_QUIET||M&&M.quiet);M&&M.encoding?de=M.encoding:X&&z("No encoding is specified. UTF-8 is used by default");let re=[D];if(M&&M.path)if(!Array.isArray(M.path))re=[le(M.path)];else{re=[];for(const xe of M.path)re.push(le(xe))}let ke;const k={};for(const xe of re)try{const be=B.parse(e.readFileSync(xe,{encoding:de}));B.populate(k,be,M)}catch(be){X&&z(`Failed to load ${xe} ${be.message}`),ke=be}const ue=B.populate(Ae,k,M);if(X=x(Ae.DOTENV_CONFIG_DEBUG||X),_e=x(Ae.DOTENV_CONFIG_QUIET||_e),X||!_e){const xe=Object.keys(ue).length,be=[];for(const Te of re)try{const Ce=t.relative(process.cwd(),Te);be.push(Ce)}catch(Ce){X&&z(`Failed to load ${Te} ${Ce.message}`),ke=Ce}ce(`injecting env (${xe}) from ${be.join(",")} ${N(`-- tip: ${v()}`)}`)}return ke?{parsed:k,error:ke}:{parsed:k}}function V(M){if($(M).length===0)return B.configDotenv(M);const D=we(M);return D?B._configVault(M):(F(`You set DOTENV_KEY but you are missing a .env.vault file at ${D}. Did you forget to build it?`),B.configDotenv(M))}function U(M,D){const de=Buffer.from(D.slice(-64),"hex");let Ae=Buffer.from(M,"base64");const X=Ae.subarray(0,12),_e=Ae.subarray(-16);Ae=Ae.subarray(12,-16);try{const re=o.createDecipheriv("aes-256-gcm",de,X);return re.setAuthTag(_e),`${re.update(Ae)}${re.final()}`}catch(re){const ke=re instanceof RangeError,k=re.message==="Invalid key length",ue=re.message==="Unsupported state or unable to authenticate data";if(ke||k){const xe=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw xe.code="INVALID_DOTENV_KEY",xe}else if(ue){const xe=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw xe.code="DECRYPTION_FAILED",xe}else throw re}}function K(M,D,de={}){const Ae=!!(de&&de.debug),X=!!(de&&de.override),_e={};if(typeof D!="object"){const re=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw re.code="OBJECT_REQUIRED",re}for(const re of Object.keys(D))Object.prototype.hasOwnProperty.call(M,re)?(X===!0&&(M[re]=D[re],_e[re]=D[re]),Ae&&z(X===!0?`"${re}" is already defined and WAS overwritten`:`"${re}" is already defined and was NOT overwritten`)):(M[re]=D[re],_e[re]=D[re]);return _e}const B={configDotenv:Z,_configVault:Ee,_parseVault:O,config:V,decrypt:U,parse:P,populate:K};return nr.exports.configDotenv=B.configDotenv,nr.exports._configVault=B._configVault,nr.exports._parseVault=B._parseVault,nr.exports.config=B.config,nr.exports.decrypt=B.decrypt,nr.exports.parse=B.parse,nr.exports.populate=B.populate,nr.exports=B,nr.exports}var LL=kL();const VL=ay(LL);var gc={};VL.config();const UL={apiKey:gc.VITE_FIREBASE_API_KEY,authDomain:gc.VITE_FIREBASE_AUTH_DOMAIN,projectId:gc.VITE_FIREBASE_PROJECT_ID,storageBucket:gc.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:gc.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:gc.VITE_FIREBASE_APP_ID},v_=$1(UL);tL(v_);const Xr=BD(v_);RL(v_);class zL{constructor(){this.collectionName="syntheticReports",this.socialMediaCollection="socialMediaPosts",this.listeners=new Map}async saveSyntheticReport(e){try{const t=`synthetic_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,s={id:t,...e,savedAt:new Date().toISOString(),isSynthetic:!0,source:"synthetic_generator"};await rw(Ud(Xr,this.collectionName,t),s);const o={...s,content:s.content,platform:s.platform,author:s.author,timestamp:s.timestamp,processedAt:new Date().toISOString(),sentiment:s.sentiment,keywords:s.keywords,relevanceScore:s.relevanceScore,isHazardRelated:!0,engagement:s.engagement,location:s.location,isSynthetic:!0,syntheticMetadata:{hazardType:s.hazardType,severity:s.severity,generatedAt:s.generatedAt}};return await rw(Ud(Xr,this.socialMediaCollection,t),o),console.log(` Synthetic report saved to database: ${t}`),{reportId:t,dbReport:s,socialMediaReport:o}}catch(t){throw console.error(" Error saving synthetic report:",t),new Error(`Failed to save synthetic report: ${t.message}`)}}async saveMultipleSyntheticReports(e){try{const t=[];console.log(` Saving ${e.length} synthetic reports to database...`);for(const s of e){const o=await this.saveSyntheticReport(s);t.push(o)}return console.log(` Successfully saved ${t.length} synthetic reports`),t}catch(t){throw console.error(" Error saving multiple synthetic reports:",t),new Error(`Failed to save multiple synthetic reports: ${t.message}`)}}async getSyntheticReports(e={}){try{let t=Vu(Xr,this.collectionName);const s=[];e.hazardType&&s.push(tr("hazardType","==",e.hazardType)),e.severity&&s.push(tr("severity","==",e.severity)),e.platform&&s.push(tr("platform","==",e.platform)),e.location&&s.push(tr("location.name","==",e.location)),e.startDate&&s.push(tr("generatedAt",">=",e.startDate)),e.endDate&&s.push(tr("generatedAt","<=",e.endDate)),s.push(yg("generatedAt","desc")),e.limit&&s.push(_g(e.limit)),t=Uu(t,...s);const o=await zd(t),c=[];return o.forEach(f=>{c.push({id:f.id,...f.data()})}),c}catch(t){throw console.error(" Error fetching synthetic reports:",t),new Error(`Failed to fetch synthetic reports: ${t.message}`)}}async getSyntheticReportStats(e="24h"){try{const t=new Date,s=new Date;switch(e){case"1h":s.setHours(t.getHours()-1);break;case"24h":s.setDate(t.getDate()-1);break;case"7d":s.setDate(t.getDate()-7);break;case"30d":s.setDate(t.getDate()-30);break;default:s.setDate(t.getDate()-1)}const o=Uu(Vu(Xr,this.collectionName),tr("generatedAt",">=",s.toISOString()),yg("generatedAt","desc")),c=await zd(o),f=[];c.forEach(v=>f.push(v.data()));const y={total:f.length,byHazardType:{},bySeverity:{},byPlatform:{},bySentiment:{},timeRange:e,generatedAt:new Date().toISOString()};return f.forEach(v=>{var P;const x=v.hazardType||"unknown";y.byHazardType[x]=(y.byHazardType[x]||0)+1;const w=v.severity||"unknown";y.bySeverity[w]=(y.bySeverity[w]||0)+1;const N=v.platform||"unknown";y.byPlatform[N]=(y.byPlatform[N]||0)+1;const R=((P=v.sentiment)==null?void 0:P.label)||"unknown";y.bySentiment[R]=(y.bySentiment[R]||0)+1}),y}catch(t){throw console.error(" Error fetching synthetic report stats:",t),new Error(`Failed to fetch synthetic report stats: ${t.message}`)}}async deleteSyntheticReport(e){try{return await aw(Ud(Xr,this.collectionName,e)),await aw(Ud(Xr,this.socialMediaCollection,e)),console.log(` Synthetic report deleted: ${e}`),!0}catch(t){throw console.error(" Error deleting synthetic report:",t),new Error(`Failed to delete synthetic report: ${t.message}`)}}async cleanupOldReports(e=30){try{const t=new Date;t.setDate(t.getDate()-e);const s=Uu(Vu(Xr,this.collectionName),tr("generatedAt","<",t.toISOString())),o=await zd(s),c=[];o.forEach(f=>{c.push({id:f.id,data:f.data()})}),console.log(` Found ${c.length} old synthetic reports to clean up`);for(const f of c)await this.deleteSyntheticReport(f.id);return{deleted:c.length,cutoffDate:t.toISOString()}}catch(t){throw console.error(" Error cleaning up old reports:",t),new Error(`Failed to cleanup old reports: ${t.message}`)}}subscribeToSyntheticReports(e,t={}){try{let s=Vu(Xr,this.collectionName);const o=[];t.hazardType&&o.push(tr("hazardType","==",t.hazardType)),t.severity&&o.push(tr("severity","==",t.severity)),o.push(yg("generatedAt","desc")),t.limit&&o.push(_g(t.limit)),s=Uu(s,...o);const c=tk(s,y=>{const v=[];y.forEach(x=>{v.push({id:x.id,...x.data()})}),e(v)},y=>{console.error(" Error in synthetic reports subscription:",y)}),f=`synthetic_reports_${Date.now()}`;return this.listeners.set(f,c),f}catch(s){throw console.error(" Error subscribing to synthetic reports:",s),new Error(`Failed to subscribe to synthetic reports: ${s.message}`)}}unsubscribeFromSyntheticReports(e){try{const t=this.listeners.get(e);return t?(t(),this.listeners.delete(e),console.log(` Unsubscribed from synthetic reports: ${e}`),!0):!1}catch(t){throw console.error(" Error unsubscribing from synthetic reports:",t),new Error(`Failed to unsubscribe from synthetic reports: ${t.message}`)}}async getConnectionStatus(){try{const e=Uu(Vu(Xr,this.collectionName),_g(1));return await zd(e),{connected:!0,collection:this.collectionName,timestamp:new Date().toISOString()}}catch(e){return{connected:!1,error:e.message,timestamp:new Date().toISOString()}}}}const zu=new zL,rl={syntheticReports:{isEnabled:!1,generationInterval:null,reportCount:0,startGeneration(n=5,e=3){if(this.isEnabled){console.warn("Synthetic report generation is already enabled");return}return this.isEnabled=!0,console.log(`Starting synthetic report generation: ${e} posts every ${n} minutes`),this.generationInterval=setInterval(()=>{const t=ag.generateMultiplePosts(e);this.reportCount+=t.length,window.socket&&t.forEach(s=>{window.socket.emit("synthetic-social-media-post",s)}),console.log(`Generated ${t.length} synthetic reports. Total: ${this.reportCount}`)},n*60*1e3),this.generationInterval},stopGeneration(){this.generationInterval&&(clearInterval(this.generationInterval),this.generationInterval=null),this.isEnabled=!1,console.log(`Stopped synthetic report generation. Total generated: ${this.reportCount}`)},async generateReports(n=5,e={}){try{const t=ag.generateMultiplePosts(n,e);return this.reportCount+=t.length,await zu.saveMultipleSyntheticReports(t),window.socket&&t.forEach(s=>{window.socket.emit("synthetic-social-media-post",s)}),console.log(` Generated and saved ${t.length} synthetic reports to database`),t}catch(t){throw console.error(" Error generating synthetic reports:",t),t}},getStats(){return{isEnabled:this.isEnabled,reportCount:this.reportCount,isGenerating:this.generationInterval!==null}},async generateHazardScenario(n,e,t="high",s=3){const o={hazardType:n,severity:t,location:typeof e=="string"?ag.config.locations.find(c=>c.name.toLowerCase()===e.toLowerCase()):e};return await this.generateReports(s,o)},async getSyntheticReportsFromDatabase(n={}){try{return await zu.getSyntheticReports(n)}catch(e){throw console.error(" Error fetching synthetic reports from database:",e),e}},async getSyntheticReportStatsFromDatabase(n="24h"){try{return await zu.getSyntheticReportStats(n)}catch(e){throw console.error(" Error fetching synthetic report stats from database:",e),e}},async cleanupOldSyntheticReports(n=30){try{return await zu.cleanupOldReports(n)}catch(e){throw console.error(" Error cleaning up old synthetic reports:",e),e}},async getDatabaseConnectionStatus(){try{return await zu.getConnectionStatus()}catch(n){return console.error(" Error checking database connection:",n),{connected:!1,error:n.message}}}}},BL=()=>{const[n,e]=H.useState({}),[t,s]=H.useState(null);H.useEffect(()=>{(()=>{const v=rl.syntheticReports.getStats();e(v)})()},[]);const o=()=>{const y=rl.syntheticReports.startGeneration(5,3);s(y),e(rl.syntheticReports.getStats())},c=()=>{rl.syntheticReports.stopGeneration(),s(null),e(rl.syntheticReports.getStats())},f=async()=>{await rl.syntheticReports.generateReports(5),e(rl.syntheticReports.getStats())};return d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Synthetic Report Generator"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("p",{children:["Status: ",n.isGenerating?"Running":"Stopped"]}),d.jsxs("p",{children:["Reports Generated: ",n.reportCount]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:o,disabled:n.isGenerating,className:"btn-primary",children:"Start Generation"}),d.jsx("button",{onClick:c,disabled:!n.isGenerating,className:"btn-secondary",children:"Stop Generation"}),d.jsx("button",{onClick:f,className:"btn-secondary",children:"Generate 5 Reports"})]})]})]})},HL=({user:n})=>{const[e,t]=H.useState([]),[s,o]=H.useState({}),[c,f]=H.useState(""),[y,v]=H.useState("24h"),[x,w]=H.useState("all");H.useEffect(()=>fr.subscribe((F,z)=>{t(F),o(fr.getStatistics()),f(new Date().toLocaleTimeString())}),[]);const N=[{platform:"Twitter",mentions:247,sentiment:.3,trend:"+15%"},{platform:"Facebook",mentions:156,sentiment:.1,trend:"+8%"},{platform:"Instagram",mentions:89,sentiment:.6,trend:"+22%"},{platform:"YouTube",mentions:34,sentiment:.4,trend:"+5%"}],R=[{title:"Cyclone Pattern Analysis",description:"Seasonal cyclone frequency shows 23% increase compared to last year",priority:"high",timeframe:"30 days"},{title:"Coastal Erosion Trends",description:"Gujarat coastline showing accelerated erosion rates in 3 districts",priority:"medium",timeframe:"90 days"},{title:"Public Response Effectiveness",description:"Early warning system response time improved by 18%",priority:"low",timeframe:"60 days"}],P=O=>{console.log(`Generating ${O} report...`)};return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics & Intelligence Center"}),d.jsx("p",{className:"text-gray-600 mt-2",children:"Data-driven insights for ocean hazard patterns and trends"}),d.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[d.jsx(Jr,{className:"w-4 h-4 text-green-500"}),d.jsx("span",{className:"text-sm text-green-600",children:"Real-time Analysis Active"}),d.jsxs("span",{className:"text-sm text-gray-500",children:[" Last updated ",c]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-sm text-gray-500",children:"Analysis Scope"}),d.jsx("div",{className:"text-lg font-semibold text-gray-900",children:"Pan-India Coastal"}),d.jsx("div",{className:"text-sm text-gray-600",children:"All Maritime States"})]})]})}),d.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Rg,{className:"w-4 h-4 text-gray-500"}),d.jsxs("select",{value:y,onChange:O=>v(O.target.value),className:"input text-sm",children:[d.jsx("option",{value:"24h",children:"Last 24 Hours"}),d.jsx("option",{value:"7d",children:"Last 7 Days"}),d.jsx("option",{value:"30d",children:"Last 30 Days"}),d.jsx("option",{value:"90d",children:"Last 90 Days"}),d.jsx("option",{value:"1y",children:"Last Year"})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(_o,{className:"w-4 h-4 text-gray-500"}),d.jsxs("select",{value:x,onChange:O=>w(O.target.value),className:"input text-sm",children:[d.jsx("option",{value:"all",children:"All Regions"}),d.jsx("option",{value:"west",children:"West Coast"}),d.jsx("option",{value:"east",children:"East Coast"}),d.jsx("option",{value:"south",children:"Southern Coast"}),d.jsx("option",{value:"islands",children:"Island Territories"})]})]}),d.jsxs("button",{className:"btn-primary flex items-center space-x-2",children:[d.jsx(l1,{className:"w-4 h-4"}),d.jsx("span",{children:"Export Data"})]}),d.jsxs("button",{className:"btn-secondary flex items-center space-x-2",children:[d.jsx(h1,{className:"w-4 h-4"}),d.jsx("span",{children:"Share Report"})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Total Reports"}),d.jsx(hf,{className:"w-5 h-5 text-blue-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:s.total||0}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ul,{className:"w-4 h-4 text-green-500"}),d.jsx("p",{className:"text-green-600 text-sm",children:"+12% from last period"})]})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Pattern Recognition"}),d.jsx(cf,{className:"w-5 h-5 text-purple-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"87%"}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Accuracy rate"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Social Mentions"}),d.jsx(ff,{className:"w-5 h-5 text-orange-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:"526"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ul,{className:"w-4 h-4 text-green-500"}),d.jsx("p",{className:"text-green-600 text-sm",children:"+18% today"})]})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Response Time"}),d.jsx(uf,{className:"w-5 h-5 text-green-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"8.3m"}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Average analysis time"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Hazard Trends"}),d.jsx("button",{className:"btn-secondary",children:"Detailed View"})]}),d.jsx("div",{className:"space-y-4",children:Object.entries(s.byType||{}).map(([O,F],z)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`w-3 h-3 rounded-full ${O==="cyclone"?"bg-red-500":O==="flood"?"bg-blue-500":O==="tsunami"?"bg-purple-500":"bg-gray-500"}`}),d.jsx("span",{className:"font-medium text-gray-900 capitalize",children:O})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"font-bold text-gray-900",children:F}),d.jsx("div",{className:"text-sm text-gray-500",children:"reports"})]})]},z))})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Social Media Insights"}),d.jsx("button",{className:"btn-secondary",children:"Monitor Live"})]}),d.jsx("div",{className:"space-y-4",children:N.map((O,F)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(df,{className:"w-5 h-5 text-blue-500"}),d.jsx("span",{className:"font-medium text-gray-900",children:O.platform})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"font-bold text-gray-900",children:O.mentions}),d.jsx("span",{className:`text-sm px-2 py-1 rounded-full ${O.sentiment>.3?"bg-green-100 text-green-800":O.sentiment>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:O.sentiment>.3?"Positive":O.sentiment>0?"Neutral":"Negative"})]}),d.jsx("div",{className:"text-sm text-green-600",children:O.trend})]})]},F))})]})]}),d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Key Insights & Recommendations"}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:R.map((O,F)=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsx("h4",{className:"font-semibold text-gray-900",children:O.title}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${O.priority==="high"?"bg-red-100 text-red-800":O.priority==="medium"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:O.priority.toUpperCase()})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-3",children:O.description}),d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:O.timeframe}),d.jsx("button",{className:"text-blue-600 hover:text-blue-700 font-medium",children:"View Details"})]})]},F))})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Quick Analysis Tools"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("button",{onClick:()=>P("trend"),className:"w-full btn-primary flex items-center justify-center space-x-3 py-3",children:[d.jsx(ul,{className:"w-5 h-5"}),d.jsx("span",{children:"Generate Trend Report"})]}),d.jsxs("button",{onClick:()=>P("prediction"),className:"w-full btn-secondary flex items-center justify-center space-x-3 py-3",children:[d.jsx(vy,{className:"w-5 h-5"}),d.jsx("span",{children:"Predictive Analysis"})]}),d.jsxs("button",{onClick:()=>P("social"),className:"w-full btn-secondary flex items-center justify-center space-x-3 py-3",children:[d.jsx(ff,{className:"w-5 h-5"}),d.jsx("span",{children:"Social Media Report"})]}),d.jsxs("button",{onClick:()=>P("comparison"),className:"w-full btn-secondary flex items-center justify-center space-x-3 py-3",children:[d.jsx(cf,{className:"w-5 h-5"}),d.jsx("span",{children:"Comparative Analysis"})]})]})]}),d.jsx("div",{className:"card",children:d.jsx(BL,{})}),d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Data Sources Status"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-green-800",children:"Citizen Reports"}),d.jsx("div",{className:"text-sm text-green-600",children:"Real-time feed active"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Jr,{className:"w-4 h-4 text-green-600"}),d.jsx("span",{className:"text-green-600 font-medium",children:"Online"})]})]}),d.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-green-800",children:"Weather Services"}),d.jsx("div",{className:"text-sm text-green-600",children:"IMD integration"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Jr,{className:"w-4 h-4 text-green-600"}),d.jsx("span",{className:"text-green-600 font-medium",children:"Synced"})]})]}),d.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-blue-800",children:"Social Media APIs"}),d.jsx("div",{className:"text-sm text-blue-600",children:"Multi-platform monitoring"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Jr,{className:"w-4 h-4 text-blue-600"}),d.jsx("span",{className:"text-blue-600 font-medium",children:"Monitoring"})]})]}),d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-gray-800",children:"Satellite Data"}),d.jsx("div",{className:"text-sm text-gray-600",children:"ISRO feed"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(uf,{className:"w-4 h-4 text-gray-600"}),d.jsx("span",{className:"text-gray-600 font-medium",children:"Scheduled"})]})]})]})]})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Analytics Map View"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{className:"btn-secondary",children:"Heat Map"}),d.jsx("button",{className:"btn-secondary",children:"Cluster View"}),d.jsx("button",{className:"btn-secondary",children:"Timeline"})]})]}),d.jsx("div",{className:"h-96",children:d.jsx(fh,{height:"384px",showControls:!0})})]})]})},FL=({user:n})=>{const[e,t]=H.useState([]),[s,o]=H.useState({}),[c,f]=H.useState(""),[y,v]=H.useState({api:"healthy",database:"healthy",storage:"healthy",monitoring:"healthy"});H.useEffect(()=>fr.subscribe((O,F)=>{t(O),o(fr.getStatistics()),f(new Date().toLocaleTimeString())}),[]);const x={active:12456,new_today:23,citizens:14230,officials:1245,analysts:287,admins:85},w={uptime:"99.97%",response_time:"145ms",cpu_usage:"23%",memory_usage:"67%",storage_usage:"34%",daily_requests:"2.4M"},N=[{time:"10 min ago",event:"Multiple failed login attempts detected",severity:"medium",action:"Auto-blocked IP for 1 hour"},{time:"2 hours ago",event:"Unusual API request pattern from citizen app",severity:"low",action:"Monitoring increased"},{time:"1 day ago",event:"Database backup completed successfully",severity:"info",action:"Routine maintenance"}],R=P=>{console.log(`Executing system action: ${P}`)};return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Administration Center"}),d.jsx("p",{className:"text-gray-600 mt-2",children:"Complete system oversight and management for Taranga Ocean Monitor"}),d.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[d.jsx(Jr,{className:"w-4 h-4 text-green-500"}),d.jsx("span",{className:"text-sm text-green-600",children:"All Systems Operational"}),d.jsxs("span",{className:"text-sm text-gray-500",children:[" Last health check ",c]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-sm text-gray-500",children:"Admin Level"}),d.jsx("div",{className:"text-lg font-semibold text-gray-900",children:"Super Administrator"}),d.jsx("div",{className:"text-sm text-gray-600",children:"Full System Access"})]})]})}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Health Status"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`w-3 h-3 rounded-full ${y.api==="healthy"?"bg-green-500":"bg-red-500"}`}),d.jsx("span",{className:"text-sm font-medium",children:"API Services"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`w-3 h-3 rounded-full ${y.database==="healthy"?"bg-green-500":"bg-red-500"}`}),d.jsx("span",{className:"text-sm font-medium",children:"Database"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`w-3 h-3 rounded-full ${y.storage==="healthy"?"bg-green-500":"bg-red-500"}`}),d.jsx("span",{className:"text-sm font-medium",children:"Storage"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`w-3 h-3 rounded-full ${y.monitoring==="healthy"?"bg-green-500":"bg-red-500"}`}),d.jsx("span",{className:"text-sm font-medium",children:"Monitoring"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"System Uptime"}),d.jsx(lC,{className:"w-5 h-5 text-green-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:w.uptime}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Last 30 days"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Active Users"}),d.jsx(hl,{className:"w-5 h-5 text-blue-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:x.active.toLocaleString()}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ul,{className:"w-4 h-4 text-green-500"}),d.jsxs("p",{className:"text-green-600 text-sm",children:["+",x.new_today," today"]})]})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Response Time"}),d.jsx(uf,{className:"w-5 h-5 text-orange-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:w.response_time}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Average API response"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Daily Requests"}),d.jsx(cf,{className:"w-5 h-5 text-purple-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:w.daily_requests}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ul,{className:"w-4 h-4 text-green-500"}),d.jsx("p",{className:"text-green-600 text-sm",children:"+8% from yesterday"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"User Management"}),d.jsx("button",{className:"btn-secondary",children:"Manage All"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:x.citizens.toLocaleString()}),d.jsx("div",{className:"text-sm text-blue-800",children:"Citizens"})]}),d.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:x.officials.toLocaleString()}),d.jsx("div",{className:"text-sm text-green-800",children:"Officials"})]}),d.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-purple-600",children:x.analysts}),d.jsx("div",{className:"text-sm text-purple-800",children:"Analysts"})]}),d.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-orange-600",children:x.admins}),d.jsx("div",{className:"text-sm text-orange-800",children:"Admins"})]})]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsxs("button",{className:"btn-primary flex-1 flex items-center justify-center space-x-2",children:[d.jsx(SC,{className:"w-4 h-4"}),d.jsx("span",{children:"Approve Users"})]}),d.jsxs("button",{className:"btn-secondary flex-1 flex items-center justify-center space-x-2",children:[d.jsx(AC,{className:"w-4 h-4"}),d.jsx("span",{children:"Review Flagged"})]})]})]})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Security Alerts"}),d.jsx("button",{className:"btn-secondary",children:"Security Center"})]}),d.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:N.map((P,O)=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:`w-2 h-2 rounded-full ${P.severity==="medium"?"bg-orange-500":P.severity==="low"?"bg-yellow-500":"bg-blue-500"}`}),d.jsx("span",{className:"font-medium text-gray-900 text-sm",children:P.event})]}),d.jsx("span",{className:"text-xs text-gray-500",children:P.time})]}),d.jsx("p",{className:"text-xs text-gray-600",children:P.action})]},O))})]})]}),d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"System Performance Metrics"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"CPU Usage"}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.cpu_usage})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:w.cpu_usage}})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Memory Usage"}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.memory_usage})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:w.memory_usage}})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Storage Usage"}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.storage_usage})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:w.storage_usage}})})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"System Operations"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("button",{onClick:()=>R("backup"),className:"w-full btn-primary flex items-center justify-center space-x-3 py-3",children:[d.jsx(l1,{className:"w-5 h-5"}),d.jsx("span",{children:"Backup System"})]}),d.jsxs("button",{onClick:()=>R("update"),className:"w-full btn-secondary flex items-center justify-center space-x-3 py-3",children:[d.jsx(c1,{className:"w-5 h-5"}),d.jsx("span",{children:"System Update"})]}),d.jsxs("button",{onClick:()=>R("maintenance"),className:"w-full btn-secondary flex items-center justify-center space-x-3 py-3",children:[d.jsx(Cg,{className:"w-5 h-5"}),d.jsx("span",{children:"Maintenance Mode"})]}),d.jsxs("button",{onClick:()=>R("logs"),className:"w-full btn-secondary flex items-center justify-center space-x-3 py-3",children:[d.jsx(vy,{className:"w-5 h-5"}),d.jsx("span",{children:"View System Logs"})]})]})]}),d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Database Management"}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-green-800",children:"Production DB"}),d.jsx("div",{className:"text-sm text-green-600",children:"Healthy  Auto-backup enabled"})]}),d.jsx(OR,{className:"w-5 h-5 text-green-600"})]})}),d.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-blue-800",children:"Analytics DB"}),d.jsx("div",{className:"text-sm text-blue-600",children:"Synced  Real-time processing"})]}),d.jsx(cf,{className:"w-5 h-5 text-blue-600"})]})}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{className:"btn-secondary flex-1 text-sm",children:"Optimize"}),d.jsx("button",{className:"btn-secondary flex-1 text-sm",children:"Monitor"})]})]})]}),d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Security Center"}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-green-800",children:"SSL Certificate"}),d.jsx("div",{className:"text-sm text-green-600",children:"Valid  Expires in 87 days"})]}),d.jsx($R,{className:"w-5 h-5 text-green-600"})]})}),d.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-blue-800",children:"API Security"}),d.jsx("div",{className:"text-sm text-blue-600",children:"Rate limiting active"})]}),d.jsx(eh,{className:"w-5 h-5 text-blue-600"})]})}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{className:"btn-secondary flex-1 text-sm",children:"Audit"}),d.jsx("button",{className:"btn-secondary flex-1 text-sm",children:"Policies"})]})]})]})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"System Coverage Map"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{className:"btn-secondary",children:"Infrastructure View"}),d.jsx("button",{className:"btn-secondary",children:"Usage Analytics"})]})]}),d.jsx("div",{className:"h-96",children:d.jsx(fh,{height:"384px",showControls:!0})})]})]})},qL=({onClose:n,onSubmit:e})=>{const[t,s]=H.useState({title:"",type:"",severity:"",description:"",location:{latitude:"",longitude:"",address:""},contact:{name:"",phone:"",email:""}}),[o,c]=H.useState(1),[f,y]=H.useState([]),[v,x]=H.useState(!1),[w,N]=H.useState(!1),R=[{value:"cyclone",label:"Cyclone/Storm",icon:""},{value:"flood",label:"Coastal Flooding",icon:""},{value:"tsunami",label:"Tsunami Warning",icon:""},{value:"erosion",label:"Coastal Erosion",icon:""},{value:"pollution",label:"Ocean Pollution",icon:""},{value:"wildlife",label:"Marine Wildlife Issue",icon:""},{value:"navigation",label:"Navigation Hazard",icon:""},{value:"other",label:"Other",icon:""}],P=[{value:"low",label:"Low",color:"bg-green-100 text-green-800",description:"Minor concern, no immediate danger"},{value:"medium",label:"Medium",color:"bg-yellow-100 text-yellow-800",description:"Moderate risk, attention needed"},{value:"high",label:"High",color:"bg-orange-100 text-orange-800",description:"Significant risk, urgent action required"},{value:"critical",label:"Critical",color:"bg-red-100 text-red-800",description:"Immediate danger to life/property"}],O=()=>{N(!0),navigator.geolocation&&navigator.geolocation.getCurrentPosition(le=>{s(Ee=>({...Ee,location:{...Ee.location,latitude:le.coords.latitude.toString(),longitude:le.coords.longitude.toString()}})),N(!1)},le=>{console.error("Error getting location:",le),N(!1)})},F=le=>{if(le.target.files){const Ee=Array.from(le.target.files).slice(0,3-f.length);y(Z=>[...Z,...Ee])}},z=le=>{y(Ee=>Ee.filter((Z,V)=>V!==le))},ce=async le=>{le.preventDefault(),!(!$(1)||!$(2)||!$(3))&&(x(!0),setTimeout(()=>{const Ee={...t,id:Date.now().toString(),timestamp:new Date().toISOString(),images:f.length,status:"pending"};e==null||e(Ee),x(!1),n==null||n()},2e3))},$=le=>{switch(le){case 1:return!!(t.type&&t.severity&&t.title.trim()&&t.description.trim());case 2:return!!(t.location.latitude&&t.location.longitude);case 3:return!!(t.contact.name.trim()&&t.contact.phone.trim());default:return!1}},W=()=>{$(o)&&c(le=>Math.min(le+1,3))},we=()=>c(le=>Math.max(le-1,1));return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden animate-fade-in-scale",children:[d.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 text-white p-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(js,{className:"w-8 h-8"}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold",children:"Report Ocean Hazard"}),d.jsx("p",{className:"text-red-100",children:"Help protect our coastal communities"})]})]}),d.jsx("button",{onClick:n,className:"text-white hover:text-red-200 transition-colors",children:d.jsx(Ix,{className:"w-6 h-6"})})]}),d.jsx("div",{className:"mt-6 flex items-center space-x-2",children:[1,2,3].map(le=>d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold transition-all ${le<=o?"bg-white text-red-500":"bg-red-400 text-red-100"}`,children:le<o?d.jsx(Gf,{className:"w-4 h-4"}):le}),le<3&&d.jsx("div",{className:`h-1 w-16 mx-2 rounded-full transition-all ${le<o?"bg-white":"bg-red-400"}`})]},le))})]}),d.jsxs("form",{onSubmit:ce,className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[o===1&&d.jsx("div",{className:"space-y-6 animate-fade-in-up",children:d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Hazard Information"}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"What type of ocean hazard are you reporting? *"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:R.map(le=>d.jsxs("button",{type:"button",onClick:()=>s(Ee=>({...Ee,type:le.value})),className:`p-4 rounded-lg border-2 transition-all text-center hover:shadow-md ${t.type===le.value?"border-red-500 bg-red-50 text-red-700":"border-gray-200 hover:border-red-300"}`,children:[d.jsx("div",{className:"text-2xl mb-2",children:le.icon}),d.jsx("div",{className:"text-sm font-medium",children:le.label})]},le.value))})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Severity Level *"}),d.jsx("div",{className:"space-y-3",children:P.map(le=>d.jsxs("label",{className:`flex items-start p-4 rounded-lg border-2 cursor-pointer transition-all ${t.severity===le.value?"border-red-500 bg-red-50":"border-gray-200 hover:border-red-300"}`,children:[d.jsx("input",{type:"radio",name:"severity",value:le.value,checked:t.severity===le.value,onChange:Ee=>s(Z=>({...Z,severity:Ee.target.value})),className:"mt-1 mr-3"}),d.jsxs("div",{children:[d.jsx("div",{className:"flex items-center space-x-3",children:d.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${le.color}`,children:le.label})}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:le.description})]})]},le.value))})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Brief Title *"}),d.jsx("input",{type:"text",value:t.title,onChange:le=>s(Ee=>({...Ee,title:le.target.value})),placeholder:"e.g., Large waves causing coastal flooding",className:"input",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Detailed Description *"}),d.jsx("textarea",{value:t.description,onChange:le=>s(Ee=>({...Ee,description:le.target.value})),placeholder:"Provide detailed information about the hazard, including what you observed, when it started, and any impacts...",rows:6,className:"input resize-none",required:!0})]})]})}),o===2&&d.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Location & Evidence"}),d.jsxs("div",{className:"card-feature",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[d.jsx(_o,{className:"w-6 h-6 text-blue-600"}),d.jsx("h4",{className:"text-lg font-semibold",children:"Hazard Location"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("button",{type:"button",onClick:O,disabled:w,className:"btn-secondary flex items-center space-x-2",children:[d.jsx(_o,{className:"w-4 h-4"}),d.jsx("span",{children:w?"Getting location...":"Use Current Location"}),w&&d.jsx("div",{className:"loading"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Latitude"}),d.jsx("input",{type:"text",value:t.location.latitude,onChange:le=>s(Ee=>({...Ee,location:{...Ee.location,latitude:le.target.value}})),placeholder:"19.0760",className:"input"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Longitude"}),d.jsx("input",{type:"text",value:t.location.longitude,onChange:le=>s(Ee=>({...Ee,location:{...Ee.location,longitude:le.target.value}})),placeholder:"72.8777",className:"input"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Address/Landmark"}),d.jsx("input",{type:"text",value:t.location.address,onChange:le=>s(Ee=>({...Ee,location:{...Ee.location,address:le.target.value}})),placeholder:"e.g., Marine Drive, Mumbai or nearest landmark",className:"input"})]})]})]}),d.jsxs("div",{className:"card-feature",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[d.jsx(SR,{className:"w-6 h-6 text-green-600"}),d.jsx("h4",{className:"text-lg font-semibold",children:"Photo Evidence (Optional)"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Upload up to 3 photos to help authorities assess the situation"}),f.length<3&&d.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-green-400 transition-colors",children:[d.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:F,className:"hidden",id:"image-upload"}),d.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[d.jsx(EC,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Click to upload photos"}),d.jsx("p",{className:"text-xs text-gray-500",children:"JPG, PNG up to 5MB each"})]})]}),f.length>0&&d.jsx("div",{className:"grid grid-cols-3 gap-4",children:f.map((le,Ee)=>d.jsxs("div",{className:"relative group",children:[d.jsx("img",{src:URL.createObjectURL(le),alt:`Upload ${Ee+1}`,className:"w-full h-24 object-cover rounded-lg"}),d.jsx("button",{type:"button",onClick:()=>z(Ee),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(Ix,{className:"w-3 h-3"})})]},Ee))})]})]})]}),o===3&&d.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Contact Information"}),d.jsxs("div",{className:"card-feature",children:[d.jsx("p",{className:"text-gray-600 mb-6",children:"Your contact information helps authorities reach you for follow-up questions or updates. This information is kept confidential and used only for official purposes."}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name *"}),d.jsx("input",{type:"text",value:t.contact.name,onChange:le=>s(Ee=>({...Ee,contact:{...Ee.contact,name:le.target.value}})),className:"input",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number *"}),d.jsx("input",{type:"tel",value:t.contact.phone,onChange:le=>s(Ee=>({...Ee,contact:{...Ee.contact,phone:le.target.value}})),placeholder:"+91 98765 43210",className:"input",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),d.jsx("input",{type:"email",value:t.contact.email,onChange:le=>s(Ee=>({...Ee,contact:{...Ee.contact,email:le.target.value}})),placeholder:"your.email@example.com",className:"input"})]})]}),d.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(js,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{className:"text-sm text-blue-800",children:[d.jsx("p",{className:"font-semibold mb-1",children:"Important:"}),d.jsxs("ul",{className:"space-y-1 text-blue-700",children:[d.jsx("li",{children:" Your report will be reviewed by authorities within 30 minutes"}),d.jsx("li",{children:" You may be contacted for additional information"}),d.jsx("li",{children:" False reports may result in legal consequences"})]})]})]})})]})]}),d.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-gray-200",children:[d.jsx("div",{className:"flex space-x-3",children:o>1&&d.jsx("button",{type:"button",onClick:we,className:"btn-secondary",children:"Previous"})}),d.jsxs("div",{className:"text-sm text-gray-500",children:["Step ",o," of 3"]}),d.jsx("div",{className:"flex space-x-3",children:o<3?d.jsx("button",{type:"button",onClick:W,disabled:!$(o),className:`btn-primary ${$(o)?"":"opacity-50 cursor-not-allowed"}`,title:$(o)?"":"Please fill in all required fields",children:"Next Step"}):d.jsxs("button",{type:"submit",disabled:v||!$(1)||!$(2)||!$(3),className:`btn-error flex items-center space-x-2 ${!$(1)||!$(2)||!$(3)?"opacity-50 cursor-not-allowed":""}`,title:!$(1)||!$(2)||!$(3)?"Please complete all required fields":"",children:[v&&d.jsx("div",{className:"loading"}),d.jsx(aC,{className:"w-4 h-4"}),d.jsx("span",{children:v?"Submitting...":"Submit Report"})]})})]})]})]})})},GL=({user:n})=>{const[e,t]=H.useState("profile"),[s,o]=H.useState({profile:{name:(n==null?void 0:n.name)||"",email:(n==null?void 0:n.email)||"",phone:"",location:"Mumbai, Maharashtra",bio:""},notifications:{email:!0,sms:!0,push:!0,criticalAlerts:!0,weeklyReports:!1,socialMediaMentions:!0,volunteerOpportunities:!1},privacy:{profileVisible:!0,locationSharing:!1,dataAnalytics:!0,thirdPartySharing:!1},preferences:{theme:"light",language:"en",mapProvider:"leaflet",defaultView:"dashboard",alertRadius:"50"}}),[c,f]=H.useState(!1),[y,v]=H.useState("idle"),x=async()=>{f(!0),v("idle"),setTimeout(()=>{v("success"),f(!1),setTimeout(()=>v("idle"),3e3)},1500)},w=(R,P,O)=>{o(F=>({...F,[R]:{...F[R],[P]:O}}))},N=[{id:"profile",label:"Profile",icon:ng},{id:"notifications",label:"Notifications",icon:Ag},{id:"privacy",label:"Privacy & Security",icon:eh},{id:"preferences",label:"Preferences",icon:Cg}];return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),d.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your account preferences and privacy settings"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[d.jsx("div",{className:"lg:col-span-1",children:d.jsx("div",{className:"card space-y-1",children:N.map(R=>{const P=R.icon;return d.jsxs("button",{onClick:()=>t(R.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-all text-left ${e===R.id?"bg-blue-50 border border-blue-200 text-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[d.jsx(P,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium",children:R.label})]},R.id)})})}),d.jsx("div",{className:"lg:col-span-3",children:d.jsxs("div",{className:"card-feature",children:[e==="profile"&&d.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[d.jsx(ng,{className:"w-6 h-6 text-blue-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"Profile Information"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),d.jsx("input",{type:"text",value:s.profile.name,onChange:R=>w("profile","name",R.target.value),className:"input"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),d.jsx("input",{type:"email",value:s.profile.email,onChange:R=>w("profile","email",R.target.value),className:"input"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),d.jsx("input",{type:"tel",value:s.profile.phone,onChange:R=>w("profile","phone",R.target.value),placeholder:"+91 98765 43210",className:"input"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Location"}),d.jsx("input",{type:"text",value:s.profile.location,onChange:R=>w("profile","location",R.target.value),className:"input"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Bio"}),d.jsx("textarea",{value:s.profile.bio,onChange:R=>w("profile","bio",R.target.value),placeholder:"Tell us about yourself...",rows:4,className:"input resize-none"})]}),d.jsx("div",{className:"p-4 bg-blue-50 rounded-lg",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(ng,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{className:"text-sm text-blue-800",children:[d.jsx("p",{className:"font-semibold mb-1",children:"Profile Verification"}),d.jsx("p",{className:"text-blue-700",children:"Keep your profile information up-to-date to ensure you receive important alerts and can be contacted during emergency situations."})]})]})})]}),e==="notifications"&&d.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[d.jsx(Ag,{className:"w-6 h-6 text-green-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"Notification Preferences"})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Alert Methods"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(KR,{className:"w-5 h-5 text-blue-500"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900",children:"Email Notifications"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Receive alerts via email"})]})]}),d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:s.notifications.email,onChange:R=>w("notifications","email",R.target.checked),className:"sr-only peer"}),d.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(ol,{className:"w-5 h-5 text-green-500"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900",children:"SMS Alerts"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Critical alerts via SMS"})]})]}),d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:s.notifications.sms,onChange:R=>w("notifications","sms",R.target.checked),className:"sr-only peer"}),d.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(fC,{className:"w-5 h-5 text-purple-500"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900",children:"Push Notifications"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Real-time app notifications"})]})]}),d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:s.notifications.push,onChange:R=>w("notifications","push",R.target.checked),className:"sr-only peer"}),d.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Alert Types"}),d.jsx("div",{className:"space-y-4",children:[{key:"criticalAlerts",label:"Critical Hazard Alerts",desc:"Immediate danger notifications",required:!0},{key:"weeklyReports",label:"Weekly Summary Reports",desc:"Weekly hazard activity summary"},{key:"socialMediaMentions",label:"Social Media Monitoring",desc:"Relevant social media alerts"},{key:"volunteerOpportunities",label:"Volunteer Opportunities",desc:"New volunteer opportunities in your area"}].map(R=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("p",{className:"font-medium text-gray-900",children:R.label}),R.required&&d.jsx("span",{className:"px-2 py-1 text-xs font-semibold bg-red-100 text-red-800 rounded-full",children:"Required"})]}),d.jsx("p",{className:"text-sm text-gray-500",children:R.desc})]}),d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:s.notifications[R.key],onChange:P=>w("notifications",R.key,P.target.checked),disabled:R.required,className:"sr-only peer"}),d.jsx("div",{className:`w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600 ${R.required?"opacity-50":""}`})]})]},R.key))})]})]})]}),e==="privacy"&&d.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[d.jsx(eh,{className:"w-6 h-6 text-red-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"Privacy & Security"})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Data Privacy"}),d.jsx("div",{className:"space-y-4",children:[{key:"profileVisible",label:"Public Profile",desc:"Make your profile visible to other users"},{key:"locationSharing",label:"Location Sharing",desc:"Share your location for better emergency response"},{key:"dataAnalytics",label:"Usage Analytics",desc:"Help improve the platform with anonymous usage data"},{key:"thirdPartySharing",label:"Third-party Data Sharing",desc:"Share anonymized data with research partners"}].map(R=>d.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900",children:R.label}),d.jsx("p",{className:"text-sm text-gray-500",children:R.desc})]}),d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:s.privacy[R.key],onChange:P=>w("privacy",R.key,P.target.checked),className:"sr-only peer"}),d.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},R.key))})]}),d.jsx("div",{className:"p-4 bg-amber-50 rounded-lg",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(js,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{className:"text-sm text-amber-800",children:[d.jsx("p",{className:"font-semibold mb-1",children:"Important Security Notice"}),d.jsx("p",{className:"text-amber-700",children:"Your safety is our priority. Location sharing is recommended for faster emergency response, but you maintain full control over your privacy settings."})]})]})})]})]}),e==="preferences"&&d.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[d.jsx(Cg,{className:"w-6 h-6 text-purple-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"App Preferences"})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Appearance"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Theme"}),d.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"light",label:"Light",icon:yC},{value:"dark",label:"Dark",icon:XR},{value:"auto",label:"Auto",icon:df}].map(R=>{const P=R.icon;return d.jsxs("button",{onClick:()=>w("preferences","theme",R.value),className:`flex flex-col items-center p-4 rounded-lg border-2 transition-all ${s.preferences.theme===R.value?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-purple-300"}`,children:[d.jsx(P,{className:"w-6 h-6 mb-2"}),d.jsx("span",{className:"text-sm font-medium",children:R.label})]},R.value)})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Language"}),d.jsxs("select",{value:s.preferences.language,onChange:R=>w("preferences","language",R.target.value),className:"input",children:[d.jsx("option",{value:"en",children:"English"}),d.jsx("option",{value:"hi",children:" (Hindi)"}),d.jsx("option",{value:"bn",children:" (Bengali)"}),d.jsx("option",{value:"te",children:" (Telugu)"}),d.jsx("option",{value:"ta",children:" (Tamil)"}),d.jsx("option",{value:"mr",children:" (Marathi)"})]})]})]})]}),d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Map & Location"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Map Provider"}),d.jsxs("select",{value:s.preferences.mapProvider,onChange:R=>w("preferences","mapProvider",R.target.value),className:"input",children:[d.jsx("option",{value:"leaflet",children:"OpenStreetMap (Leaflet)"}),d.jsx("option",{value:"google",children:"Google Maps"}),d.jsx("option",{value:"mapbox",children:"Mapbox"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Alert Radius (km)"}),d.jsx("input",{type:"range",min:"10",max:"100",value:s.preferences.alertRadius,onChange:R=>w("preferences","alertRadius",R.target.value),className:"w-full"}),d.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[d.jsx("span",{children:"10 km"}),d.jsxs("span",{className:"font-medium",children:[s.preferences.alertRadius," km"]}),d.jsx("span",{children:"100 km"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Default Dashboard View"}),d.jsxs("select",{value:s.preferences.defaultView,onChange:R=>w("preferences","defaultView",R.target.value),className:"input",children:[d.jsx("option",{value:"dashboard",children:"Overview Dashboard"}),d.jsx("option",{value:"map",children:"Hazard Map"}),d.jsx("option",{value:"reports",children:"Recent Reports"})]})]})]})]})]})]}),d.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200 mt-8",children:[d.jsx("div",{className:"flex items-center space-x-2",children:y==="success"&&d.jsxs("div",{className:"flex items-center space-x-2 text-green-600 animate-fade-in-scale",children:[d.jsx(Gf,{className:"w-5 h-5"}),d.jsx("span",{className:"text-sm font-medium",children:"Settings saved successfully"})]})}),d.jsxs("button",{onClick:x,disabled:c,className:"btn-primary flex items-center space-x-2",children:[c&&d.jsx("div",{className:"loading"}),d.jsx(iC,{className:"w-4 h-4"}),d.jsx("span",{children:c?"Saving...":"Save Changes"})]})]})]})})]})]})},$L=({user:n})=>{const[e,t]=H.useState(null),[s,o]=H.useState(""),[c,f]=H.useState(null),[y,v]=H.useState("one-time"),[x,w]=H.useState(!1),N=[{id:"1",title:"Cyclone Yaas Relief Fund",description:"Emergency relief for coastal communities affected by Cyclone Yaas in West Bengal and Odisha.",target:5e5,raised:387500,donors:1245,daysLeft:8,image:"https://via.placeholder.com/300x200/3B82F6/FFFFFF?text=Relief+Campaign",location:"West Bengal & Odisha",urgent:!0,category:"relief"},{id:"2",title:"Coast Guard Rescue Equipment",description:"Help us purchase modern rescue equipment for coast guard operations in Gujarat maritime region.",target:75e4,raised:234e3,donors:567,daysLeft:22,image:"https://via.placeholder.com/300x200/3B82F6/FFFFFF?text=Relief+Campaign",location:"Gujarat Coast",urgent:!1,category:"equipment"},{id:"3",title:"Ocean Research Initiative",description:"Support research on changing ocean patterns and their impact on coastal communities.",target:3e5,raised:198750,donors:892,daysLeft:15,image:"https://via.placeholder.com/300x200/3B82F6/FFFFFF?text=Relief+Campaign",location:"Pan-India",urgent:!1,category:"research"},{id:"4",title:"Community Warning Systems",description:"Install early warning systems in remote coastal villages across Kerala and Karnataka.",target:45e4,raised:123e3,donors:334,daysLeft:30,image:"https://via.placeholder.com/300x200/3B82F6/FFFFFF?text=Relief+Campaign",location:"Kerala & Karnataka",urgent:!0,category:"community"}],R=[500,1e3,2500,5e3,1e4],P=()=>{(e||parseInt(s))&&c&&setTimeout(()=>{w(!0),setTimeout(()=>w(!1),5e3)},2e3)},O=$=>({relief:Hu,equipment:tg,research:df,community:hl})[$]||Hu,F=$=>({relief:"bg-red-100 text-red-700",equipment:"bg-blue-100 text-blue-700",research:"bg-green-100 text-green-700",community:"bg-purple-100 text-purple-700"})[$]||"bg-gray-100 text-gray-700",z=N.reduce(($,W)=>$+W.raised,0),ce=N.reduce(($,W)=>$+W.donors,0);return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-xl p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Support Ocean Safety"}),d.jsx("p",{className:"text-red-100 mt-2",children:"Help protect coastal communities and marine ecosystems"})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-sm text-red-100",children:"Total Raised"}),d.jsxs("div",{className:"text-2xl font-bold",children:["",(z/1e5).toFixed(1),"L"]}),d.jsxs("div",{className:"text-sm text-red-100",children:[ce," donors"]})]})]})}),x&&d.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 animate-fade-in-scale",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Gf,{className:"w-6 h-6 text-green-600"}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-green-800",children:"Thank you for your donation!"}),d.jsx("p",{className:"text-green-700",children:"Your contribution will help protect coastal communities."})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Active Campaigns"}),d.jsx(tg,{className:"w-5 h-5 text-blue-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:N.length}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Seeking support"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Urgent Needs"}),d.jsx(Hu,{className:"w-5 h-5 text-red-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:N.filter($=>$.urgent).length}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Need immediate help"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Communities Helped"}),d.jsx(hl,{className:"w-5 h-5 text-green-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"127"}),d.jsx("p",{className:"text-gray-500 text-sm",children:"This year"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Impact Score"}),d.jsx(pC,{className:"w-5 h-5 text-yellow-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-yellow-600 mb-2",children:"4.8"}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Donor satisfaction"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsx("div",{className:"lg:col-span-2",children:d.jsxs("div",{className:"card",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Active Campaigns"}),d.jsx("div",{className:"space-y-6",children:N.map($=>{const W=O($.category),we=$.raised/$.target*100;return d.jsxs("div",{className:`border-2 rounded-xl p-6 transition-all cursor-pointer hover:shadow-lg ${c===$.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,onClick:()=>f($.id),children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:$.title}),$.urgent&&d.jsx("span",{className:"px-2 py-1 text-xs font-semibold bg-red-100 text-red-800 rounded-full",children:"Urgent"}),d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${F($.category)}`,children:$.category})]}),d.jsx("p",{className:"text-gray-600 mb-3",children:$.description}),d.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-4",children:[d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(_o,{className:"w-4 h-4"}),d.jsx("span",{children:$.location})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(Rg,{className:"w-4 h-4"}),d.jsxs("span",{children:[$.daysLeft," days left"]})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(hl,{className:"w-4 h-4"}),d.jsxs("span",{children:[$.donors," donors"]})]})]})]}),d.jsx(W,{className:"w-8 h-8 text-blue-600 ml-4 flex-shrink-0"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("span",{className:"text-sm text-gray-600",children:["",($.raised/1e3).toFixed(0),"k raised of ",($.target/1e3).toFixed(0),"k goal"]}),d.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[we.toFixed(0),"%"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-blue-500 to-green-500 transition-all duration-300",style:{width:`${Math.min(we,100)}%`}})})]})]},$.id)})})]})}),d.jsx("div",{className:"lg:col-span-1",children:d.jsxs("div",{className:"card-feature sticky top-6",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[d.jsx(HR,{className:"w-6 h-6 text-green-600"}),d.jsx("h3",{className:"text-xl font-semibold",children:"Make a Donation"})]}),!c&&d.jsxs("div",{className:"text-center py-8",children:[d.jsx(tg,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Select a campaign to donate"})]}),c&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Donation Type"}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{onClick:()=>v("one-time"),className:`p-3 rounded-lg border-2 transition-all text-center ${y==="one-time"?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-green-300"}`,children:[d.jsx(o1,{className:"w-5 h-5 mx-auto mb-1"}),d.jsx("span",{className:"text-sm font-medium",children:"One-time"})]}),d.jsxs("button",{onClick:()=>v("monthly"),className:`p-3 rounded-lg border-2 transition-all text-center ${y==="monthly"?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-green-300"}`,children:[d.jsx(Rg,{className:"w-5 h-5 mx-auto mb-1"}),d.jsx("span",{className:"text-sm font-medium",children:"Monthly"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Select Amount"}),d.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:R.map($=>d.jsx("button",{onClick:()=>{t($),o("")},className:`p-3 rounded-lg border-2 transition-all text-center ${e===$?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-green-300"}`,children:d.jsxs("span",{className:"text-sm font-medium",children:["",$]})},$))}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Custom Amount"}),d.jsx("input",{type:"number",value:s,onChange:$=>{o($.target.value),t(null)},placeholder:"Enter amount",className:"input"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Payment Method"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[d.jsx("input",{type:"radio",name:"payment",value:"card",className:"mr-3",defaultChecked:!0}),d.jsx(IR,{className:"w-5 h-5 mr-2 text-blue-600"}),d.jsx("span",{className:"font-medium",children:"Credit/Debit Card"})]}),d.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[d.jsx("input",{type:"radio",name:"payment",value:"upi",className:"mr-3"}),d.jsx("span",{className:"w-5 h-5 mr-2 bg-purple-600 rounded text-white flex items-center justify-center text-xs font-bold",children:""}),d.jsx("span",{className:"font-medium",children:"UPI"})]}),d.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[d.jsx("input",{type:"radio",name:"payment",value:"netbanking",className:"mr-3"}),d.jsx(df,{className:"w-5 h-5 mr-2 text-green-600"}),d.jsx("span",{className:"font-medium",children:"Net Banking"})]})]})]}),d.jsx("div",{className:"p-4 bg-blue-50 rounded-lg",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(ul,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{className:"text-sm text-blue-800",children:[d.jsx("p",{className:"font-semibold mb-1",children:"Your Impact"}),d.jsxs("p",{className:"text-blue-700",children:["",e||s||"0"," can help provide emergency supplies for ",Math.floor((e||parseInt(s)||0)/500)||0," families"]})]})]})}),d.jsxs("button",{onClick:P,disabled:!c||!e&&!s,className:"w-full btn-success py-4 text-lg font-semibold",children:[d.jsx(Hu,{className:"w-5 h-5 mr-2"}),"Donate ",e||s||"0"]}),d.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[d.jsx("p",{children:" Secure payment  80G tax exemption available"}),d.jsx("p",{children:"Managed by certified NGO partners"})]})]})]})})]})]})},ZL=({user:n})=>{const[e,t]=H.useState([]),[s,o]=H.useState(!0),[c,f]=H.useState({platform:"all",sentiment:"all",timeframe:"24h",relevance:"high"}),[y,v]=H.useState(""),[x,w]=H.useState(!1),N=[{id:"1",platform:"twitter",author:"@MumbaiWeather",content:"High tide alert! Coastal areas experiencing unusual wave patterns. Marine Drive witnessing higher than normal waves. Authorities advising caution for beachgoers. #MumbaiTide #CoastalAlert #SafetyFirst",timestamp:new Date(Date.now()-7200*1e3),engagement:{likes:234,shares:89,comments:45},sentiment:"negative",relevanceScore:95,location:"Mumbai, Maharashtra",verified:!0,hashtags:["MumbaiTide","CoastalAlert","SafetyFirst"],mentions:[]},{id:"2",platform:"facebook",author:"Gujarat Coast Guard",content:"Coast Guard vessels on high alert following reports of unusual sea conditions off Dwarka coast. All fishing vessels advised to return to nearest harbor immediately. Weather department monitoring situation closely.",timestamp:new Date(Date.now()-14400*1e3),engagement:{likes:156,shares:234,comments:67},sentiment:"neutral",relevanceScore:92,location:"Dwarka, Gujarat",verified:!0,hashtags:[],mentions:["GujaratCoastGuard"]},{id:"3",platform:"instagram",author:"@chennai_beaches",content:"Beautiful morning at Marina Beach! Crystal clear waters and gentle waves. Perfect weather for a beach walk. Thanks to @chennai_corporation for keeping our beaches clean!  #ChennaiBeaches #MarinaBech #BeachLife",timestamp:new Date(Date.now()-360*60*1e3),engagement:{likes:567,shares:23,comments:89},sentiment:"positive",relevanceScore:45,location:"Chennai, Tamil Nadu",verified:!1,hashtags:["ChennaiBeaches","MarinaBech","BeachLife"],mentions:["chennai_corporation"]},{id:"4",platform:"twitter",author:"@KeralaAlerts",content:" CYCLONE WATCH: Meteorological department issues cyclone alert for Kerala coast. Expected to intensify over next 48 hours. Fishermen advised against venturing into sea. Emergency helplines activated. Stay safe! #CycloneAlert #KeralaWeather",timestamp:new Date(Date.now()-480*60*1e3),engagement:{likes:445,shares:678,comments:123},sentiment:"negative",relevanceScore:98,location:"Kerala",verified:!0,hashtags:["CycloneAlert","KeralaWeather"],mentions:[]},{id:"5",platform:"youtube",author:"Indian Ocean Research",content:"New study reveals changing ocean current patterns in the Arabian Sea. Our latest research shows significant shifts that could affect monsoon patterns and coastal ecosystems. Watch our detailed analysis.",timestamp:new Date(Date.now()-720*60*1e3),engagement:{likes:1234,shares:156,comments:89},sentiment:"neutral",relevanceScore:87,location:"Pan-India",verified:!0,hashtags:["OceanResearch","ArabianSea","ClimateChange"],mentions:[]}];H.useEffect(()=>{o(!0),setTimeout(()=>{const $=N.filter(W=>{if(c.platform!=="all"&&W.platform!==c.platform||c.sentiment!=="all"&&W.sentiment!==c.sentiment)return!1;let we=24;c.timeframe.includes("h")?we=parseInt(c.timeframe.replace(/[^0-9]/g,""))||24:c.timeframe.includes("d")&&(we=(parseInt(c.timeframe.replace(/[^0-9]/g,""))||1)*24);const le=new Date(Date.now()-we*60*60*1e3);return!(W.timestamp<le)});t($),o(!1)},1500)},[c]);const R=()=>{w(!0),setTimeout(()=>{const $=N.map((W,we)=>({...W,id:`refresh_${Date.now()}_${we}`,timestamp:new Date(Date.now()-Math.random()*36e5),engagement:{likes:Math.floor(Math.random()*1e3)+W.engagement.likes,shares:Math.floor(Math.random()*500)+W.engagement.shares,comments:Math.floor(Math.random()*200)+W.engagement.comments}}));t($),w(!1)},1e3)},P=e.filter($=>!(c.platform!=="all"&&$.platform!==c.platform||c.sentiment!=="all"&&$.sentiment!==c.sentiment||y&&!$.content.toLowerCase().includes(y.toLowerCase()))),O=$=>({twitter:"",facebook:"",instagram:"",youtube:""})[$]||"",F=$=>{switch($){case"positive":return"text-green-600 bg-green-100";case"negative":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},z=$=>$>=90?"text-red-600 bg-red-100":$>=70?"text-orange-600 bg-orange-100":$>=50?"text-yellow-600 bg-yellow-100":"text-gray-600 bg-gray-100",ce={totalPosts:P.length,highRelevance:P.filter($=>$.relevanceScore>=70).length,sentimentBreakdown:{positive:P.filter($=>$.sentiment==="positive").length,negative:P.filter($=>$.sentiment==="negative").length,neutral:P.filter($=>$.sentiment==="neutral").length},platformBreakdown:{twitter:P.filter($=>$.platform==="twitter").length,facebook:P.filter($=>$.platform==="facebook").length,instagram:P.filter($=>$.platform==="instagram").length,youtube:P.filter($=>$.platform==="youtube").length}};return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Social Media Monitoring"}),d.jsx("p",{className:"text-gray-600 mt-2",children:"Real-time social media intelligence for ocean hazard detection"})]}),d.jsxs("button",{onClick:R,disabled:x,className:"btn-primary flex items-center space-x-2",children:[d.jsx(c1,{className:`w-4 h-4 ${x?"animate-spin":""}`}),d.jsx("span",{children:"Refresh"})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Total Posts"}),d.jsx(ff,{className:"w-5 h-5 text-blue-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:ce.totalPosts}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Last 24 hours"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"High Priority"}),d.jsx(js,{className:"w-5 h-5 text-red-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:ce.highRelevance}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Needs attention"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Sentiment"}),d.jsx(ul,{className:"w-5 h-5 text-green-500"})]}),d.jsxs("div",{className:"flex space-x-2 text-sm",children:[d.jsxs("span",{className:"text-green-600 font-semibold",children:[ce.sentimentBreakdown.positive,"+"]}),d.jsxs("span",{className:"text-gray-600",children:[ce.sentimentBreakdown.neutral,"="]}),d.jsxs("span",{className:"text-red-600 font-semibold",children:[ce.sentimentBreakdown.negative,"-"]})]}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Positive trending"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Engagement"}),d.jsx(hl,{className:"w-5 h-5 text-purple-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:P.reduce(($,W)=>$+W.engagement.likes+W.engagement.shares,0)}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Total interactions"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"lg:col-span-1",children:[d.jsxs("div",{className:"card space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filters"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Search"}),d.jsxs("div",{className:"relative",children:[d.jsx(u1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",value:y,onChange:$=>v($.target.value),placeholder:"Search posts...",className:"input pl-10"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Platform"}),d.jsxs("select",{value:c.platform,onChange:$=>f(W=>({...W,platform:$.target.value})),className:"input",children:[d.jsx("option",{value:"all",children:"All Platforms"}),d.jsx("option",{value:"twitter",children:"Twitter"}),d.jsx("option",{value:"facebook",children:"Facebook"}),d.jsx("option",{value:"instagram",children:"Instagram"}),d.jsx("option",{value:"youtube",children:"YouTube"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Sentiment"}),d.jsxs("select",{value:c.sentiment,onChange:$=>f(W=>({...W,sentiment:$.target.value})),className:"input",children:[d.jsx("option",{value:"all",children:"All Sentiment"}),d.jsx("option",{value:"positive",children:"Positive"}),d.jsx("option",{value:"neutral",children:"Neutral"}),d.jsx("option",{value:"negative",children:"Negative"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Timeframe"}),d.jsxs("select",{value:c.timeframe,onChange:$=>f(W=>({...W,timeframe:$.target.value})),className:"input",children:[d.jsx("option",{value:"24h",children:"Last 24 Hours"}),d.jsx("option",{value:"7d",children:"Last 7 Days"}),d.jsx("option",{value:"30d",children:"Last 30 Days"})]})]})]}),d.jsxs("div",{className:"card mt-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Platform Activity"}),d.jsx("div",{className:"space-y-3",children:Object.entries(ce.platformBreakdown).map(([$,W])=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"text-lg",children:O($)}),d.jsx("span",{className:"font-medium capitalize",children:$})]}),d.jsx("span",{className:"font-bold text-gray-900",children:W})]},$))})]})]}),d.jsx("div",{className:"lg:col-span-3",children:d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Live Social Feed"}),d.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[d.jsx(vy,{className:"w-4 h-4"}),d.jsxs("span",{children:["Monitoring ",P.length," posts"]})]})]}),s?d.jsx("div",{className:"space-y-4",children:[1,2,3].map($=>d.jsx("div",{className:"animate-pulse",children:d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),d.jsxs("div",{className:"flex-1 space-y-2",children:[d.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),d.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),d.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]})},$))}):d.jsx("div",{className:"space-y-6 max-h-[800px] overflow-y-auto",children:P.map($=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-lg",children:O($.platform)})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"font-semibold text-gray-900",children:$.author}),$.verified&&d.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-white text-xs",children:""})})]}),d.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[d.jsx("span",{children:new Date($.timestamp).toLocaleString()}),$.location&&d.jsxs(d.Fragment,{children:[d.jsx("span",{children:""}),d.jsx(_o,{className:"w-3 h-3"}),d.jsx("span",{children:$.location})]})]})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${F($.sentiment)}`,children:$.sentiment}),d.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${z($.relevanceScore)}`,children:[$.relevanceScore,"% relevant"]})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{className:"text-gray-900 leading-relaxed",children:$.content}),$.hashtags.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:$.hashtags.map(W=>d.jsxs("span",{className:"text-blue-600 text-sm font-medium",children:["#",W]},W))})]}),d.jsxs("div",{className:"flex items-center justify-between text-gray-500 text-sm border-t border-gray-100 pt-4",children:[d.jsxs("div",{className:"flex items-center space-x-6",children:[d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(Hu,{className:"w-4 h-4"}),d.jsx("span",{children:$.engagement.likes})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(h1,{className:"w-4 h-4"}),d.jsx("span",{children:$.engagement.shares})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(ff,{className:"w-4 h-4"}),d.jsx("span",{children:$.engagement.comments})]})]}),d.jsxs("button",{className:"flex items-center space-x-1 text-blue-600 hover:text-blue-700 font-medium",children:[d.jsx(kR,{className:"w-4 h-4"}),d.jsx("span",{children:"View Original"})]})]})]},$.id))})]})})]})]})},KL=({user:n,onLogout:e})=>{const[t,s]=na.useState(`${n.role}-dashboard`);return d.jsxs("div",{className:"min-h-screen relative",children:[d.jsx("header",{className:"bg-white border-b border-gray-200",children:d.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:d.jsx("span",{className:"text-white font-bold text-lg",children:""})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Taranga Ocean Monitor"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Advanced Hazard Detection System"})]})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900",children:n.fullName}),d.jsx("p",{className:"text-xs text-blue-600 uppercase tracking-wide",children:n.role})]}),d.jsx("button",{onClick:e,className:"btn-secondary px-4 py-2 text-sm font-medium",children:"Logout"})]})]})})}),d.jsxs("div",{className:"relative z-10 flex min-h-screen",children:[d.jsx("nav",{className:"w-64 md:w-72 lg:w-80 bg-white border-r border-gray-200 p-4 sm:p-6 flex-shrink-0",children:d.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[d.jsx(yi,{active:t===`${n.role}-dashboard`,onClick:()=>s(`${n.role}-dashboard`),icon:"",label:"Dashboard"}),n.role==="citizen"&&d.jsxs(d.Fragment,{children:[d.jsx(yi,{onClick:()=>s("report-hazard"),icon:"",label:"Report Hazard"}),d.jsx(yi,{onClick:()=>s("hazard-map"),icon:"",label:"Hazard Map"}),d.jsx(yi,{onClick:()=>s("donations"),icon:"",label:"Donate"})]}),n.role==="analyst"&&d.jsxs(d.Fragment,{children:[d.jsx(yi,{onClick:()=>s("analytics"),icon:"",label:"Analytics"}),d.jsx(yi,{onClick:()=>s("social-media"),icon:"",label:"Social Media"}),d.jsx(yi,{onClick:()=>s("reports"),icon:"",label:"Reports"})]}),n.role==="official"&&d.jsxs(d.Fragment,{children:[d.jsx(yi,{onClick:()=>s("emergency"),icon:"",label:"Emergency Response"}),d.jsx(yi,{onClick:()=>s("volunteers"),icon:"",label:"Volunteers"}),d.jsx(yi,{onClick:()=>s("resources"),icon:"",label:"Resources"})]}),(n.role==="admin"||n.role==="Admin")&&d.jsxs(d.Fragment,{children:[d.jsx(yi,{onClick:()=>s("system-admin"),icon:"",label:"System Admin"}),d.jsx(yi,{onClick:()=>s("user-management"),icon:"",label:"Users"}),d.jsx(yi,{onClick:()=>s("analytics"),icon:"",label:"Analytics"})]}),d.jsx(yi,{onClick:()=>s("settings"),icon:"",label:"Settings"})]})}),d.jsx("main",{className:"flex-1 bg-gray-50 overflow-x-auto",children:d.jsx("div",{className:"min-h-screen w-full p-4 sm:p-6 lg:p-8",children:d.jsx("div",{className:"max-w-full",children:d.jsx(YL,{currentView:t,user:n})})})})]})]})},yi=({active:n,onClick:e,icon:t,label:s})=>d.jsxs("button",{onClick:e,className:`w-full flex items-center space-x-2 sm:space-x-3 px-3 sm:px-4 py-2 sm:py-3 rounded-lg transition-all duration-200 text-left ${n?"bg-blue-50 border border-blue-200 text-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[d.jsx("span",{className:"text-base sm:text-lg flex-shrink-0",children:t}),d.jsx("span",{className:"font-medium text-sm sm:text-base truncate",children:s})]}),YL=({currentView:n,user:e})=>{if(n===`${e.role}-dashboard`)switch(e.role){case"citizen":return d.jsx(jx,{user:e});case"official":return d.jsx(lj,{user:e});case"analyst":return d.jsx(HL,{user:e});case"admin":case"Admin":return d.jsx(FL,{user:e});default:return d.jsx(jx,{user:e})}return n==="hazard-map"?d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Interactive Hazard Map"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Real-time visualization of ocean hazards across India's coastline."}),d.jsx(fh,{height:"600px"})]}):n==="report-hazard"?d.jsx(qL,{onClose:()=>{},onSubmit:t=>console.log("Report submitted:",t)}):n==="donations"?d.jsx($L,{user:e}):n==="settings"?d.jsx(GL,{user:e}):n==="social-media"?d.jsx(ZL,{user:e}):d.jsx("div",{children:d.jsxs("div",{className:"card text-center py-12",children:[d.jsx("div",{className:"text-6xl mb-4",children:""}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:n.replace("-"," ").replace(/\b\w/g,t=>t.toUpperCase())}),d.jsx("p",{className:"text-gray-600 mb-6",children:"This feature is being developed with advanced capabilities."}),d.jsxs("div",{className:"text-left max-w-md mx-auto",children:[d.jsx("h4",{className:"text-lg font-semibold text-blue-600 mb-3",children:"Coming Soon:"}),d.jsx("ul",{className:"space-y-2 text-gray-700",children:WL(n).map((t,s)=>d.jsxs("li",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"text-blue-600",children:""}),d.jsx("span",{children:t})]},s))})]})]})})},WL=n=>({"report-hazard":["Real-time GPS location","Photo/video uploads","AI-powered categorization"],"hazard-map":["Interactive 3D visualization","Real-time updates","Predictive modeling"],analytics:["Advanced data visualization","Machine learning insights","Custom reports"],"social-media":["Sentiment analysis","Real-time monitoring","Automated alerts"],emergency:["Automated response protocols","Resource optimization","Team coordination"],volunteers:["Skill-based matching","Real-time tracking","Performance analytics"]})[n]||["Enhanced functionality","Real-time updates","Advanced analytics"],QL=()=>{const[n,e]=na.useState(null),[t,s]=na.useState(!0);na.useEffect(()=>{const c=localStorage.getItem("user"),f=localStorage.getItem("token");if(c&&f)try{const y=JSON.parse(c);e(y)}catch{localStorage.clear()}s(!1)},[]);const o=()=>{e(null),localStorage.clear()};return t?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"loading mb-4"}),d.jsx("p",{className:"text-slate-400",children:"Initializing Taranga System..."})]})}):d.jsx(ZA,{children:d.jsxs("div",{className:"app-container",children:[d.jsx(G2,{position:"top-right",toastOptions:{duration:4e3,style:{background:"var(--background-card)",color:"var(--foreground)",border:"1px solid var(--border)",borderRadius:"var(--radius)",backdropFilter:"blur(10px)"}}}),d.jsxs(TA,{children:[d.jsx(Eg,{path:"/",element:n?d.jsx(KL,{user:n,onLogout:o}):d.jsx(bx,{to:"/login",replace:!0})}),d.jsx(Eg,{path:"/login",element:n?d.jsx(bx,{to:"/",replace:!0}):d.jsx($2,{})})]})]})})};MN.createRoot(document.getElementById("root")).render(d.jsx(na.StrictMode,{children:d.jsx(QL,{})}));
